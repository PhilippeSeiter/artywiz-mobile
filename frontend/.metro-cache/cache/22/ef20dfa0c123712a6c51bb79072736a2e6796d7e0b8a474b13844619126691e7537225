{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":52,"index":167}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"authApi\", {\n    enumerable: true,\n    get: function () {\n      return authApi;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  /**\n   * Authentication API service\n   * Handles user registration, login, and profile management via real backend\n   */\n\n  // Types matching backend models\n\n  // Auth API functions\n  const authApi = {\n    /**\n     * Register a new user\n     */\n    async register(data) {\n      const response = await _api.api.post('/users/register', data);\n\n      // Save tokens\n      await _api.tokenStorage.setTokens({\n        access_token: response.access_token,\n        refresh_token: response.refresh_token,\n        expires_in: response.expires_in\n      });\n      return response;\n    },\n    /**\n     * Login with email and password\n     */\n    async login(data) {\n      const response = await _api.api.post('/users/login', data);\n\n      // Save tokens\n      await _api.tokenStorage.setTokens({\n        access_token: response.access_token,\n        refresh_token: response.refresh_token,\n        expires_in: response.expires_in\n      });\n      return response;\n    },\n    /**\n     * Logout - clear tokens\n     */\n    async logout() {\n      await _api.tokenStorage.clearTokens();\n    },\n    /**\n     * Get current user profile\n     */\n    async getCurrentUser() {\n      return _api.api.get('/users/me');\n    },\n    /**\n     * Check if user is authenticated (has valid tokens)\n     */\n    async isAuthenticated() {\n      const tokens = await _api.tokenStorage.getTokens();\n      return !!tokens?.access_token;\n    },\n    /**\n     * Update user profile info\n     */\n    async updateProfile(data) {\n      return _api.api.put('/users/me', data);\n    },\n    /**\n     * Update user profiles (clubs, teams, etc.)\n     */\n    async updateProfiles(profiles, activeIndex = 0) {\n      return _api.api.put('/users/me/profiles', {\n        profiles,\n        active_profile_index: activeIndex\n      });\n    },\n    /**\n     * Update selected themes\n     */\n    async updateThemes(themes) {\n      return _api.api.put('/users/me/themes', {\n        themes\n      });\n    },\n    /**\n     * Complete onboarding\n     */\n    async completeOnboarding(profiles, themes) {\n      return _api.api.post('/users/me/complete-onboarding', {\n        profiles,\n        themes\n      });\n    },\n    /**\n     * Change password\n     */\n    async changePassword(currentPassword, newPassword) {\n      await _api.api.post('/users/me/change-password', {\n        current_password: currentPassword,\n        new_password: newPassword\n      });\n    },\n    /**\n     * Delete account\n     */\n    async deleteAccount() {\n      await _api.api.delete('/users/me');\n      await _api.tokenStorage.clearTokens();\n    },\n    /**\n     * Link OAuth provider\n     */\n    async linkOAuth(provider, providerUserId) {\n      await _api.api.post(`/users/me/link-oauth?provider=${provider}&provider_user_id=${providerUserId}`);\n    },\n    /**\n     * Unlink OAuth provider\n     */\n    async unlinkOAuth(provider) {\n      await _api.api.delete(`/users/me/unlink-oauth/${provider}`);\n    }\n  };\n});","lineCount":131,"map":[[7,2,57,0,"Object"],[7,8,57,0],[7,9,57,0,"defineProperty"],[7,23,57,0],[7,24,57,0,"exports"],[7,31,57,0],[8,4,57,0,"enumerable"],[8,14,57,0],[9,4,57,0,"get"],[9,7,57,0],[9,18,57,0,"get"],[9,19,57,0],[10,6,57,0],[10,13,57,0,"authApi"],[10,20,57,0],[11,4,57,0],[12,2,57,0],[13,2,5,0],[13,6,5,0,"_api"],[13,10,5,0],[13,13,5,0,"require"],[13,20,5,0],[13,21,5,0,"_dependencyMap"],[13,35,5,0],[14,2,1,0],[15,0,2,0],[16,0,3,0],[17,0,4,0],[19,2,7,0],[21,2,56,0],[22,2,57,7],[22,8,57,13,"authApi"],[22,15,57,20],[22,18,57,23],[23,4,58,2],[24,0,59,0],[25,0,60,0],[26,4,61,2],[26,10,61,8,"register"],[26,18,61,16,"register"],[26,19,61,17,"data"],[26,23,61,38],[26,25,61,63],[27,6,62,4],[27,12,62,10,"response"],[27,20,62,18],[27,23,62,21],[27,29,62,27,"api"],[27,33,62,30],[27,34,62,30,"api"],[27,37,62,30],[27,38,62,31,"post"],[27,42,62,35],[27,43,62,50],[27,60,62,67],[27,62,62,69,"data"],[27,66,62,73],[27,67,62,74],[29,6,64,4],[30,6,65,4],[30,12,65,10,"tokenStorage"],[30,16,65,22],[30,17,65,22,"tokenStorage"],[30,29,65,22],[30,30,65,23,"setTokens"],[30,39,65,32],[30,40,65,33],[31,8,66,6,"access_token"],[31,20,66,18],[31,22,66,20,"response"],[31,30,66,28],[31,31,66,29,"access_token"],[31,43,66,41],[32,8,67,6,"refresh_token"],[32,21,67,19],[32,23,67,21,"response"],[32,31,67,29],[32,32,67,30,"refresh_token"],[32,45,67,43],[33,8,68,6,"expires_in"],[33,18,68,16],[33,20,68,18,"response"],[33,28,68,26],[33,29,68,27,"expires_in"],[34,6,69,4],[34,7,69,5],[34,8,69,6],[35,6,71,4],[35,13,71,11,"response"],[35,21,71,19],[36,4,72,2],[36,5,72,3],[37,4,74,2],[38,0,75,0],[39,0,76,0],[40,4,77,2],[40,10,77,8,"login"],[40,15,77,13,"login"],[40,16,77,14,"data"],[40,20,77,32],[40,22,77,57],[41,6,78,4],[41,12,78,10,"response"],[41,20,78,18],[41,23,78,21],[41,29,78,27,"api"],[41,33,78,30],[41,34,78,30,"api"],[41,37,78,30],[41,38,78,31,"post"],[41,42,78,35],[41,43,78,50],[41,57,78,64],[41,59,78,66,"data"],[41,63,78,70],[41,64,78,71],[43,6,80,4],[44,6,81,4],[44,12,81,10,"tokenStorage"],[44,16,81,22],[44,17,81,22,"tokenStorage"],[44,29,81,22],[44,30,81,23,"setTokens"],[44,39,81,32],[44,40,81,33],[45,8,82,6,"access_token"],[45,20,82,18],[45,22,82,20,"response"],[45,30,82,28],[45,31,82,29,"access_token"],[45,43,82,41],[46,8,83,6,"refresh_token"],[46,21,83,19],[46,23,83,21,"response"],[46,31,83,29],[46,32,83,30,"refresh_token"],[46,45,83,43],[47,8,84,6,"expires_in"],[47,18,84,16],[47,20,84,18,"response"],[47,28,84,26],[47,29,84,27,"expires_in"],[48,6,85,4],[48,7,85,5],[48,8,85,6],[49,6,87,4],[49,13,87,11,"response"],[49,21,87,19],[50,4,88,2],[50,5,88,3],[51,4,90,2],[52,0,91,0],[53,0,92,0],[54,4,93,2],[54,10,93,8,"logout"],[54,16,93,14,"logout"],[54,17,93,14],[54,19,93,32],[55,6,94,4],[55,12,94,10,"tokenStorage"],[55,16,94,22],[55,17,94,22,"tokenStorage"],[55,29,94,22],[55,30,94,23,"clearTokens"],[55,41,94,34],[55,42,94,35],[55,43,94,36],[56,4,95,2],[56,5,95,3],[57,4,97,2],[58,0,98,0],[59,0,99,0],[60,4,100,2],[60,10,100,8,"getCurrentUser"],[60,24,100,22,"getCurrentUser"],[60,25,100,22],[60,27,100,40],[61,6,101,4],[61,13,101,11,"api"],[61,17,101,14],[61,18,101,14,"api"],[61,21,101,14],[61,22,101,15,"get"],[61,25,101,18],[61,26,101,25],[61,37,101,36],[61,38,101,37],[62,4,102,2],[62,5,102,3],[63,4,104,2],[64,0,105,0],[65,0,106,0],[66,4,107,2],[66,10,107,8,"isAuthenticated"],[66,25,107,23,"isAuthenticated"],[66,26,107,23],[66,28,107,44],[67,6,108,4],[67,12,108,10,"tokens"],[67,18,108,16],[67,21,108,19],[67,27,108,25,"tokenStorage"],[67,31,108,37],[67,32,108,37,"tokenStorage"],[67,44,108,37],[67,45,108,38,"getTokens"],[67,54,108,47],[67,55,108,48],[67,56,108,49],[68,6,109,4],[68,13,109,11],[68,14,109,12],[68,15,109,13,"tokens"],[68,21,109,19],[68,23,109,21,"access_token"],[68,35,109,33],[69,4,110,2],[69,5,110,3],[70,4,112,2],[71,0,113,0],[72,0,114,0],[73,4,115,2],[73,10,115,8,"updateProfile"],[73,23,115,21,"updateProfile"],[73,24,115,22,"data"],[73,28,115,78],[73,30,115,95],[74,6,116,4],[74,13,116,11,"api"],[74,17,116,14],[74,18,116,14,"api"],[74,21,116,14],[74,22,116,15,"put"],[74,25,116,18],[74,26,116,25],[74,37,116,36],[74,39,116,38,"data"],[74,43,116,42],[74,44,116,43],[75,4,117,2],[75,5,117,3],[76,4,119,2],[77,0,120,0],[78,0,121,0],[79,4,122,2],[79,10,122,8,"updateProfiles"],[79,24,122,22,"updateProfiles"],[79,25,122,23,"profiles"],[79,33,122,46],[79,35,122,48,"activeIndex"],[79,46,122,67],[79,49,122,70],[79,50,122,71],[79,52,122,88],[80,6,123,4],[80,13,123,11,"api"],[80,17,123,14],[80,18,123,14,"api"],[80,21,123,14],[80,22,123,15,"put"],[80,25,123,18],[80,26,123,25],[80,46,123,45],[80,48,123,47],[81,8,124,6,"profiles"],[81,16,124,14],[82,8,125,6,"active_profile_index"],[82,28,125,26],[82,30,125,28,"activeIndex"],[83,6,126,4],[83,7,126,5],[83,8,126,6],[84,4,127,2],[84,5,127,3],[85,4,129,2],[86,0,130,0],[87,0,131,0],[88,4,132,2],[88,10,132,8,"updateThemes"],[88,22,132,20,"updateThemes"],[88,23,132,21,"themes"],[88,29,132,37],[88,31,132,54],[89,6,133,4],[89,13,133,11,"api"],[89,17,133,14],[89,18,133,14,"api"],[89,21,133,14],[89,22,133,15,"put"],[89,25,133,18],[89,26,133,25],[89,44,133,43],[89,46,133,45],[90,8,133,47,"themes"],[91,6,133,54],[91,7,133,55],[91,8,133,56],[92,4,134,2],[92,5,134,3],[93,4,136,2],[94,0,137,0],[95,0,138,0],[96,4,139,2],[96,10,139,8,"completeOnboarding"],[96,28,139,26,"completeOnboarding"],[96,29,139,27,"profiles"],[96,37,139,50],[96,39,139,52,"themes"],[96,45,139,68],[96,47,139,85],[97,6,140,4],[97,13,140,11,"api"],[97,17,140,14],[97,18,140,14,"api"],[97,21,140,14],[97,22,140,15,"post"],[97,26,140,19],[97,27,140,26],[97,58,140,57],[97,60,140,59],[98,8,141,6,"profiles"],[98,16,141,14],[99,8,142,6,"themes"],[100,6,143,4],[100,7,143,5],[100,8,143,6],[101,4,144,2],[101,5,144,3],[102,4,146,2],[103,0,147,0],[104,0,148,0],[105,4,149,2],[105,10,149,8,"changePassword"],[105,24,149,22,"changePassword"],[105,25,149,23,"currentPassword"],[105,40,149,46],[105,42,149,48,"newPassword"],[105,53,149,67],[105,55,149,84],[106,6,150,4],[106,12,150,10,"api"],[106,16,150,13],[106,17,150,13,"api"],[106,20,150,13],[106,21,150,14,"post"],[106,25,150,18],[106,26,150,19],[106,53,150,46],[106,55,150,48],[107,8,151,6,"current_password"],[107,24,151,22],[107,26,151,24,"currentPassword"],[107,41,151,39],[108,8,152,6,"new_password"],[108,20,152,18],[108,22,152,20,"newPassword"],[109,6,153,4],[109,7,153,5],[109,8,153,6],[110,4,154,2],[110,5,154,3],[111,4,156,2],[112,0,157,0],[113,0,158,0],[114,4,159,2],[114,10,159,8,"deleteAccount"],[114,23,159,21,"deleteAccount"],[114,24,159,21],[114,26,159,39],[115,6,160,4],[115,12,160,10,"api"],[115,16,160,13],[115,17,160,13,"api"],[115,20,160,13],[115,21,160,14,"delete"],[115,27,160,20],[115,28,160,21],[115,39,160,32],[115,40,160,33],[116,6,161,4],[116,12,161,10,"tokenStorage"],[116,16,161,22],[116,17,161,22,"tokenStorage"],[116,29,161,22],[116,30,161,23,"clearTokens"],[116,41,161,34],[116,42,161,35],[116,43,161,36],[117,4,162,2],[117,5,162,3],[118,4,164,2],[119,0,165,0],[120,0,166,0],[121,4,167,2],[121,10,167,8,"linkOAuth"],[121,19,167,17,"linkOAuth"],[121,20,167,18,"provider"],[121,28,167,34],[121,30,167,36,"providerUserId"],[121,44,167,58],[121,46,167,75],[122,6,168,4],[122,12,168,10,"api"],[122,16,168,13],[122,17,168,13,"api"],[122,20,168,13],[122,21,168,14,"post"],[122,25,168,18],[122,26,168,19],[122,59,168,52,"provider"],[122,67,168,60],[122,88,168,81,"providerUserId"],[122,102,168,95],[122,104,168,97],[122,105,168,98],[123,4,169,2],[123,5,169,3],[124,4,171,2],[125,0,172,0],[126,0,173,0],[127,4,174,2],[127,10,174,8,"unlinkOAuth"],[127,21,174,19,"unlinkOAuth"],[127,22,174,20,"provider"],[127,30,174,36],[127,32,174,53],[128,6,175,4],[128,12,175,10,"api"],[128,16,175,13],[128,17,175,13,"api"],[128,20,175,13],[128,21,175,14,"delete"],[128,27,175,20],[128,28,175,21],[128,54,175,47,"provider"],[128,62,175,55],[128,64,175,57],[128,65,175,58],[129,4,176,2],[130,2,177,0],[130,3,177,1],[131,0,177,2],[131,3]],"functionMap":{"names":["<global>","authApi.register","authApi.login","authApi.logout","authApi.getCurrentUser","authApi.isAuthenticated","authApi.updateProfile","authApi.updateProfiles","authApi.updateThemes","authApi.completeOnboarding","authApi.changePassword","authApi.deleteAccount","authApi.linkOAuth","authApi.unlinkOAuth"],"mappings":"AAA;EC4D;GDW;EEK;GFW;EGK;GHE;EIK;GJE;EKK;GLG;EMK;GNE;EOK;GPK;EQK;GRE;ESK;GTK;EUK;GVK;EWK;GXG;EYK;GZE;EaK;GbE"},"hasCjsExports":false},"type":"js/module"}]}