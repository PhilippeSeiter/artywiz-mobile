{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":130},"end":{"line":5,"column":69,"index":199}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":241},"end":{"line":7,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"tokenStorage\", {\n    enumerable: true,\n    get: function () {\n      return tokenStorage;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Centralized API client for Artywiz\n   * Handles all HTTP requests with authentication, error handling, and token refresh\n   */\n\n  // Types\n\n  // Storage keys\n  const TOKEN_KEY = '@artywiz_tokens';\n\n  // Get base URL from environment\n  const getBaseUrl = () => {\n    // For web\n    if (Platform.default.OS === 'web') {\n      // Check if we're on localhost (development/testing)\n      if (false && window.location) {\n        const host = window.location.hostname;\n        if (host === 'localhost' || host === '127.0.0.1') {\n          // In local development, call backend directly\n          return 'http://localhost:8001/api';\n        }\n      }\n      // In production preview, use relative path (handled by Kubernetes ingress)\n      return '/api';\n    }\n\n    // For native (Expo Go), use environment variable\n    const envUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      // Add /api if not already present\n      return envUrl.endsWith('/api') ? envUrl : `${envUrl}/api`;\n    }\n\n    // Default fallback for local development\n    return 'http://localhost:8001/api';\n  };\n  const BASE_URL = getBaseUrl();\n\n  // Token storage helpers\n  const storage = {\n    async getTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          const data = window.localStorage.getItem(TOKEN_KEY);\n          return data ? JSON.parse(data) : null;\n        }\n        const data = await AsyncStorage.default.getItem(TOKEN_KEY);\n        return data ? JSON.parse(data) : null;\n      } catch {\n        return null;\n      }\n    },\n    async setTokens(tokens) {\n      try {\n        const data = JSON.stringify(tokens);\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.setItem(TOKEN_KEY, data);\n          return;\n        }\n        await AsyncStorage.default.setItem(TOKEN_KEY, data);\n      } catch (error) {\n        console.error('Failed to save tokens:', error);\n      }\n    },\n    async clearTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.removeItem(TOKEN_KEY);\n          return;\n        }\n        await AsyncStorage.default.removeItem(TOKEN_KEY);\n      } catch (error) {\n        console.error('Failed to clear tokens:', error);\n      }\n    }\n  };\n\n  // API Client class\n  class ApiClient {\n    isRefreshing = false;\n    refreshPromise = null;\n\n    /**\n     * Make an authenticated request\n     */\n    async request(endpoint, options = {}) {\n      const tokens = await storage.getTokens();\n      const headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (tokens?.access_token) {\n        headers['Authorization'] = `Bearer ${tokens.access_token}`;\n      }\n      const url = `${BASE_URL}${endpoint}`;\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers\n        });\n\n        // Handle 401 - try to refresh token\n        if (response.status === 401 && tokens?.refresh_token) {\n          const newTokens = await this.refreshTokens(tokens.refresh_token);\n          if (newTokens) {\n            // Retry request with new token\n            headers['Authorization'] = `Bearer ${newTokens.access_token}`;\n            const retryResponse = await fetch(url, {\n              ...options,\n              headers\n            });\n            return this.handleResponse(retryResponse);\n          }\n        }\n        return this.handleResponse(response);\n      } catch (error) {\n        console.error('API request error:', error);\n        throw {\n          message: 'Erreur de connexion au serveur',\n          status: 0\n        };\n      }\n    }\n\n    /**\n     * Handle response and errors\n     */\n    async handleResponse(response) {\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw {\n          message: errorData.detail || errorData.message || 'Une erreur est survenue',\n          status: response.status,\n          detail: errorData.detail\n        };\n      }\n\n      // Handle empty response\n      const text = await response.text();\n      if (!text) return {};\n      return JSON.parse(text);\n    }\n\n    /**\n     * Refresh access token\n     */\n    async refreshTokens(refreshToken) {\n      // Prevent multiple simultaneous refresh requests\n      if (this.isRefreshing) {\n        return this.refreshPromise;\n      }\n      this.isRefreshing = true;\n      this.refreshPromise = this.doRefresh(refreshToken);\n      try {\n        return await this.refreshPromise;\n      } finally {\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n      }\n    }\n    async doRefresh(refreshToken) {\n      try {\n        const response = await fetch(`${BASE_URL}/users/refresh`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            refresh_token: refreshToken\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          const tokens = {\n            access_token: data.access_token,\n            refresh_token: data.refresh_token,\n            expires_in: data.expires_in\n          };\n          await storage.setTokens(tokens);\n          return tokens;\n        }\n      } catch (error) {\n        console.error('Token refresh failed:', error);\n      }\n\n      // Clear tokens on refresh failure\n      await storage.clearTokens();\n      return null;\n    }\n\n    // Convenience methods\n    get(endpoint) {\n      return this.request(endpoint, {\n        method: 'GET'\n      });\n    }\n    post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n\n  // Export singleton instance\n  const api = new ApiClient();\n\n  // Export storage for auth store\n  const tokenStorage = storage;\n});","lineCount":250,"map":[[12,2,245,0,"Object"],[12,8,245,0],[12,9,245,0,"defineProperty"],[12,23,245,0],[12,24,245,0,"exports"],[12,31,245,0],[13,4,245,0,"enumerable"],[13,14,245,0],[14,4,245,0,"get"],[14,7,245,0],[14,18,245,0,"get"],[14,19,245,0],[15,6,245,0],[15,13,245,0,"api"],[15,16,245,0],[16,4,245,0],[17,2,245,0],[18,2,248,0,"Object"],[18,8,248,0],[18,9,248,0,"defineProperty"],[18,23,248,0],[18,24,248,0,"exports"],[18,31,248,0],[19,4,248,0,"enumerable"],[19,14,248,0],[20,4,248,0,"get"],[20,7,248,0],[20,18,248,0,"get"],[20,19,248,0],[21,6,248,0],[21,13,248,0,"tokenStorage"],[21,25,248,0],[22,4,248,0],[23,2,248,0],[24,2,5,0],[24,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,5,0],[24,45,5,0,"require"],[24,52,5,0],[24,53,5,0,"_dependencyMap"],[24,67,5,0],[25,2,5,0],[25,6,5,0,"AsyncStorage"],[25,18,5,0],[25,21,5,0,"_interopDefault"],[25,36,5,0],[25,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,5,0],[26,2,5,69],[26,6,5,69,"_reactNativeWebDistExportsPlatform"],[26,40,5,69],[26,43,5,69,"require"],[26,50,5,69],[26,51,5,69,"_dependencyMap"],[26,65,5,69],[27,2,5,69],[27,6,5,69,"Platform"],[27,14,5,69],[27,17,5,69,"_interopDefault"],[27,32,5,69],[27,33,5,69,"_reactNativeWebDistExportsPlatform"],[27,67,5,69],[28,2,7,0],[28,6,7,0,"_expoConstants"],[28,20,7,0],[28,23,7,0,"require"],[28,30,7,0],[28,31,7,0,"_dependencyMap"],[28,45,7,0],[29,2,7,0],[29,6,7,0,"Constants"],[29,15,7,0],[29,18,7,0,"_interopDefault"],[29,33,7,0],[29,34,7,0,"_expoConstants"],[29,48,7,0],[30,2,1,0],[31,0,2,0],[32,0,3,0],[33,0,4,0],[35,2,9,0],[37,2,22,0],[38,2,23,0],[38,8,23,6,"TOKEN_KEY"],[38,17,23,15],[38,20,23,18],[38,37,23,35],[40,2,25,0],[41,2,26,0],[41,8,26,6,"getBaseUrl"],[41,18,26,16],[41,21,26,19,"getBaseUrl"],[41,22,26,19],[41,27,26,33],[42,4,27,2],[43,4,28,2],[43,8,28,6,"Platform"],[43,16,28,14],[43,17,28,14,"default"],[43,24,28,14],[43,25,28,15,"OS"],[43,27,28,17],[43,32,28,22],[43,37,28,27],[43,39,28,29],[44,6,29,4],[45,6,30,4],[45,10,30,8],[45,19,30,41,"window"],[45,25,30,47],[45,26,30,48,"location"],[45,34,30,56],[45,36,30,58],[46,8,31,6],[46,14,31,12,"host"],[46,18,31,16],[46,21,31,19,"window"],[46,27,31,25],[46,28,31,26,"location"],[46,36,31,34],[46,37,31,35,"hostname"],[46,45,31,43],[47,8,32,6],[47,12,32,10,"host"],[47,16,32,14],[47,21,32,19],[47,32,32,30],[47,36,32,34,"host"],[47,40,32,38],[47,45,32,43],[47,56,32,54],[47,58,32,56],[48,10,33,8],[49,10,34,8],[49,17,34,15],[49,44,34,42],[50,8,35,6],[51,6,36,4],[52,6,37,4],[53,6,38,4],[53,13,38,11],[53,19,38,17],[54,4,39,2],[56,4,41,2],[57,4,42,2],[57,10,42,8,"envUrl"],[57,16,42,14],[57,19,42,17,"Constants"],[57,28,42,26],[57,29,42,26,"default"],[57,36,42,26],[57,37,42,27,"expoConfig"],[57,47,42,37],[57,49,42,39,"extra"],[57,54,42,44],[57,56,42,46,"backendUrl"],[57,66,42,56],[57,70,43,7,"process"],[57,77,43,14],[57,78,43,15,"env"],[57,81,43,18],[57,82,43,19,"EXPO_PUBLIC_BACKEND_URL"],[57,105,43,42],[58,4,45,2],[58,8,45,6,"envUrl"],[58,14,45,12],[58,16,45,14],[59,6,46,4],[60,6,47,4],[60,13,47,11,"envUrl"],[60,19,47,17],[60,20,47,18,"endsWith"],[60,28,47,26],[60,29,47,27],[60,35,47,33],[60,36,47,34],[60,39,47,37,"envUrl"],[60,45,47,43],[60,48,47,46],[60,51,47,49,"envUrl"],[60,57,47,55],[60,63,47,61],[61,4,48,2],[63,4,50,2],[64,4,51,2],[64,11,51,9],[64,38,51,36],[65,2,52,0],[65,3,52,1],[66,2,54,0],[66,8,54,6,"BASE_URL"],[66,16,54,14],[66,19,54,17,"getBaseUrl"],[66,29,54,27],[66,30,54,28],[66,31,54,29],[68,2,56,0],[69,2,57,0],[69,8,57,6,"storage"],[69,15,57,13],[69,18,57,16],[70,4,58,2],[70,10,58,8,"getTokens"],[70,19,58,17,"getTokens"],[70,20,58,17],[70,22,58,47],[71,6,59,4],[71,10,59,8],[72,8,60,6],[72,12,60,10,"Platform"],[72,20,60,18],[72,21,60,18,"default"],[72,28,60,18],[72,29,60,19,"OS"],[72,31,60,21],[72,36,60,26],[72,41,60,31],[72,50,60,64],[72,54,60,68,"window"],[72,60,60,74],[72,61,60,75,"localStorage"],[72,73,60,87],[72,75,60,89],[73,10,61,8],[73,16,61,14,"data"],[73,20,61,18],[73,23,61,21,"window"],[73,29,61,27],[73,30,61,28,"localStorage"],[73,42,61,40],[73,43,61,41,"getItem"],[73,50,61,48],[73,51,61,49,"TOKEN_KEY"],[73,60,61,58],[73,61,61,59],[74,10,62,8],[74,17,62,15,"data"],[74,21,62,19],[74,24,62,22,"JSON"],[74,28,62,26],[74,29,62,27,"parse"],[74,34,62,32],[74,35,62,33,"data"],[74,39,62,37],[74,40,62,38],[74,43,62,41],[74,47,62,45],[75,8,63,6],[76,8,64,6],[76,14,64,12,"data"],[76,18,64,16],[76,21,64,19],[76,27,64,25,"AsyncStorage"],[76,39,64,37],[76,40,64,37,"default"],[76,47,64,37],[76,48,64,38,"getItem"],[76,55,64,45],[76,56,64,46,"TOKEN_KEY"],[76,65,64,55],[76,66,64,56],[77,8,65,6],[77,15,65,13,"data"],[77,19,65,17],[77,22,65,20,"JSON"],[77,26,65,24],[77,27,65,25,"parse"],[77,32,65,30],[77,33,65,31,"data"],[77,37,65,35],[77,38,65,36],[77,41,65,39],[77,45,65,43],[78,6,66,4],[78,7,66,5],[78,8,66,6],[78,14,66,12],[79,8,67,6],[79,15,67,13],[79,19,67,17],[80,6,68,4],[81,4,69,2],[81,5,69,3],[82,4,71,2],[82,10,71,8,"setTokens"],[82,19,71,17,"setTokens"],[82,20,71,18,"tokens"],[82,26,71,35],[82,28,71,52],[83,6,72,4],[83,10,72,8],[84,8,73,6],[84,14,73,12,"data"],[84,18,73,16],[84,21,73,19,"JSON"],[84,25,73,23],[84,26,73,24,"stringify"],[84,35,73,33],[84,36,73,34,"tokens"],[84,42,73,40],[84,43,73,41],[85,8,74,6],[85,12,74,10,"Platform"],[85,20,74,18],[85,21,74,18,"default"],[85,28,74,18],[85,29,74,19,"OS"],[85,31,74,21],[85,36,74,26],[85,41,74,31],[85,50,74,64],[85,54,74,68,"window"],[85,60,74,74],[85,61,74,75,"localStorage"],[85,73,74,87],[85,75,74,89],[86,10,75,8,"window"],[86,16,75,14],[86,17,75,15,"localStorage"],[86,29,75,27],[86,30,75,28,"setItem"],[86,37,75,35],[86,38,75,36,"TOKEN_KEY"],[86,47,75,45],[86,49,75,47,"data"],[86,53,75,51],[86,54,75,52],[87,10,76,8],[88,8,77,6],[89,8,78,6],[89,14,78,12,"AsyncStorage"],[89,26,78,24],[89,27,78,24,"default"],[89,34,78,24],[89,35,78,25,"setItem"],[89,42,78,32],[89,43,78,33,"TOKEN_KEY"],[89,52,78,42],[89,54,78,44,"data"],[89,58,78,48],[89,59,78,49],[90,6,79,4],[90,7,79,5],[90,8,79,6],[90,15,79,13,"error"],[90,20,79,18],[90,22,79,20],[91,8,80,6,"console"],[91,15,80,13],[91,16,80,14,"error"],[91,21,80,19],[91,22,80,20],[91,46,80,44],[91,48,80,46,"error"],[91,53,80,51],[91,54,80,52],[92,6,81,4],[93,4,82,2],[93,5,82,3],[94,4,84,2],[94,10,84,8,"clearTokens"],[94,21,84,19,"clearTokens"],[94,22,84,19],[94,24,84,37],[95,6,85,4],[95,10,85,8],[96,8,86,6],[96,12,86,10,"Platform"],[96,20,86,18],[96,21,86,18,"default"],[96,28,86,18],[96,29,86,19,"OS"],[96,31,86,21],[96,36,86,26],[96,41,86,31],[96,50,86,64],[96,54,86,68,"window"],[96,60,86,74],[96,61,86,75,"localStorage"],[96,73,86,87],[96,75,86,89],[97,10,87,8,"window"],[97,16,87,14],[97,17,87,15,"localStorage"],[97,29,87,27],[97,30,87,28,"removeItem"],[97,40,87,38],[97,41,87,39,"TOKEN_KEY"],[97,50,87,48],[97,51,87,49],[98,10,88,8],[99,8,89,6],[100,8,90,6],[100,14,90,12,"AsyncStorage"],[100,26,90,24],[100,27,90,24,"default"],[100,34,90,24],[100,35,90,25,"removeItem"],[100,45,90,35],[100,46,90,36,"TOKEN_KEY"],[100,55,90,45],[100,56,90,46],[101,6,91,4],[101,7,91,5],[101,8,91,6],[101,15,91,13,"error"],[101,20,91,18],[101,22,91,20],[102,8,92,6,"console"],[102,15,92,13],[102,16,92,14,"error"],[102,21,92,19],[102,22,92,20],[102,47,92,45],[102,49,92,47,"error"],[102,54,92,52],[102,55,92,53],[103,6,93,4],[104,4,94,2],[105,2,95,0],[105,3,95,1],[107,2,97,0],[108,2,98,0],[108,8,98,6,"ApiClient"],[108,17,98,15],[108,18,98,16],[109,4,99,10,"isRefreshing"],[109,16,99,22],[109,19,99,25],[109,24,99,30],[110,4,100,10,"refreshPromise"],[110,18,100,24],[110,21,100,61],[110,25,100,65],[112,4,102,2],[113,0,103,0],[114,0,104,0],[115,4,105,2],[115,10,105,8,"request"],[115,17,105,15,"request"],[115,18,106,4,"endpoint"],[115,26,106,20],[115,28,107,4,"options"],[115,35,107,24],[115,38,107,27],[115,39,107,28],[115,40,107,29],[115,42,108,16],[116,6,109,4],[116,12,109,10,"tokens"],[116,18,109,16],[116,21,109,19],[116,27,109,25,"storage"],[116,34,109,32],[116,35,109,33,"getTokens"],[116,44,109,42],[116,45,109,43],[116,46,109,44],[117,6,111,4],[117,12,111,10,"headers"],[117,19,111,41],[117,22,111,44],[118,8,112,6],[118,22,112,20],[118,24,112,22],[118,42,112,40],[119,8,113,6],[119,12,113,11,"options"],[119,19,113,18],[119,20,113,19,"headers"],[119,27,113,26],[119,31,113,57],[119,32,113,58],[119,33,113,59],[120,6,114,4],[120,7,114,5],[121,6,116,4],[121,10,116,8,"tokens"],[121,16,116,14],[121,18,116,16,"access_token"],[121,30,116,28],[121,32,116,30],[122,8,117,6,"headers"],[122,15,117,13],[122,16,117,14],[122,31,117,29],[122,32,117,30],[122,35,117,33],[122,45,117,43,"tokens"],[122,51,117,49],[122,52,117,50,"access_token"],[122,64,117,62],[122,66,117,64],[123,6,118,4],[124,6,120,4],[124,12,120,10,"url"],[124,15,120,13],[124,18,120,16],[124,21,120,19,"BASE_URL"],[124,29,120,27],[124,32,120,30,"endpoint"],[124,40,120,38],[124,42,120,40],[125,6,122,4],[125,10,122,8],[126,8,123,6],[126,14,123,12,"response"],[126,22,123,20],[126,25,123,23],[126,31,123,29,"fetch"],[126,36,123,34],[126,37,123,35,"url"],[126,40,123,38],[126,42,123,40],[127,10,124,8],[127,13,124,11,"options"],[127,20,124,18],[128,10,125,8,"headers"],[129,8,126,6],[129,9,126,7],[129,10,126,8],[131,8,128,6],[132,8,129,6],[132,12,129,10,"response"],[132,20,129,18],[132,21,129,19,"status"],[132,27,129,25],[132,32,129,30],[132,35,129,33],[132,39,129,37,"tokens"],[132,45,129,43],[132,47,129,45,"refresh_token"],[132,60,129,58],[132,62,129,60],[133,10,130,8],[133,16,130,14,"newTokens"],[133,25,130,23],[133,28,130,26],[133,34,130,32],[133,38,130,36],[133,39,130,37,"refreshTokens"],[133,52,130,50],[133,53,130,51,"tokens"],[133,59,130,57],[133,60,130,58,"refresh_token"],[133,73,130,71],[133,74,130,72],[134,10,132,8],[134,14,132,12,"newTokens"],[134,23,132,21],[134,25,132,23],[135,12,133,10],[136,12,134,10,"headers"],[136,19,134,17],[136,20,134,18],[136,35,134,33],[136,36,134,34],[136,39,134,37],[136,49,134,47,"newTokens"],[136,58,134,56],[136,59,134,57,"access_token"],[136,71,134,69],[136,73,134,71],[137,12,135,10],[137,18,135,16,"retryResponse"],[137,31,135,29],[137,34,135,32],[137,40,135,38,"fetch"],[137,45,135,43],[137,46,135,44,"url"],[137,49,135,47],[137,51,135,49],[138,14,136,12],[138,17,136,15,"options"],[138,24,136,22],[139,14,137,12,"headers"],[140,12,138,10],[140,13,138,11],[140,14,138,12],[141,12,139,10],[141,19,139,17],[141,23,139,21],[141,24,139,22,"handleResponse"],[141,38,139,36],[141,39,139,40,"retryResponse"],[141,52,139,53],[141,53,139,54],[142,10,140,8],[143,8,141,6],[144,8,143,6],[144,15,143,13],[144,19,143,17],[144,20,143,18,"handleResponse"],[144,34,143,32],[144,35,143,36,"response"],[144,43,143,44],[144,44,143,45],[145,6,144,4],[145,7,144,5],[145,8,144,6],[145,15,144,13,"error"],[145,20,144,18],[145,22,144,20],[146,8,145,6,"console"],[146,15,145,13],[146,16,145,14,"error"],[146,21,145,19],[146,22,145,20],[146,42,145,40],[146,44,145,42,"error"],[146,49,145,47],[146,50,145,48],[147,8,146,6],[147,14,146,12],[148,10,147,8,"message"],[148,17,147,15],[148,19,147,17],[148,51,147,49],[149,10,148,8,"status"],[149,16,148,14],[149,18,148,16],[150,8,149,6],[150,9,149,7],[151,6,150,4],[152,4,151,2],[154,4,153,2],[155,0,154,0],[156,0,155,0],[157,4,156,2],[157,10,156,16,"handleResponse"],[157,24,156,30,"handleResponse"],[157,25,156,34,"response"],[157,33,156,52],[157,35,156,66],[158,6,157,4],[158,10,157,8],[158,11,157,9,"response"],[158,19,157,17],[158,20,157,18,"ok"],[158,22,157,20],[158,24,157,22],[159,8,158,6],[159,14,158,12,"errorData"],[159,23,158,21],[159,26,158,24],[159,32,158,30,"response"],[159,40,158,38],[159,41,158,39,"json"],[159,45,158,43],[159,46,158,44],[159,47,158,45],[159,48,158,46,"catch"],[159,53,158,51],[159,54,158,52],[159,61,158,59],[159,62,158,60],[159,63,158,61],[159,64,158,62],[159,65,158,63],[160,8,159,6],[160,14,159,12],[161,10,160,8,"message"],[161,17,160,15],[161,19,160,17,"errorData"],[161,28,160,26],[161,29,160,27,"detail"],[161,35,160,33],[161,39,160,37,"errorData"],[161,48,160,46],[161,49,160,47,"message"],[161,56,160,54],[161,60,160,58],[161,85,160,83],[162,10,161,8,"status"],[162,16,161,14],[162,18,161,16,"response"],[162,26,161,24],[162,27,161,25,"status"],[162,33,161,31],[163,10,162,8,"detail"],[163,16,162,14],[163,18,162,16,"errorData"],[163,27,162,25],[163,28,162,26,"detail"],[164,8,163,6],[164,9,163,7],[165,6,164,4],[167,6,166,4],[168,6,167,4],[168,12,167,10,"text"],[168,16,167,14],[168,19,167,17],[168,25,167,23,"response"],[168,33,167,31],[168,34,167,32,"text"],[168,38,167,36],[168,39,167,37],[168,40,167,38],[169,6,168,4],[169,10,168,8],[169,11,168,9,"text"],[169,15,168,13],[169,17,168,15],[169,24,168,22],[169,25,168,23],[169,26,168,24],[170,6,170,4],[170,13,170,11,"JSON"],[170,17,170,15],[170,18,170,16,"parse"],[170,23,170,21],[170,24,170,22,"text"],[170,28,170,26],[170,29,170,27],[171,4,171,2],[173,4,173,2],[174,0,174,0],[175,0,175,0],[176,4,176,2],[176,10,176,16,"refreshTokens"],[176,23,176,29,"refreshTokens"],[176,24,176,30,"refreshToken"],[176,36,176,50],[176,38,176,79],[177,6,177,4],[178,6,178,4],[178,10,178,8],[178,14,178,12],[178,15,178,13,"isRefreshing"],[178,27,178,25],[178,29,178,27],[179,8,179,6],[179,15,179,13],[179,19,179,17],[179,20,179,18,"refreshPromise"],[179,34,179,32],[180,6,180,4],[181,6,182,4],[181,10,182,8],[181,11,182,9,"isRefreshing"],[181,23,182,21],[181,26,182,24],[181,30,182,28],[182,6,183,4],[182,10,183,8],[182,11,183,9,"refreshPromise"],[182,25,183,23],[182,28,183,26],[182,32,183,30],[182,33,183,31,"doRefresh"],[182,42,183,40],[182,43,183,41,"refreshToken"],[182,55,183,53],[182,56,183,54],[183,6,185,4],[183,10,185,8],[184,8,186,6],[184,15,186,13],[184,21,186,19],[184,25,186,23],[184,26,186,24,"refreshPromise"],[184,40,186,38],[185,6,187,4],[185,7,187,5],[185,16,187,14],[186,8,188,6],[186,12,188,10],[186,13,188,11,"isRefreshing"],[186,25,188,23],[186,28,188,26],[186,33,188,31],[187,8,189,6],[187,12,189,10],[187,13,189,11,"refreshPromise"],[187,27,189,25],[187,30,189,28],[187,34,189,32],[188,6,190,4],[189,4,191,2],[190,4,193,2],[190,10,193,16,"doRefresh"],[190,19,193,25,"doRefresh"],[190,20,193,26,"refreshToken"],[190,32,193,46],[190,34,193,75],[191,6,194,4],[191,10,194,8],[192,8,195,6],[192,14,195,12,"response"],[192,22,195,20],[192,25,195,23],[192,31,195,29,"fetch"],[192,36,195,34],[192,37,195,35],[192,40,195,38,"BASE_URL"],[192,48,195,46],[192,64,195,62],[192,66,195,64],[193,10,196,8,"method"],[193,16,196,14],[193,18,196,16],[193,24,196,22],[194,10,197,8,"headers"],[194,17,197,15],[194,19,197,17],[195,12,197,19],[195,26,197,33],[195,28,197,35],[196,10,197,54],[196,11,197,55],[197,10,198,8,"body"],[197,14,198,12],[197,16,198,14,"JSON"],[197,20,198,18],[197,21,198,19,"stringify"],[197,30,198,28],[197,31,198,29],[198,12,198,31,"refresh_token"],[198,25,198,44],[198,27,198,46,"refreshToken"],[199,10,198,59],[199,11,198,60],[200,8,199,6],[200,9,199,7],[200,10,199,8],[201,8,201,6],[201,12,201,10,"response"],[201,20,201,18],[201,21,201,19,"ok"],[201,23,201,21],[201,25,201,23],[202,10,202,8],[202,16,202,14,"data"],[202,20,202,18],[202,23,202,21],[202,29,202,27,"response"],[202,37,202,35],[202,38,202,36,"json"],[202,42,202,40],[202,43,202,41],[202,44,202,42],[203,10,203,8],[203,16,203,14,"tokens"],[203,22,203,31],[203,25,203,34],[204,12,204,10,"access_token"],[204,24,204,22],[204,26,204,24,"data"],[204,30,204,28],[204,31,204,29,"access_token"],[204,43,204,41],[205,12,205,10,"refresh_token"],[205,25,205,23],[205,27,205,25,"data"],[205,31,205,29],[205,32,205,30,"refresh_token"],[205,45,205,43],[206,12,206,10,"expires_in"],[206,22,206,20],[206,24,206,22,"data"],[206,28,206,26],[206,29,206,27,"expires_in"],[207,10,207,8],[207,11,207,9],[208,10,208,8],[208,16,208,14,"storage"],[208,23,208,21],[208,24,208,22,"setTokens"],[208,33,208,31],[208,34,208,32,"tokens"],[208,40,208,38],[208,41,208,39],[209,10,209,8],[209,17,209,15,"tokens"],[209,23,209,21],[210,8,210,6],[211,6,211,4],[211,7,211,5],[211,8,211,6],[211,15,211,13,"error"],[211,20,211,18],[211,22,211,20],[212,8,212,6,"console"],[212,15,212,13],[212,16,212,14,"error"],[212,21,212,19],[212,22,212,20],[212,45,212,43],[212,47,212,45,"error"],[212,52,212,50],[212,53,212,51],[213,6,213,4],[215,6,215,4],[216,6,216,4],[216,12,216,10,"storage"],[216,19,216,17],[216,20,216,18,"clearTokens"],[216,31,216,29],[216,32,216,30],[216,33,216,31],[217,6,217,4],[217,13,217,11],[217,17,217,15],[218,4,218,2],[220,4,220,2],[221,4,221,2,"get"],[221,7,221,5,"get"],[221,8,221,9,"endpoint"],[221,16,221,25],[221,18,221,39],[222,6,222,4],[222,13,222,11],[222,17,222,15],[222,18,222,16,"request"],[222,25,222,23],[222,26,222,27,"endpoint"],[222,34,222,35],[222,36,222,37],[223,8,222,39,"method"],[223,14,222,45],[223,16,222,47],[224,6,222,53],[224,7,222,54],[224,8,222,55],[225,4,223,2],[226,4,225,2,"post"],[226,8,225,6,"post"],[226,9,225,10,"endpoint"],[226,17,225,26],[226,19,225,28,"data"],[226,23,225,42],[226,25,225,56],[227,6,226,4],[227,13,226,11],[227,17,226,15],[227,18,226,16,"request"],[227,25,226,23],[227,26,226,27,"endpoint"],[227,34,226,35],[227,36,226,37],[228,8,227,6,"method"],[228,14,227,12],[228,16,227,14],[228,22,227,20],[229,8,228,6,"body"],[229,12,228,10],[229,14,228,12,"data"],[229,18,228,16],[229,21,228,19,"JSON"],[229,25,228,23],[229,26,228,24,"stringify"],[229,35,228,33],[229,36,228,34,"data"],[229,40,228,38],[229,41,228,39],[229,44,228,42,"undefined"],[230,6,229,4],[230,7,229,5],[230,8,229,6],[231,4,230,2],[232,4,232,2,"put"],[232,7,232,5,"put"],[232,8,232,9,"endpoint"],[232,16,232,25],[232,18,232,27,"data"],[232,22,232,41],[232,24,232,55],[233,6,233,4],[233,13,233,11],[233,17,233,15],[233,18,233,16,"request"],[233,25,233,23],[233,26,233,27,"endpoint"],[233,34,233,35],[233,36,233,37],[234,8,234,6,"method"],[234,14,234,12],[234,16,234,14],[234,21,234,19],[235,8,235,6,"body"],[235,12,235,10],[235,14,235,12,"data"],[235,18,235,16],[235,21,235,19,"JSON"],[235,25,235,23],[235,26,235,24,"stringify"],[235,35,235,33],[235,36,235,34,"data"],[235,40,235,38],[235,41,235,39],[235,44,235,42,"undefined"],[236,6,236,4],[236,7,236,5],[236,8,236,6],[237,4,237,2],[238,4,239,2,"delete"],[238,10,239,8,"delete"],[238,11,239,12,"endpoint"],[238,19,239,28],[238,21,239,42],[239,6,240,4],[239,13,240,11],[239,17,240,15],[239,18,240,16,"request"],[239,25,240,23],[239,26,240,27,"endpoint"],[239,34,240,35],[239,36,240,37],[240,8,240,39,"method"],[240,14,240,45],[240,16,240,47],[241,6,240,56],[241,7,240,57],[241,8,240,58],[242,4,241,2],[243,2,242,0],[245,2,244,0],[246,2,245,7],[246,8,245,13,"api"],[246,11,245,16],[246,14,245,19],[246,18,245,23,"ApiClient"],[246,27,245,32],[246,28,245,33],[246,29,245,34],[248,2,247,0],[249,2,248,7],[249,8,248,13,"tokenStorage"],[249,20,248,25],[249,23,248,28,"storage"],[249,30,248,35],[250,0,248,36],[250,3]],"functionMap":{"names":["<global>","getBaseUrl","storage.getTokens","storage.setTokens","storage.clearTokens","ApiClient","ApiClient#request","ApiClient#handleResponse","response.json._catch$argument_0","ApiClient#refreshTokens","ApiClient#doRefresh","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;mBCyB;CD0B;EEM;GFW;EGE;GHW;EIE;GJU;AKI;ECO;GD8C;EEK;oDCE,UD;GFa;EIK;GJe;EKE;GLyB;EMG;GNE;EOE;GPK;EQE;GRK;ESE;GTE;CLC"},"hasCjsExports":false},"type":"js/module"}]}