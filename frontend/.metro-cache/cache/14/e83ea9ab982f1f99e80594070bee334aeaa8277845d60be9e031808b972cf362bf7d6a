{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":130},"end":{"line":5,"column":69,"index":199}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":241},"end":{"line":7,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"tokenStorage\", {\n    enumerable: true,\n    get: function () {\n      return tokenStorage;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Centralized API client for Artywiz\n   * Handles all HTTP requests with authentication, error handling, and token refresh\n   */\n\n  // Types\n\n  // Storage keys\n  const TOKEN_KEY = '@artywiz_tokens';\n\n  // Get base URL from environment\n  const getBaseUrl = () => {\n    // Use environment variable or fallback\n    const envUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) return envUrl;\n\n    // Default for development\n    if (Platform.default.OS === 'web') {\n      return '/api';\n    }\n    return 'http://localhost:8001/api';\n  };\n  const BASE_URL = getBaseUrl();\n\n  // Token storage helpers\n  const storage = {\n    async getTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          const data = window.localStorage.getItem(TOKEN_KEY);\n          return data ? JSON.parse(data) : null;\n        }\n        const data = await AsyncStorage.default.getItem(TOKEN_KEY);\n        return data ? JSON.parse(data) : null;\n      } catch {\n        return null;\n      }\n    },\n    async setTokens(tokens) {\n      try {\n        const data = JSON.stringify(tokens);\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.setItem(TOKEN_KEY, data);\n          return;\n        }\n        await AsyncStorage.default.setItem(TOKEN_KEY, data);\n      } catch (error) {\n        console.error('Failed to save tokens:', error);\n      }\n    },\n    async clearTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.removeItem(TOKEN_KEY);\n          return;\n        }\n        await AsyncStorage.default.removeItem(TOKEN_KEY);\n      } catch (error) {\n        console.error('Failed to clear tokens:', error);\n      }\n    }\n  };\n\n  // API Client class\n  class ApiClient {\n    isRefreshing = false;\n    refreshPromise = null;\n\n    /**\n     * Make an authenticated request\n     */\n    async request(endpoint, options = {}) {\n      const tokens = await storage.getTokens();\n      const headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (tokens?.access_token) {\n        headers['Authorization'] = `Bearer ${tokens.access_token}`;\n      }\n      const url = `${BASE_URL}${endpoint}`;\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers\n        });\n\n        // Handle 401 - try to refresh token\n        if (response.status === 401 && tokens?.refresh_token) {\n          const newTokens = await this.refreshTokens(tokens.refresh_token);\n          if (newTokens) {\n            // Retry request with new token\n            headers['Authorization'] = `Bearer ${newTokens.access_token}`;\n            const retryResponse = await fetch(url, {\n              ...options,\n              headers\n            });\n            return this.handleResponse(retryResponse);\n          }\n        }\n        return this.handleResponse(response);\n      } catch (error) {\n        console.error('API request error:', error);\n        throw {\n          message: 'Erreur de connexion au serveur',\n          status: 0\n        };\n      }\n    }\n\n    /**\n     * Handle response and errors\n     */\n    async handleResponse(response) {\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw {\n          message: errorData.detail || errorData.message || 'Une erreur est survenue',\n          status: response.status,\n          detail: errorData.detail\n        };\n      }\n\n      // Handle empty response\n      const text = await response.text();\n      if (!text) return {};\n      return JSON.parse(text);\n    }\n\n    /**\n     * Refresh access token\n     */\n    async refreshTokens(refreshToken) {\n      // Prevent multiple simultaneous refresh requests\n      if (this.isRefreshing) {\n        return this.refreshPromise;\n      }\n      this.isRefreshing = true;\n      this.refreshPromise = this.doRefresh(refreshToken);\n      try {\n        return await this.refreshPromise;\n      } finally {\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n      }\n    }\n    async doRefresh(refreshToken) {\n      try {\n        const response = await fetch(`${BASE_URL}/users/refresh`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            refresh_token: refreshToken\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          const tokens = {\n            access_token: data.access_token,\n            refresh_token: data.refresh_token,\n            expires_in: data.expires_in\n          };\n          await storage.setTokens(tokens);\n          return tokens;\n        }\n      } catch (error) {\n        console.error('Token refresh failed:', error);\n      }\n\n      // Clear tokens on refresh failure\n      await storage.clearTokens();\n      return null;\n    }\n\n    // Convenience methods\n    get(endpoint) {\n      return this.request(endpoint, {\n        method: 'GET'\n      });\n    }\n    post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n\n  // Export singleton instance\n  const api = new ApiClient();\n\n  // Export storage for auth store\n  const tokenStorage = storage;\n});","lineCount":236,"map":[[12,2,231,0,"Object"],[12,8,231,0],[12,9,231,0,"defineProperty"],[12,23,231,0],[12,24,231,0,"exports"],[12,31,231,0],[13,4,231,0,"enumerable"],[13,14,231,0],[14,4,231,0,"get"],[14,7,231,0],[14,18,231,0,"get"],[14,19,231,0],[15,6,231,0],[15,13,231,0,"api"],[15,16,231,0],[16,4,231,0],[17,2,231,0],[18,2,234,0,"Object"],[18,8,234,0],[18,9,234,0,"defineProperty"],[18,23,234,0],[18,24,234,0,"exports"],[18,31,234,0],[19,4,234,0,"enumerable"],[19,14,234,0],[20,4,234,0,"get"],[20,7,234,0],[20,18,234,0,"get"],[20,19,234,0],[21,6,234,0],[21,13,234,0,"tokenStorage"],[21,25,234,0],[22,4,234,0],[23,2,234,0],[24,2,5,0],[24,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,5,0],[24,45,5,0,"require"],[24,52,5,0],[24,53,5,0,"_dependencyMap"],[24,67,5,0],[25,2,5,0],[25,6,5,0,"AsyncStorage"],[25,18,5,0],[25,21,5,0,"_interopDefault"],[25,36,5,0],[25,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,5,0],[26,2,5,69],[26,6,5,69,"_reactNativeWebDistExportsPlatform"],[26,40,5,69],[26,43,5,69,"require"],[26,50,5,69],[26,51,5,69,"_dependencyMap"],[26,65,5,69],[27,2,5,69],[27,6,5,69,"Platform"],[27,14,5,69],[27,17,5,69,"_interopDefault"],[27,32,5,69],[27,33,5,69,"_reactNativeWebDistExportsPlatform"],[27,67,5,69],[28,2,7,0],[28,6,7,0,"_expoConstants"],[28,20,7,0],[28,23,7,0,"require"],[28,30,7,0],[28,31,7,0,"_dependencyMap"],[28,45,7,0],[29,2,7,0],[29,6,7,0,"Constants"],[29,15,7,0],[29,18,7,0,"_interopDefault"],[29,33,7,0],[29,34,7,0,"_expoConstants"],[29,48,7,0],[30,2,1,0],[31,0,2,0],[32,0,3,0],[33,0,4,0],[35,2,9,0],[37,2,22,0],[38,2,23,0],[38,8,23,6,"TOKEN_KEY"],[38,17,23,15],[38,20,23,18],[38,37,23,35],[40,2,25,0],[41,2,26,0],[41,8,26,6,"getBaseUrl"],[41,18,26,16],[41,21,26,19,"getBaseUrl"],[41,22,26,19],[41,27,26,33],[42,4,27,2],[43,4,28,2],[43,10,28,8,"envUrl"],[43,16,28,14],[43,19,28,17,"Constants"],[43,28,28,26],[43,29,28,26,"default"],[43,36,28,26],[43,37,28,27,"expoConfig"],[43,47,28,37],[43,49,28,39,"extra"],[43,54,28,44],[43,56,28,46,"backendUrl"],[43,66,28,56],[43,70,29,7,"process"],[43,77,29,14],[43,78,29,15,"env"],[43,81,29,18],[43,82,29,19,"EXPO_PUBLIC_BACKEND_URL"],[43,105,29,42],[44,4,31,2],[44,8,31,6,"envUrl"],[44,14,31,12],[44,16,31,14],[44,23,31,21,"envUrl"],[44,29,31,27],[46,4,33,2],[47,4,34,2],[47,8,34,6,"Platform"],[47,16,34,14],[47,17,34,14,"default"],[47,24,34,14],[47,25,34,15,"OS"],[47,27,34,17],[47,32,34,22],[47,37,34,27],[47,39,34,29],[48,6,35,4],[48,13,35,11],[48,19,35,17],[49,4,36,2],[50,4,37,2],[50,11,37,9],[50,38,37,36],[51,2,38,0],[51,3,38,1],[52,2,40,0],[52,8,40,6,"BASE_URL"],[52,16,40,14],[52,19,40,17,"getBaseUrl"],[52,29,40,27],[52,30,40,28],[52,31,40,29],[54,2,42,0],[55,2,43,0],[55,8,43,6,"storage"],[55,15,43,13],[55,18,43,16],[56,4,44,2],[56,10,44,8,"getTokens"],[56,19,44,17,"getTokens"],[56,20,44,17],[56,22,44,47],[57,6,45,4],[57,10,45,8],[58,8,46,6],[58,12,46,10,"Platform"],[58,20,46,18],[58,21,46,18,"default"],[58,28,46,18],[58,29,46,19,"OS"],[58,31,46,21],[58,36,46,26],[58,41,46,31],[58,50,46,64],[58,54,46,68,"window"],[58,60,46,74],[58,61,46,75,"localStorage"],[58,73,46,87],[58,75,46,89],[59,10,47,8],[59,16,47,14,"data"],[59,20,47,18],[59,23,47,21,"window"],[59,29,47,27],[59,30,47,28,"localStorage"],[59,42,47,40],[59,43,47,41,"getItem"],[59,50,47,48],[59,51,47,49,"TOKEN_KEY"],[59,60,47,58],[59,61,47,59],[60,10,48,8],[60,17,48,15,"data"],[60,21,48,19],[60,24,48,22,"JSON"],[60,28,48,26],[60,29,48,27,"parse"],[60,34,48,32],[60,35,48,33,"data"],[60,39,48,37],[60,40,48,38],[60,43,48,41],[60,47,48,45],[61,8,49,6],[62,8,50,6],[62,14,50,12,"data"],[62,18,50,16],[62,21,50,19],[62,27,50,25,"AsyncStorage"],[62,39,50,37],[62,40,50,37,"default"],[62,47,50,37],[62,48,50,38,"getItem"],[62,55,50,45],[62,56,50,46,"TOKEN_KEY"],[62,65,50,55],[62,66,50,56],[63,8,51,6],[63,15,51,13,"data"],[63,19,51,17],[63,22,51,20,"JSON"],[63,26,51,24],[63,27,51,25,"parse"],[63,32,51,30],[63,33,51,31,"data"],[63,37,51,35],[63,38,51,36],[63,41,51,39],[63,45,51,43],[64,6,52,4],[64,7,52,5],[64,8,52,6],[64,14,52,12],[65,8,53,6],[65,15,53,13],[65,19,53,17],[66,6,54,4],[67,4,55,2],[67,5,55,3],[68,4,57,2],[68,10,57,8,"setTokens"],[68,19,57,17,"setTokens"],[68,20,57,18,"tokens"],[68,26,57,35],[68,28,57,52],[69,6,58,4],[69,10,58,8],[70,8,59,6],[70,14,59,12,"data"],[70,18,59,16],[70,21,59,19,"JSON"],[70,25,59,23],[70,26,59,24,"stringify"],[70,35,59,33],[70,36,59,34,"tokens"],[70,42,59,40],[70,43,59,41],[71,8,60,6],[71,12,60,10,"Platform"],[71,20,60,18],[71,21,60,18,"default"],[71,28,60,18],[71,29,60,19,"OS"],[71,31,60,21],[71,36,60,26],[71,41,60,31],[71,50,60,64],[71,54,60,68,"window"],[71,60,60,74],[71,61,60,75,"localStorage"],[71,73,60,87],[71,75,60,89],[72,10,61,8,"window"],[72,16,61,14],[72,17,61,15,"localStorage"],[72,29,61,27],[72,30,61,28,"setItem"],[72,37,61,35],[72,38,61,36,"TOKEN_KEY"],[72,47,61,45],[72,49,61,47,"data"],[72,53,61,51],[72,54,61,52],[73,10,62,8],[74,8,63,6],[75,8,64,6],[75,14,64,12,"AsyncStorage"],[75,26,64,24],[75,27,64,24,"default"],[75,34,64,24],[75,35,64,25,"setItem"],[75,42,64,32],[75,43,64,33,"TOKEN_KEY"],[75,52,64,42],[75,54,64,44,"data"],[75,58,64,48],[75,59,64,49],[76,6,65,4],[76,7,65,5],[76,8,65,6],[76,15,65,13,"error"],[76,20,65,18],[76,22,65,20],[77,8,66,6,"console"],[77,15,66,13],[77,16,66,14,"error"],[77,21,66,19],[77,22,66,20],[77,46,66,44],[77,48,66,46,"error"],[77,53,66,51],[77,54,66,52],[78,6,67,4],[79,4,68,2],[79,5,68,3],[80,4,70,2],[80,10,70,8,"clearTokens"],[80,21,70,19,"clearTokens"],[80,22,70,19],[80,24,70,37],[81,6,71,4],[81,10,71,8],[82,8,72,6],[82,12,72,10,"Platform"],[82,20,72,18],[82,21,72,18,"default"],[82,28,72,18],[82,29,72,19,"OS"],[82,31,72,21],[82,36,72,26],[82,41,72,31],[82,50,72,64],[82,54,72,68,"window"],[82,60,72,74],[82,61,72,75,"localStorage"],[82,73,72,87],[82,75,72,89],[83,10,73,8,"window"],[83,16,73,14],[83,17,73,15,"localStorage"],[83,29,73,27],[83,30,73,28,"removeItem"],[83,40,73,38],[83,41,73,39,"TOKEN_KEY"],[83,50,73,48],[83,51,73,49],[84,10,74,8],[85,8,75,6],[86,8,76,6],[86,14,76,12,"AsyncStorage"],[86,26,76,24],[86,27,76,24,"default"],[86,34,76,24],[86,35,76,25,"removeItem"],[86,45,76,35],[86,46,76,36,"TOKEN_KEY"],[86,55,76,45],[86,56,76,46],[87,6,77,4],[87,7,77,5],[87,8,77,6],[87,15,77,13,"error"],[87,20,77,18],[87,22,77,20],[88,8,78,6,"console"],[88,15,78,13],[88,16,78,14,"error"],[88,21,78,19],[88,22,78,20],[88,47,78,45],[88,49,78,47,"error"],[88,54,78,52],[88,55,78,53],[89,6,79,4],[90,4,80,2],[91,2,81,0],[91,3,81,1],[93,2,83,0],[94,2,84,0],[94,8,84,6,"ApiClient"],[94,17,84,15],[94,18,84,16],[95,4,85,10,"isRefreshing"],[95,16,85,22],[95,19,85,25],[95,24,85,30],[96,4,86,10,"refreshPromise"],[96,18,86,24],[96,21,86,61],[96,25,86,65],[98,4,88,2],[99,0,89,0],[100,0,90,0],[101,4,91,2],[101,10,91,8,"request"],[101,17,91,15,"request"],[101,18,92,4,"endpoint"],[101,26,92,20],[101,28,93,4,"options"],[101,35,93,24],[101,38,93,27],[101,39,93,28],[101,40,93,29],[101,42,94,16],[102,6,95,4],[102,12,95,10,"tokens"],[102,18,95,16],[102,21,95,19],[102,27,95,25,"storage"],[102,34,95,32],[102,35,95,33,"getTokens"],[102,44,95,42],[102,45,95,43],[102,46,95,44],[103,6,97,4],[103,12,97,10,"headers"],[103,19,97,41],[103,22,97,44],[104,8,98,6],[104,22,98,20],[104,24,98,22],[104,42,98,40],[105,8,99,6],[105,12,99,11,"options"],[105,19,99,18],[105,20,99,19,"headers"],[105,27,99,26],[105,31,99,57],[105,32,99,58],[105,33,99,59],[106,6,100,4],[106,7,100,5],[107,6,102,4],[107,10,102,8,"tokens"],[107,16,102,14],[107,18,102,16,"access_token"],[107,30,102,28],[107,32,102,30],[108,8,103,6,"headers"],[108,15,103,13],[108,16,103,14],[108,31,103,29],[108,32,103,30],[108,35,103,33],[108,45,103,43,"tokens"],[108,51,103,49],[108,52,103,50,"access_token"],[108,64,103,62],[108,66,103,64],[109,6,104,4],[110,6,106,4],[110,12,106,10,"url"],[110,15,106,13],[110,18,106,16],[110,21,106,19,"BASE_URL"],[110,29,106,27],[110,32,106,30,"endpoint"],[110,40,106,38],[110,42,106,40],[111,6,108,4],[111,10,108,8],[112,8,109,6],[112,14,109,12,"response"],[112,22,109,20],[112,25,109,23],[112,31,109,29,"fetch"],[112,36,109,34],[112,37,109,35,"url"],[112,40,109,38],[112,42,109,40],[113,10,110,8],[113,13,110,11,"options"],[113,20,110,18],[114,10,111,8,"headers"],[115,8,112,6],[115,9,112,7],[115,10,112,8],[117,8,114,6],[118,8,115,6],[118,12,115,10,"response"],[118,20,115,18],[118,21,115,19,"status"],[118,27,115,25],[118,32,115,30],[118,35,115,33],[118,39,115,37,"tokens"],[118,45,115,43],[118,47,115,45,"refresh_token"],[118,60,115,58],[118,62,115,60],[119,10,116,8],[119,16,116,14,"newTokens"],[119,25,116,23],[119,28,116,26],[119,34,116,32],[119,38,116,36],[119,39,116,37,"refreshTokens"],[119,52,116,50],[119,53,116,51,"tokens"],[119,59,116,57],[119,60,116,58,"refresh_token"],[119,73,116,71],[119,74,116,72],[120,10,118,8],[120,14,118,12,"newTokens"],[120,23,118,21],[120,25,118,23],[121,12,119,10],[122,12,120,10,"headers"],[122,19,120,17],[122,20,120,18],[122,35,120,33],[122,36,120,34],[122,39,120,37],[122,49,120,47,"newTokens"],[122,58,120,56],[122,59,120,57,"access_token"],[122,71,120,69],[122,73,120,71],[123,12,121,10],[123,18,121,16,"retryResponse"],[123,31,121,29],[123,34,121,32],[123,40,121,38,"fetch"],[123,45,121,43],[123,46,121,44,"url"],[123,49,121,47],[123,51,121,49],[124,14,122,12],[124,17,122,15,"options"],[124,24,122,22],[125,14,123,12,"headers"],[126,12,124,10],[126,13,124,11],[126,14,124,12],[127,12,125,10],[127,19,125,17],[127,23,125,21],[127,24,125,22,"handleResponse"],[127,38,125,36],[127,39,125,40,"retryResponse"],[127,52,125,53],[127,53,125,54],[128,10,126,8],[129,8,127,6],[130,8,129,6],[130,15,129,13],[130,19,129,17],[130,20,129,18,"handleResponse"],[130,34,129,32],[130,35,129,36,"response"],[130,43,129,44],[130,44,129,45],[131,6,130,4],[131,7,130,5],[131,8,130,6],[131,15,130,13,"error"],[131,20,130,18],[131,22,130,20],[132,8,131,6,"console"],[132,15,131,13],[132,16,131,14,"error"],[132,21,131,19],[132,22,131,20],[132,42,131,40],[132,44,131,42,"error"],[132,49,131,47],[132,50,131,48],[133,8,132,6],[133,14,132,12],[134,10,133,8,"message"],[134,17,133,15],[134,19,133,17],[134,51,133,49],[135,10,134,8,"status"],[135,16,134,14],[135,18,134,16],[136,8,135,6],[136,9,135,7],[137,6,136,4],[138,4,137,2],[140,4,139,2],[141,0,140,0],[142,0,141,0],[143,4,142,2],[143,10,142,16,"handleResponse"],[143,24,142,30,"handleResponse"],[143,25,142,34,"response"],[143,33,142,52],[143,35,142,66],[144,6,143,4],[144,10,143,8],[144,11,143,9,"response"],[144,19,143,17],[144,20,143,18,"ok"],[144,22,143,20],[144,24,143,22],[145,8,144,6],[145,14,144,12,"errorData"],[145,23,144,21],[145,26,144,24],[145,32,144,30,"response"],[145,40,144,38],[145,41,144,39,"json"],[145,45,144,43],[145,46,144,44],[145,47,144,45],[145,48,144,46,"catch"],[145,53,144,51],[145,54,144,52],[145,61,144,59],[145,62,144,60],[145,63,144,61],[145,64,144,62],[145,65,144,63],[146,8,145,6],[146,14,145,12],[147,10,146,8,"message"],[147,17,146,15],[147,19,146,17,"errorData"],[147,28,146,26],[147,29,146,27,"detail"],[147,35,146,33],[147,39,146,37,"errorData"],[147,48,146,46],[147,49,146,47,"message"],[147,56,146,54],[147,60,146,58],[147,85,146,83],[148,10,147,8,"status"],[148,16,147,14],[148,18,147,16,"response"],[148,26,147,24],[148,27,147,25,"status"],[148,33,147,31],[149,10,148,8,"detail"],[149,16,148,14],[149,18,148,16,"errorData"],[149,27,148,25],[149,28,148,26,"detail"],[150,8,149,6],[150,9,149,7],[151,6,150,4],[153,6,152,4],[154,6,153,4],[154,12,153,10,"text"],[154,16,153,14],[154,19,153,17],[154,25,153,23,"response"],[154,33,153,31],[154,34,153,32,"text"],[154,38,153,36],[154,39,153,37],[154,40,153,38],[155,6,154,4],[155,10,154,8],[155,11,154,9,"text"],[155,15,154,13],[155,17,154,15],[155,24,154,22],[155,25,154,23],[155,26,154,24],[156,6,156,4],[156,13,156,11,"JSON"],[156,17,156,15],[156,18,156,16,"parse"],[156,23,156,21],[156,24,156,22,"text"],[156,28,156,26],[156,29,156,27],[157,4,157,2],[159,4,159,2],[160,0,160,0],[161,0,161,0],[162,4,162,2],[162,10,162,16,"refreshTokens"],[162,23,162,29,"refreshTokens"],[162,24,162,30,"refreshToken"],[162,36,162,50],[162,38,162,79],[163,6,163,4],[164,6,164,4],[164,10,164,8],[164,14,164,12],[164,15,164,13,"isRefreshing"],[164,27,164,25],[164,29,164,27],[165,8,165,6],[165,15,165,13],[165,19,165,17],[165,20,165,18,"refreshPromise"],[165,34,165,32],[166,6,166,4],[167,6,168,4],[167,10,168,8],[167,11,168,9,"isRefreshing"],[167,23,168,21],[167,26,168,24],[167,30,168,28],[168,6,169,4],[168,10,169,8],[168,11,169,9,"refreshPromise"],[168,25,169,23],[168,28,169,26],[168,32,169,30],[168,33,169,31,"doRefresh"],[168,42,169,40],[168,43,169,41,"refreshToken"],[168,55,169,53],[168,56,169,54],[169,6,171,4],[169,10,171,8],[170,8,172,6],[170,15,172,13],[170,21,172,19],[170,25,172,23],[170,26,172,24,"refreshPromise"],[170,40,172,38],[171,6,173,4],[171,7,173,5],[171,16,173,14],[172,8,174,6],[172,12,174,10],[172,13,174,11,"isRefreshing"],[172,25,174,23],[172,28,174,26],[172,33,174,31],[173,8,175,6],[173,12,175,10],[173,13,175,11,"refreshPromise"],[173,27,175,25],[173,30,175,28],[173,34,175,32],[174,6,176,4],[175,4,177,2],[176,4,179,2],[176,10,179,16,"doRefresh"],[176,19,179,25,"doRefresh"],[176,20,179,26,"refreshToken"],[176,32,179,46],[176,34,179,75],[177,6,180,4],[177,10,180,8],[178,8,181,6],[178,14,181,12,"response"],[178,22,181,20],[178,25,181,23],[178,31,181,29,"fetch"],[178,36,181,34],[178,37,181,35],[178,40,181,38,"BASE_URL"],[178,48,181,46],[178,64,181,62],[178,66,181,64],[179,10,182,8,"method"],[179,16,182,14],[179,18,182,16],[179,24,182,22],[180,10,183,8,"headers"],[180,17,183,15],[180,19,183,17],[181,12,183,19],[181,26,183,33],[181,28,183,35],[182,10,183,54],[182,11,183,55],[183,10,184,8,"body"],[183,14,184,12],[183,16,184,14,"JSON"],[183,20,184,18],[183,21,184,19,"stringify"],[183,30,184,28],[183,31,184,29],[184,12,184,31,"refresh_token"],[184,25,184,44],[184,27,184,46,"refreshToken"],[185,10,184,59],[185,11,184,60],[186,8,185,6],[186,9,185,7],[186,10,185,8],[187,8,187,6],[187,12,187,10,"response"],[187,20,187,18],[187,21,187,19,"ok"],[187,23,187,21],[187,25,187,23],[188,10,188,8],[188,16,188,14,"data"],[188,20,188,18],[188,23,188,21],[188,29,188,27,"response"],[188,37,188,35],[188,38,188,36,"json"],[188,42,188,40],[188,43,188,41],[188,44,188,42],[189,10,189,8],[189,16,189,14,"tokens"],[189,22,189,31],[189,25,189,34],[190,12,190,10,"access_token"],[190,24,190,22],[190,26,190,24,"data"],[190,30,190,28],[190,31,190,29,"access_token"],[190,43,190,41],[191,12,191,10,"refresh_token"],[191,25,191,23],[191,27,191,25,"data"],[191,31,191,29],[191,32,191,30,"refresh_token"],[191,45,191,43],[192,12,192,10,"expires_in"],[192,22,192,20],[192,24,192,22,"data"],[192,28,192,26],[192,29,192,27,"expires_in"],[193,10,193,8],[193,11,193,9],[194,10,194,8],[194,16,194,14,"storage"],[194,23,194,21],[194,24,194,22,"setTokens"],[194,33,194,31],[194,34,194,32,"tokens"],[194,40,194,38],[194,41,194,39],[195,10,195,8],[195,17,195,15,"tokens"],[195,23,195,21],[196,8,196,6],[197,6,197,4],[197,7,197,5],[197,8,197,6],[197,15,197,13,"error"],[197,20,197,18],[197,22,197,20],[198,8,198,6,"console"],[198,15,198,13],[198,16,198,14,"error"],[198,21,198,19],[198,22,198,20],[198,45,198,43],[198,47,198,45,"error"],[198,52,198,50],[198,53,198,51],[199,6,199,4],[201,6,201,4],[202,6,202,4],[202,12,202,10,"storage"],[202,19,202,17],[202,20,202,18,"clearTokens"],[202,31,202,29],[202,32,202,30],[202,33,202,31],[203,6,203,4],[203,13,203,11],[203,17,203,15],[204,4,204,2],[206,4,206,2],[207,4,207,2,"get"],[207,7,207,5,"get"],[207,8,207,9,"endpoint"],[207,16,207,25],[207,18,207,39],[208,6,208,4],[208,13,208,11],[208,17,208,15],[208,18,208,16,"request"],[208,25,208,23],[208,26,208,27,"endpoint"],[208,34,208,35],[208,36,208,37],[209,8,208,39,"method"],[209,14,208,45],[209,16,208,47],[210,6,208,53],[210,7,208,54],[210,8,208,55],[211,4,209,2],[212,4,211,2,"post"],[212,8,211,6,"post"],[212,9,211,10,"endpoint"],[212,17,211,26],[212,19,211,28,"data"],[212,23,211,42],[212,25,211,56],[213,6,212,4],[213,13,212,11],[213,17,212,15],[213,18,212,16,"request"],[213,25,212,23],[213,26,212,27,"endpoint"],[213,34,212,35],[213,36,212,37],[214,8,213,6,"method"],[214,14,213,12],[214,16,213,14],[214,22,213,20],[215,8,214,6,"body"],[215,12,214,10],[215,14,214,12,"data"],[215,18,214,16],[215,21,214,19,"JSON"],[215,25,214,23],[215,26,214,24,"stringify"],[215,35,214,33],[215,36,214,34,"data"],[215,40,214,38],[215,41,214,39],[215,44,214,42,"undefined"],[216,6,215,4],[216,7,215,5],[216,8,215,6],[217,4,216,2],[218,4,218,2,"put"],[218,7,218,5,"put"],[218,8,218,9,"endpoint"],[218,16,218,25],[218,18,218,27,"data"],[218,22,218,41],[218,24,218,55],[219,6,219,4],[219,13,219,11],[219,17,219,15],[219,18,219,16,"request"],[219,25,219,23],[219,26,219,27,"endpoint"],[219,34,219,35],[219,36,219,37],[220,8,220,6,"method"],[220,14,220,12],[220,16,220,14],[220,21,220,19],[221,8,221,6,"body"],[221,12,221,10],[221,14,221,12,"data"],[221,18,221,16],[221,21,221,19,"JSON"],[221,25,221,23],[221,26,221,24,"stringify"],[221,35,221,33],[221,36,221,34,"data"],[221,40,221,38],[221,41,221,39],[221,44,221,42,"undefined"],[222,6,222,4],[222,7,222,5],[222,8,222,6],[223,4,223,2],[224,4,225,2,"delete"],[224,10,225,8,"delete"],[224,11,225,12,"endpoint"],[224,19,225,28],[224,21,225,42],[225,6,226,4],[225,13,226,11],[225,17,226,15],[225,18,226,16,"request"],[225,25,226,23],[225,26,226,27,"endpoint"],[225,34,226,35],[225,36,226,37],[226,8,226,39,"method"],[226,14,226,45],[226,16,226,47],[227,6,226,56],[227,7,226,57],[227,8,226,58],[228,4,227,2],[229,2,228,0],[231,2,230,0],[232,2,231,7],[232,8,231,13,"api"],[232,11,231,16],[232,14,231,19],[232,18,231,23,"ApiClient"],[232,27,231,32],[232,28,231,33],[232,29,231,34],[234,2,233,0],[235,2,234,7],[235,8,234,13,"tokenStorage"],[235,20,234,25],[235,23,234,28,"storage"],[235,30,234,35],[236,0,234,36],[236,3]],"functionMap":{"names":["<global>","getBaseUrl","storage.getTokens","storage.setTokens","storage.clearTokens","ApiClient","ApiClient#request","ApiClient#handleResponse","response.json._catch$argument_0","ApiClient#refreshTokens","ApiClient#doRefresh","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;mBCyB;CDY;EEM;GFW;EGE;GHW;EIE;GJU;AKI;ECO;GD8C;EEK;oDCE,UD;GFa;EIK;GJe;EKE;GLyB;EMG;GNE;EOE;GPK;EQE;GRK;ESE;GTE;CLC"},"hasCjsExports":false},"type":"js/module"}]}