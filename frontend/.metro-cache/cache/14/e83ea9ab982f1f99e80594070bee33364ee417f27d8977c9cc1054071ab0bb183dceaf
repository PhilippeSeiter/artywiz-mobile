{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":130},"end":{"line":5,"column":69,"index":199}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":241},"end":{"line":7,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"tokenStorage\", {\n    enumerable: true,\n    get: function () {\n      return tokenStorage;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Centralized API client for Artywiz\n   * Handles all HTTP requests with authentication, error handling, and token refresh\n   */\n\n  // Types\n\n  // Storage keys\n  const TOKEN_KEY = '@artywiz_tokens';\n\n  // Get base URL from environment\n  const getBaseUrl = () => {\n    // For web, always use relative /api path (handled by nginx proxy)\n    if (Platform.default.OS === 'web') {\n      return '/api';\n    }\n\n    // For native (Expo Go), use environment variable\n    const envUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      // Add /api if not already present\n      return envUrl.endsWith('/api') ? envUrl : `${envUrl}/api`;\n    }\n\n    // Default fallback for local development\n    return 'http://localhost:8001/api';\n  };\n  const BASE_URL = getBaseUrl();\n\n  // Token storage helpers\n  const storage = {\n    async getTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          const data = window.localStorage.getItem(TOKEN_KEY);\n          return data ? JSON.parse(data) : null;\n        }\n        const data = await AsyncStorage.default.getItem(TOKEN_KEY);\n        return data ? JSON.parse(data) : null;\n      } catch {\n        return null;\n      }\n    },\n    async setTokens(tokens) {\n      try {\n        const data = JSON.stringify(tokens);\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.setItem(TOKEN_KEY, data);\n          return;\n        }\n        await AsyncStorage.default.setItem(TOKEN_KEY, data);\n      } catch (error) {\n        console.error('Failed to save tokens:', error);\n      }\n    },\n    async clearTokens() {\n      try {\n        if (Platform.default.OS === 'web' && false && window.localStorage) {\n          window.localStorage.removeItem(TOKEN_KEY);\n          return;\n        }\n        await AsyncStorage.default.removeItem(TOKEN_KEY);\n      } catch (error) {\n        console.error('Failed to clear tokens:', error);\n      }\n    }\n  };\n\n  // API Client class\n  class ApiClient {\n    isRefreshing = false;\n    refreshPromise = null;\n\n    /**\n     * Make an authenticated request\n     */\n    async request(endpoint, options = {}) {\n      const tokens = await storage.getTokens();\n      const headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (tokens?.access_token) {\n        headers['Authorization'] = `Bearer ${tokens.access_token}`;\n      }\n      const url = `${BASE_URL}${endpoint}`;\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers\n        });\n\n        // Handle 401 - try to refresh token\n        if (response.status === 401 && tokens?.refresh_token) {\n          const newTokens = await this.refreshTokens(tokens.refresh_token);\n          if (newTokens) {\n            // Retry request with new token\n            headers['Authorization'] = `Bearer ${newTokens.access_token}`;\n            const retryResponse = await fetch(url, {\n              ...options,\n              headers\n            });\n            return this.handleResponse(retryResponse);\n          }\n        }\n        return this.handleResponse(response);\n      } catch (error) {\n        console.error('API request error:', error);\n        throw {\n          message: 'Erreur de connexion au serveur',\n          status: 0\n        };\n      }\n    }\n\n    /**\n     * Handle response and errors\n     */\n    async handleResponse(response) {\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw {\n          message: errorData.detail || errorData.message || 'Une erreur est survenue',\n          status: response.status,\n          detail: errorData.detail\n        };\n      }\n\n      // Handle empty response\n      const text = await response.text();\n      if (!text) return {};\n      return JSON.parse(text);\n    }\n\n    /**\n     * Refresh access token\n     */\n    async refreshTokens(refreshToken) {\n      // Prevent multiple simultaneous refresh requests\n      if (this.isRefreshing) {\n        return this.refreshPromise;\n      }\n      this.isRefreshing = true;\n      this.refreshPromise = this.doRefresh(refreshToken);\n      try {\n        return await this.refreshPromise;\n      } finally {\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n      }\n    }\n    async doRefresh(refreshToken) {\n      try {\n        const response = await fetch(`${BASE_URL}/users/refresh`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            refresh_token: refreshToken\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          const tokens = {\n            access_token: data.access_token,\n            refresh_token: data.refresh_token,\n            expires_in: data.expires_in\n          };\n          await storage.setTokens(tokens);\n          return tokens;\n        }\n      } catch (error) {\n        console.error('Token refresh failed:', error);\n      }\n\n      // Clear tokens on refresh failure\n      await storage.clearTokens();\n      return null;\n    }\n\n    // Convenience methods\n    get(endpoint) {\n      return this.request(endpoint, {\n        method: 'GET'\n      });\n    }\n    post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n\n  // Export singleton instance\n  const api = new ApiClient();\n\n  // Export storage for auth store\n  const tokenStorage = storage;\n});","lineCount":241,"map":[[12,2,236,0,"Object"],[12,8,236,0],[12,9,236,0,"defineProperty"],[12,23,236,0],[12,24,236,0,"exports"],[12,31,236,0],[13,4,236,0,"enumerable"],[13,14,236,0],[14,4,236,0,"get"],[14,7,236,0],[14,18,236,0,"get"],[14,19,236,0],[15,6,236,0],[15,13,236,0,"api"],[15,16,236,0],[16,4,236,0],[17,2,236,0],[18,2,239,0,"Object"],[18,8,239,0],[18,9,239,0,"defineProperty"],[18,23,239,0],[18,24,239,0,"exports"],[18,31,239,0],[19,4,239,0,"enumerable"],[19,14,239,0],[20,4,239,0,"get"],[20,7,239,0],[20,18,239,0,"get"],[20,19,239,0],[21,6,239,0],[21,13,239,0,"tokenStorage"],[21,25,239,0],[22,4,239,0],[23,2,239,0],[24,2,5,0],[24,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,5,0],[24,45,5,0,"require"],[24,52,5,0],[24,53,5,0,"_dependencyMap"],[24,67,5,0],[25,2,5,0],[25,6,5,0,"AsyncStorage"],[25,18,5,0],[25,21,5,0,"_interopDefault"],[25,36,5,0],[25,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,5,0],[26,2,5,69],[26,6,5,69,"_reactNativeWebDistExportsPlatform"],[26,40,5,69],[26,43,5,69,"require"],[26,50,5,69],[26,51,5,69,"_dependencyMap"],[26,65,5,69],[27,2,5,69],[27,6,5,69,"Platform"],[27,14,5,69],[27,17,5,69,"_interopDefault"],[27,32,5,69],[27,33,5,69,"_reactNativeWebDistExportsPlatform"],[27,67,5,69],[28,2,7,0],[28,6,7,0,"_expoConstants"],[28,20,7,0],[28,23,7,0,"require"],[28,30,7,0],[28,31,7,0,"_dependencyMap"],[28,45,7,0],[29,2,7,0],[29,6,7,0,"Constants"],[29,15,7,0],[29,18,7,0,"_interopDefault"],[29,33,7,0],[29,34,7,0,"_expoConstants"],[29,48,7,0],[30,2,1,0],[31,0,2,0],[32,0,3,0],[33,0,4,0],[35,2,9,0],[37,2,22,0],[38,2,23,0],[38,8,23,6,"TOKEN_KEY"],[38,17,23,15],[38,20,23,18],[38,37,23,35],[40,2,25,0],[41,2,26,0],[41,8,26,6,"getBaseUrl"],[41,18,26,16],[41,21,26,19,"getBaseUrl"],[41,22,26,19],[41,27,26,33],[42,4,27,2],[43,4,28,2],[43,8,28,6,"Platform"],[43,16,28,14],[43,17,28,14,"default"],[43,24,28,14],[43,25,28,15,"OS"],[43,27,28,17],[43,32,28,22],[43,37,28,27],[43,39,28,29],[44,6,29,4],[44,13,29,11],[44,19,29,17],[45,4,30,2],[47,4,32,2],[48,4,33,2],[48,10,33,8,"envUrl"],[48,16,33,14],[48,19,33,17,"Constants"],[48,28,33,26],[48,29,33,26,"default"],[48,36,33,26],[48,37,33,27,"expoConfig"],[48,47,33,37],[48,49,33,39,"extra"],[48,54,33,44],[48,56,33,46,"backendUrl"],[48,66,33,56],[48,70,34,7,"process"],[48,77,34,14],[48,78,34,15,"env"],[48,81,34,18],[48,82,34,19,"EXPO_PUBLIC_BACKEND_URL"],[48,105,34,42],[49,4,36,2],[49,8,36,6,"envUrl"],[49,14,36,12],[49,16,36,14],[50,6,37,4],[51,6,38,4],[51,13,38,11,"envUrl"],[51,19,38,17],[51,20,38,18,"endsWith"],[51,28,38,26],[51,29,38,27],[51,35,38,33],[51,36,38,34],[51,39,38,37,"envUrl"],[51,45,38,43],[51,48,38,46],[51,51,38,49,"envUrl"],[51,57,38,55],[51,63,38,61],[52,4,39,2],[54,4,41,2],[55,4,42,2],[55,11,42,9],[55,38,42,36],[56,2,43,0],[56,3,43,1],[57,2,45,0],[57,8,45,6,"BASE_URL"],[57,16,45,14],[57,19,45,17,"getBaseUrl"],[57,29,45,27],[57,30,45,28],[57,31,45,29],[59,2,47,0],[60,2,48,0],[60,8,48,6,"storage"],[60,15,48,13],[60,18,48,16],[61,4,49,2],[61,10,49,8,"getTokens"],[61,19,49,17,"getTokens"],[61,20,49,17],[61,22,49,47],[62,6,50,4],[62,10,50,8],[63,8,51,6],[63,12,51,10,"Platform"],[63,20,51,18],[63,21,51,18,"default"],[63,28,51,18],[63,29,51,19,"OS"],[63,31,51,21],[63,36,51,26],[63,41,51,31],[63,50,51,64],[63,54,51,68,"window"],[63,60,51,74],[63,61,51,75,"localStorage"],[63,73,51,87],[63,75,51,89],[64,10,52,8],[64,16,52,14,"data"],[64,20,52,18],[64,23,52,21,"window"],[64,29,52,27],[64,30,52,28,"localStorage"],[64,42,52,40],[64,43,52,41,"getItem"],[64,50,52,48],[64,51,52,49,"TOKEN_KEY"],[64,60,52,58],[64,61,52,59],[65,10,53,8],[65,17,53,15,"data"],[65,21,53,19],[65,24,53,22,"JSON"],[65,28,53,26],[65,29,53,27,"parse"],[65,34,53,32],[65,35,53,33,"data"],[65,39,53,37],[65,40,53,38],[65,43,53,41],[65,47,53,45],[66,8,54,6],[67,8,55,6],[67,14,55,12,"data"],[67,18,55,16],[67,21,55,19],[67,27,55,25,"AsyncStorage"],[67,39,55,37],[67,40,55,37,"default"],[67,47,55,37],[67,48,55,38,"getItem"],[67,55,55,45],[67,56,55,46,"TOKEN_KEY"],[67,65,55,55],[67,66,55,56],[68,8,56,6],[68,15,56,13,"data"],[68,19,56,17],[68,22,56,20,"JSON"],[68,26,56,24],[68,27,56,25,"parse"],[68,32,56,30],[68,33,56,31,"data"],[68,37,56,35],[68,38,56,36],[68,41,56,39],[68,45,56,43],[69,6,57,4],[69,7,57,5],[69,8,57,6],[69,14,57,12],[70,8,58,6],[70,15,58,13],[70,19,58,17],[71,6,59,4],[72,4,60,2],[72,5,60,3],[73,4,62,2],[73,10,62,8,"setTokens"],[73,19,62,17,"setTokens"],[73,20,62,18,"tokens"],[73,26,62,35],[73,28,62,52],[74,6,63,4],[74,10,63,8],[75,8,64,6],[75,14,64,12,"data"],[75,18,64,16],[75,21,64,19,"JSON"],[75,25,64,23],[75,26,64,24,"stringify"],[75,35,64,33],[75,36,64,34,"tokens"],[75,42,64,40],[75,43,64,41],[76,8,65,6],[76,12,65,10,"Platform"],[76,20,65,18],[76,21,65,18,"default"],[76,28,65,18],[76,29,65,19,"OS"],[76,31,65,21],[76,36,65,26],[76,41,65,31],[76,50,65,64],[76,54,65,68,"window"],[76,60,65,74],[76,61,65,75,"localStorage"],[76,73,65,87],[76,75,65,89],[77,10,66,8,"window"],[77,16,66,14],[77,17,66,15,"localStorage"],[77,29,66,27],[77,30,66,28,"setItem"],[77,37,66,35],[77,38,66,36,"TOKEN_KEY"],[77,47,66,45],[77,49,66,47,"data"],[77,53,66,51],[77,54,66,52],[78,10,67,8],[79,8,68,6],[80,8,69,6],[80,14,69,12,"AsyncStorage"],[80,26,69,24],[80,27,69,24,"default"],[80,34,69,24],[80,35,69,25,"setItem"],[80,42,69,32],[80,43,69,33,"TOKEN_KEY"],[80,52,69,42],[80,54,69,44,"data"],[80,58,69,48],[80,59,69,49],[81,6,70,4],[81,7,70,5],[81,8,70,6],[81,15,70,13,"error"],[81,20,70,18],[81,22,70,20],[82,8,71,6,"console"],[82,15,71,13],[82,16,71,14,"error"],[82,21,71,19],[82,22,71,20],[82,46,71,44],[82,48,71,46,"error"],[82,53,71,51],[82,54,71,52],[83,6,72,4],[84,4,73,2],[84,5,73,3],[85,4,75,2],[85,10,75,8,"clearTokens"],[85,21,75,19,"clearTokens"],[85,22,75,19],[85,24,75,37],[86,6,76,4],[86,10,76,8],[87,8,77,6],[87,12,77,10,"Platform"],[87,20,77,18],[87,21,77,18,"default"],[87,28,77,18],[87,29,77,19,"OS"],[87,31,77,21],[87,36,77,26],[87,41,77,31],[87,50,77,64],[87,54,77,68,"window"],[87,60,77,74],[87,61,77,75,"localStorage"],[87,73,77,87],[87,75,77,89],[88,10,78,8,"window"],[88,16,78,14],[88,17,78,15,"localStorage"],[88,29,78,27],[88,30,78,28,"removeItem"],[88,40,78,38],[88,41,78,39,"TOKEN_KEY"],[88,50,78,48],[88,51,78,49],[89,10,79,8],[90,8,80,6],[91,8,81,6],[91,14,81,12,"AsyncStorage"],[91,26,81,24],[91,27,81,24,"default"],[91,34,81,24],[91,35,81,25,"removeItem"],[91,45,81,35],[91,46,81,36,"TOKEN_KEY"],[91,55,81,45],[91,56,81,46],[92,6,82,4],[92,7,82,5],[92,8,82,6],[92,15,82,13,"error"],[92,20,82,18],[92,22,82,20],[93,8,83,6,"console"],[93,15,83,13],[93,16,83,14,"error"],[93,21,83,19],[93,22,83,20],[93,47,83,45],[93,49,83,47,"error"],[93,54,83,52],[93,55,83,53],[94,6,84,4],[95,4,85,2],[96,2,86,0],[96,3,86,1],[98,2,88,0],[99,2,89,0],[99,8,89,6,"ApiClient"],[99,17,89,15],[99,18,89,16],[100,4,90,10,"isRefreshing"],[100,16,90,22],[100,19,90,25],[100,24,90,30],[101,4,91,10,"refreshPromise"],[101,18,91,24],[101,21,91,61],[101,25,91,65],[103,4,93,2],[104,0,94,0],[105,0,95,0],[106,4,96,2],[106,10,96,8,"request"],[106,17,96,15,"request"],[106,18,97,4,"endpoint"],[106,26,97,20],[106,28,98,4,"options"],[106,35,98,24],[106,38,98,27],[106,39,98,28],[106,40,98,29],[106,42,99,16],[107,6,100,4],[107,12,100,10,"tokens"],[107,18,100,16],[107,21,100,19],[107,27,100,25,"storage"],[107,34,100,32],[107,35,100,33,"getTokens"],[107,44,100,42],[107,45,100,43],[107,46,100,44],[108,6,102,4],[108,12,102,10,"headers"],[108,19,102,41],[108,22,102,44],[109,8,103,6],[109,22,103,20],[109,24,103,22],[109,42,103,40],[110,8,104,6],[110,12,104,11,"options"],[110,19,104,18],[110,20,104,19,"headers"],[110,27,104,26],[110,31,104,57],[110,32,104,58],[110,33,104,59],[111,6,105,4],[111,7,105,5],[112,6,107,4],[112,10,107,8,"tokens"],[112,16,107,14],[112,18,107,16,"access_token"],[112,30,107,28],[112,32,107,30],[113,8,108,6,"headers"],[113,15,108,13],[113,16,108,14],[113,31,108,29],[113,32,108,30],[113,35,108,33],[113,45,108,43,"tokens"],[113,51,108,49],[113,52,108,50,"access_token"],[113,64,108,62],[113,66,108,64],[114,6,109,4],[115,6,111,4],[115,12,111,10,"url"],[115,15,111,13],[115,18,111,16],[115,21,111,19,"BASE_URL"],[115,29,111,27],[115,32,111,30,"endpoint"],[115,40,111,38],[115,42,111,40],[116,6,113,4],[116,10,113,8],[117,8,114,6],[117,14,114,12,"response"],[117,22,114,20],[117,25,114,23],[117,31,114,29,"fetch"],[117,36,114,34],[117,37,114,35,"url"],[117,40,114,38],[117,42,114,40],[118,10,115,8],[118,13,115,11,"options"],[118,20,115,18],[119,10,116,8,"headers"],[120,8,117,6],[120,9,117,7],[120,10,117,8],[122,8,119,6],[123,8,120,6],[123,12,120,10,"response"],[123,20,120,18],[123,21,120,19,"status"],[123,27,120,25],[123,32,120,30],[123,35,120,33],[123,39,120,37,"tokens"],[123,45,120,43],[123,47,120,45,"refresh_token"],[123,60,120,58],[123,62,120,60],[124,10,121,8],[124,16,121,14,"newTokens"],[124,25,121,23],[124,28,121,26],[124,34,121,32],[124,38,121,36],[124,39,121,37,"refreshTokens"],[124,52,121,50],[124,53,121,51,"tokens"],[124,59,121,57],[124,60,121,58,"refresh_token"],[124,73,121,71],[124,74,121,72],[125,10,123,8],[125,14,123,12,"newTokens"],[125,23,123,21],[125,25,123,23],[126,12,124,10],[127,12,125,10,"headers"],[127,19,125,17],[127,20,125,18],[127,35,125,33],[127,36,125,34],[127,39,125,37],[127,49,125,47,"newTokens"],[127,58,125,56],[127,59,125,57,"access_token"],[127,71,125,69],[127,73,125,71],[128,12,126,10],[128,18,126,16,"retryResponse"],[128,31,126,29],[128,34,126,32],[128,40,126,38,"fetch"],[128,45,126,43],[128,46,126,44,"url"],[128,49,126,47],[128,51,126,49],[129,14,127,12],[129,17,127,15,"options"],[129,24,127,22],[130,14,128,12,"headers"],[131,12,129,10],[131,13,129,11],[131,14,129,12],[132,12,130,10],[132,19,130,17],[132,23,130,21],[132,24,130,22,"handleResponse"],[132,38,130,36],[132,39,130,40,"retryResponse"],[132,52,130,53],[132,53,130,54],[133,10,131,8],[134,8,132,6],[135,8,134,6],[135,15,134,13],[135,19,134,17],[135,20,134,18,"handleResponse"],[135,34,134,32],[135,35,134,36,"response"],[135,43,134,44],[135,44,134,45],[136,6,135,4],[136,7,135,5],[136,8,135,6],[136,15,135,13,"error"],[136,20,135,18],[136,22,135,20],[137,8,136,6,"console"],[137,15,136,13],[137,16,136,14,"error"],[137,21,136,19],[137,22,136,20],[137,42,136,40],[137,44,136,42,"error"],[137,49,136,47],[137,50,136,48],[138,8,137,6],[138,14,137,12],[139,10,138,8,"message"],[139,17,138,15],[139,19,138,17],[139,51,138,49],[140,10,139,8,"status"],[140,16,139,14],[140,18,139,16],[141,8,140,6],[141,9,140,7],[142,6,141,4],[143,4,142,2],[145,4,144,2],[146,0,145,0],[147,0,146,0],[148,4,147,2],[148,10,147,16,"handleResponse"],[148,24,147,30,"handleResponse"],[148,25,147,34,"response"],[148,33,147,52],[148,35,147,66],[149,6,148,4],[149,10,148,8],[149,11,148,9,"response"],[149,19,148,17],[149,20,148,18,"ok"],[149,22,148,20],[149,24,148,22],[150,8,149,6],[150,14,149,12,"errorData"],[150,23,149,21],[150,26,149,24],[150,32,149,30,"response"],[150,40,149,38],[150,41,149,39,"json"],[150,45,149,43],[150,46,149,44],[150,47,149,45],[150,48,149,46,"catch"],[150,53,149,51],[150,54,149,52],[150,61,149,59],[150,62,149,60],[150,63,149,61],[150,64,149,62],[150,65,149,63],[151,8,150,6],[151,14,150,12],[152,10,151,8,"message"],[152,17,151,15],[152,19,151,17,"errorData"],[152,28,151,26],[152,29,151,27,"detail"],[152,35,151,33],[152,39,151,37,"errorData"],[152,48,151,46],[152,49,151,47,"message"],[152,56,151,54],[152,60,151,58],[152,85,151,83],[153,10,152,8,"status"],[153,16,152,14],[153,18,152,16,"response"],[153,26,152,24],[153,27,152,25,"status"],[153,33,152,31],[154,10,153,8,"detail"],[154,16,153,14],[154,18,153,16,"errorData"],[154,27,153,25],[154,28,153,26,"detail"],[155,8,154,6],[155,9,154,7],[156,6,155,4],[158,6,157,4],[159,6,158,4],[159,12,158,10,"text"],[159,16,158,14],[159,19,158,17],[159,25,158,23,"response"],[159,33,158,31],[159,34,158,32,"text"],[159,38,158,36],[159,39,158,37],[159,40,158,38],[160,6,159,4],[160,10,159,8],[160,11,159,9,"text"],[160,15,159,13],[160,17,159,15],[160,24,159,22],[160,25,159,23],[160,26,159,24],[161,6,161,4],[161,13,161,11,"JSON"],[161,17,161,15],[161,18,161,16,"parse"],[161,23,161,21],[161,24,161,22,"text"],[161,28,161,26],[161,29,161,27],[162,4,162,2],[164,4,164,2],[165,0,165,0],[166,0,166,0],[167,4,167,2],[167,10,167,16,"refreshTokens"],[167,23,167,29,"refreshTokens"],[167,24,167,30,"refreshToken"],[167,36,167,50],[167,38,167,79],[168,6,168,4],[169,6,169,4],[169,10,169,8],[169,14,169,12],[169,15,169,13,"isRefreshing"],[169,27,169,25],[169,29,169,27],[170,8,170,6],[170,15,170,13],[170,19,170,17],[170,20,170,18,"refreshPromise"],[170,34,170,32],[171,6,171,4],[172,6,173,4],[172,10,173,8],[172,11,173,9,"isRefreshing"],[172,23,173,21],[172,26,173,24],[172,30,173,28],[173,6,174,4],[173,10,174,8],[173,11,174,9,"refreshPromise"],[173,25,174,23],[173,28,174,26],[173,32,174,30],[173,33,174,31,"doRefresh"],[173,42,174,40],[173,43,174,41,"refreshToken"],[173,55,174,53],[173,56,174,54],[174,6,176,4],[174,10,176,8],[175,8,177,6],[175,15,177,13],[175,21,177,19],[175,25,177,23],[175,26,177,24,"refreshPromise"],[175,40,177,38],[176,6,178,4],[176,7,178,5],[176,16,178,14],[177,8,179,6],[177,12,179,10],[177,13,179,11,"isRefreshing"],[177,25,179,23],[177,28,179,26],[177,33,179,31],[178,8,180,6],[178,12,180,10],[178,13,180,11,"refreshPromise"],[178,27,180,25],[178,30,180,28],[178,34,180,32],[179,6,181,4],[180,4,182,2],[181,4,184,2],[181,10,184,16,"doRefresh"],[181,19,184,25,"doRefresh"],[181,20,184,26,"refreshToken"],[181,32,184,46],[181,34,184,75],[182,6,185,4],[182,10,185,8],[183,8,186,6],[183,14,186,12,"response"],[183,22,186,20],[183,25,186,23],[183,31,186,29,"fetch"],[183,36,186,34],[183,37,186,35],[183,40,186,38,"BASE_URL"],[183,48,186,46],[183,64,186,62],[183,66,186,64],[184,10,187,8,"method"],[184,16,187,14],[184,18,187,16],[184,24,187,22],[185,10,188,8,"headers"],[185,17,188,15],[185,19,188,17],[186,12,188,19],[186,26,188,33],[186,28,188,35],[187,10,188,54],[187,11,188,55],[188,10,189,8,"body"],[188,14,189,12],[188,16,189,14,"JSON"],[188,20,189,18],[188,21,189,19,"stringify"],[188,30,189,28],[188,31,189,29],[189,12,189,31,"refresh_token"],[189,25,189,44],[189,27,189,46,"refreshToken"],[190,10,189,59],[190,11,189,60],[191,8,190,6],[191,9,190,7],[191,10,190,8],[192,8,192,6],[192,12,192,10,"response"],[192,20,192,18],[192,21,192,19,"ok"],[192,23,192,21],[192,25,192,23],[193,10,193,8],[193,16,193,14,"data"],[193,20,193,18],[193,23,193,21],[193,29,193,27,"response"],[193,37,193,35],[193,38,193,36,"json"],[193,42,193,40],[193,43,193,41],[193,44,193,42],[194,10,194,8],[194,16,194,14,"tokens"],[194,22,194,31],[194,25,194,34],[195,12,195,10,"access_token"],[195,24,195,22],[195,26,195,24,"data"],[195,30,195,28],[195,31,195,29,"access_token"],[195,43,195,41],[196,12,196,10,"refresh_token"],[196,25,196,23],[196,27,196,25,"data"],[196,31,196,29],[196,32,196,30,"refresh_token"],[196,45,196,43],[197,12,197,10,"expires_in"],[197,22,197,20],[197,24,197,22,"data"],[197,28,197,26],[197,29,197,27,"expires_in"],[198,10,198,8],[198,11,198,9],[199,10,199,8],[199,16,199,14,"storage"],[199,23,199,21],[199,24,199,22,"setTokens"],[199,33,199,31],[199,34,199,32,"tokens"],[199,40,199,38],[199,41,199,39],[200,10,200,8],[200,17,200,15,"tokens"],[200,23,200,21],[201,8,201,6],[202,6,202,4],[202,7,202,5],[202,8,202,6],[202,15,202,13,"error"],[202,20,202,18],[202,22,202,20],[203,8,203,6,"console"],[203,15,203,13],[203,16,203,14,"error"],[203,21,203,19],[203,22,203,20],[203,45,203,43],[203,47,203,45,"error"],[203,52,203,50],[203,53,203,51],[204,6,204,4],[206,6,206,4],[207,6,207,4],[207,12,207,10,"storage"],[207,19,207,17],[207,20,207,18,"clearTokens"],[207,31,207,29],[207,32,207,30],[207,33,207,31],[208,6,208,4],[208,13,208,11],[208,17,208,15],[209,4,209,2],[211,4,211,2],[212,4,212,2,"get"],[212,7,212,5,"get"],[212,8,212,9,"endpoint"],[212,16,212,25],[212,18,212,39],[213,6,213,4],[213,13,213,11],[213,17,213,15],[213,18,213,16,"request"],[213,25,213,23],[213,26,213,27,"endpoint"],[213,34,213,35],[213,36,213,37],[214,8,213,39,"method"],[214,14,213,45],[214,16,213,47],[215,6,213,53],[215,7,213,54],[215,8,213,55],[216,4,214,2],[217,4,216,2,"post"],[217,8,216,6,"post"],[217,9,216,10,"endpoint"],[217,17,216,26],[217,19,216,28,"data"],[217,23,216,42],[217,25,216,56],[218,6,217,4],[218,13,217,11],[218,17,217,15],[218,18,217,16,"request"],[218,25,217,23],[218,26,217,27,"endpoint"],[218,34,217,35],[218,36,217,37],[219,8,218,6,"method"],[219,14,218,12],[219,16,218,14],[219,22,218,20],[220,8,219,6,"body"],[220,12,219,10],[220,14,219,12,"data"],[220,18,219,16],[220,21,219,19,"JSON"],[220,25,219,23],[220,26,219,24,"stringify"],[220,35,219,33],[220,36,219,34,"data"],[220,40,219,38],[220,41,219,39],[220,44,219,42,"undefined"],[221,6,220,4],[221,7,220,5],[221,8,220,6],[222,4,221,2],[223,4,223,2,"put"],[223,7,223,5,"put"],[223,8,223,9,"endpoint"],[223,16,223,25],[223,18,223,27,"data"],[223,22,223,41],[223,24,223,55],[224,6,224,4],[224,13,224,11],[224,17,224,15],[224,18,224,16,"request"],[224,25,224,23],[224,26,224,27,"endpoint"],[224,34,224,35],[224,36,224,37],[225,8,225,6,"method"],[225,14,225,12],[225,16,225,14],[225,21,225,19],[226,8,226,6,"body"],[226,12,226,10],[226,14,226,12,"data"],[226,18,226,16],[226,21,226,19,"JSON"],[226,25,226,23],[226,26,226,24,"stringify"],[226,35,226,33],[226,36,226,34,"data"],[226,40,226,38],[226,41,226,39],[226,44,226,42,"undefined"],[227,6,227,4],[227,7,227,5],[227,8,227,6],[228,4,228,2],[229,4,230,2,"delete"],[229,10,230,8,"delete"],[229,11,230,12,"endpoint"],[229,19,230,28],[229,21,230,42],[230,6,231,4],[230,13,231,11],[230,17,231,15],[230,18,231,16,"request"],[230,25,231,23],[230,26,231,27,"endpoint"],[230,34,231,35],[230,36,231,37],[231,8,231,39,"method"],[231,14,231,45],[231,16,231,47],[232,6,231,56],[232,7,231,57],[232,8,231,58],[233,4,232,2],[234,2,233,0],[236,2,235,0],[237,2,236,7],[237,8,236,13,"api"],[237,11,236,16],[237,14,236,19],[237,18,236,23,"ApiClient"],[237,27,236,32],[237,28,236,33],[237,29,236,34],[239,2,238,0],[240,2,239,7],[240,8,239,13,"tokenStorage"],[240,20,239,25],[240,23,239,28,"storage"],[240,30,239,35],[241,0,239,36],[241,3]],"functionMap":{"names":["<global>","getBaseUrl","storage.getTokens","storage.setTokens","storage.clearTokens","ApiClient","ApiClient#request","ApiClient#handleResponse","response.json._catch$argument_0","ApiClient#refreshTokens","ApiClient#doRefresh","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;mBCyB;CDiB;EEM;GFW;EGE;GHW;EIE;GJU;AKI;ECO;GD8C;EEK;oDCE,UD;GFa;EIK;GJe;EKE;GLyB;EMG;GNE;EOE;GPK;EQE;GRK;ESE;GTE;CLC"},"hasCjsExports":false},"type":"js/module"}]}