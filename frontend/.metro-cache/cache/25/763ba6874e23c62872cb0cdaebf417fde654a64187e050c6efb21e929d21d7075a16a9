{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":54,"index":121}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/authService\");\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    isLoading: false,\n    isInitialized: false,\n    isLoggingOut: false,\n    setUser: user => set({\n      user\n    }),\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (email, password, profileId) {\n        set({\n          isLoading: true\n        });\n        try {\n          var user = yield _servicesAuthService.AuthService.login(email, password, profileId);\n          set({\n            user,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw error;\n        }\n      });\n      return function login(_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    signup: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (email, password, name, profileId) {\n        set({\n          isLoading: true\n        });\n        try {\n          var user = yield _servicesAuthService.AuthService.signup(email, password, name, profileId);\n          set({\n            user,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw error;\n        }\n      });\n      return function signup(_x4, _x5, _x6, _x7) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        // Prevent double logout\n        if (get().isLoggingOut) return false;\n        set({\n          isLoggingOut: true\n        });\n        try {\n          // Clear user state FIRST\n          set({\n            user: null\n          });\n          // Then clear storage\n          yield _servicesAuthService.AuthService.logout();\n          set({\n            isLoggingOut: false\n          });\n          return true;\n        } catch (error) {\n          console.error('Logout error:', error);\n          set({\n            isLoggingOut: false\n          });\n          return false;\n        }\n      });\n      return function logout() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    initialize: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var user = yield _servicesAuthService.AuthService.getCurrentUser();\n          set({\n            user,\n            isInitialized: true\n          });\n        } catch (error) {\n          console.error('Initialize error:', error);\n          set({\n            user: null,\n            isInitialized: true\n          });\n        }\n      });\n      return function initialize() {\n        return _ref4.apply(this, arguments);\n      };\n    }(),\n    updateProfile: function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* (profileId) {\n        yield _servicesAuthService.AuthService.updateProfile(profileId);\n        var user = yield _servicesAuthService.AuthService.getCurrentUser();\n        set({\n          user\n        });\n      });\n      return function updateProfile(_x8) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":137,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"useAuthStore"],[15,25,18,0],[16,4,18,0],[17,2,18,0],[18,2,82,4],[18,6,82,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,82,4],[18,45,82,4,"require"],[18,52,82,4],[18,53,82,4,"_dependencyMap"],[18,67,82,4],[19,2,82,4],[19,6,82,4,"_asyncToGenerator"],[19,23,82,4],[19,26,82,4,"_interopDefault"],[19,41,82,4],[19,42,82,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,82,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,3,0],[21,6,3,0,"_servicesAuthService"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,18,7],[22,6,18,13,"useAuthStore"],[22,18,18,25],[22,21,18,28],[22,25,18,28,"create"],[22,33,18,34],[22,34,18,34,"create"],[22,40,18,34],[22,42,18,46],[22,43,18,47,"set"],[22,46,18,50],[22,48,18,52,"get"],[22,51,18,55],[22,57,18,61],[23,4,19,2,"user"],[23,8,19,6],[23,10,19,8],[23,14,19,12],[24,4,20,2,"isLoading"],[24,13,20,11],[24,15,20,13],[24,20,20,18],[25,4,21,2,"isInitialized"],[25,17,21,15],[25,19,21,17],[25,24,21,22],[26,4,22,2,"isLoggingOut"],[26,16,22,14],[26,18,22,16],[26,23,22,21],[27,4,24,2,"setUser"],[27,11,24,9],[27,13,24,12,"user"],[27,17,24,16],[27,21,24,21,"set"],[27,24,24,24],[27,25,24,25],[28,6,24,27,"user"],[29,4,24,32],[29,5,24,33],[29,6,24,34],[30,4,26,2,"login"],[30,9,26,7],[31,6,26,7],[31,10,26,7,"_ref"],[31,14,26,7],[31,21,26,7,"_asyncToGenerator"],[31,38,26,7],[31,39,26,7,"default"],[31,46,26,7],[31,48,26,9],[31,59,26,16,"email"],[31,64,26,21],[31,66,26,23,"password"],[31,74,26,31],[31,76,26,33,"profileId"],[31,85,26,42],[31,87,26,47],[32,8,27,4,"set"],[32,11,27,7],[32,12,27,8],[33,10,27,10,"isLoading"],[33,19,27,19],[33,21,27,21],[34,8,27,26],[34,9,27,27],[34,10,27,28],[35,8,28,4],[35,12,28,8],[36,10,29,6],[36,14,29,12,"user"],[36,18,29,16],[36,27,29,25,"AuthService"],[36,47,29,36],[36,48,29,36,"AuthService"],[36,59,29,36],[36,60,29,37,"login"],[36,65,29,42],[36,66,29,43,"email"],[36,71,29,48],[36,73,29,50,"password"],[36,81,29,58],[36,83,29,60,"profileId"],[36,92,29,69],[36,93,29,70],[37,10,30,6,"set"],[37,13,30,9],[37,14,30,10],[38,12,30,12,"user"],[38,16,30,16],[39,12,30,18,"isLoading"],[39,21,30,27],[39,23,30,29],[40,10,30,35],[40,11,30,36],[40,12,30,37],[41,8,31,4],[41,9,31,5],[41,10,31,6],[41,17,31,13,"error"],[41,22,31,18],[41,24,31,20],[42,10,32,6,"set"],[42,13,32,9],[42,14,32,10],[43,12,32,12,"isLoading"],[43,21,32,21],[43,23,32,23],[44,10,32,29],[44,11,32,30],[44,12,32,31],[45,10,33,6],[45,16,33,12,"error"],[45,21,33,17],[46,8,34,4],[47,6,35,2],[47,7,35,3],[48,6,35,3],[48,22,26,2,"login"],[48,27,26,7,"login"],[48,28,26,7,"_x"],[48,30,26,7],[48,32,26,7,"_x2"],[48,35,26,7],[48,37,26,7,"_x3"],[48,40,26,7],[49,8,26,7],[49,15,26,7,"_ref"],[49,19,26,7],[49,20,26,7,"apply"],[49,25,26,7],[49,32,26,7,"arguments"],[49,41,26,7],[50,6,26,7],[51,4,26,7],[51,7,35,3],[52,4,37,2,"signup"],[52,10,37,8],[53,6,37,8],[53,10,37,8,"_ref2"],[53,15,37,8],[53,22,37,8,"_asyncToGenerator"],[53,39,37,8],[53,40,37,8,"default"],[53,47,37,8],[53,49,37,10],[53,60,37,17,"email"],[53,65,37,22],[53,67,37,24,"password"],[53,75,37,32],[53,77,37,34,"name"],[53,81,37,38],[53,83,37,40,"profileId"],[53,92,37,49],[53,94,37,54],[54,8,38,4,"set"],[54,11,38,7],[54,12,38,8],[55,10,38,10,"isLoading"],[55,19,38,19],[55,21,38,21],[56,8,38,26],[56,9,38,27],[56,10,38,28],[57,8,39,4],[57,12,39,8],[58,10,40,6],[58,14,40,12,"user"],[58,18,40,16],[58,27,40,25,"AuthService"],[58,47,40,36],[58,48,40,36,"AuthService"],[58,59,40,36],[58,60,40,37,"signup"],[58,66,40,43],[58,67,40,44,"email"],[58,72,40,49],[58,74,40,51,"password"],[58,82,40,59],[58,84,40,61,"name"],[58,88,40,65],[58,90,40,67,"profileId"],[58,99,40,76],[58,100,40,77],[59,10,41,6,"set"],[59,13,41,9],[59,14,41,10],[60,12,41,12,"user"],[60,16,41,16],[61,12,41,18,"isLoading"],[61,21,41,27],[61,23,41,29],[62,10,41,35],[62,11,41,36],[62,12,41,37],[63,8,42,4],[63,9,42,5],[63,10,42,6],[63,17,42,13,"error"],[63,22,42,18],[63,24,42,20],[64,10,43,6,"set"],[64,13,43,9],[64,14,43,10],[65,12,43,12,"isLoading"],[65,21,43,21],[65,23,43,23],[66,10,43,29],[66,11,43,30],[66,12,43,31],[67,10,44,6],[67,16,44,12,"error"],[67,21,44,17],[68,8,45,4],[69,6,46,2],[69,7,46,3],[70,6,46,3],[70,22,37,2,"signup"],[70,28,37,8,"signup"],[70,29,37,8,"_x4"],[70,32,37,8],[70,34,37,8,"_x5"],[70,37,37,8],[70,39,37,8,"_x6"],[70,42,37,8],[70,44,37,8,"_x7"],[70,47,37,8],[71,8,37,8],[71,15,37,8,"_ref2"],[71,20,37,8],[71,21,37,8,"apply"],[71,26,37,8],[71,33,37,8,"arguments"],[71,42,37,8],[72,6,37,8],[73,4,37,8],[73,7,46,3],[74,4,48,2,"logout"],[74,10,48,8],[75,6,48,8],[75,10,48,8,"_ref3"],[75,15,48,8],[75,22,48,8,"_asyncToGenerator"],[75,39,48,8],[75,40,48,8,"default"],[75,47,48,8],[75,49,48,10],[75,62,48,22],[76,8,49,4],[77,8,50,4],[77,12,50,8,"get"],[77,15,50,11],[77,16,50,12],[77,17,50,13],[77,18,50,14,"isLoggingOut"],[77,30,50,26],[77,32,50,28],[77,39,50,35],[77,44,50,40],[78,8,52,4,"set"],[78,11,52,7],[78,12,52,8],[79,10,52,10,"isLoggingOut"],[79,22,52,22],[79,24,52,24],[80,8,52,29],[80,9,52,30],[80,10,52,31],[81,8,53,4],[81,12,53,8],[82,10,54,6],[83,10,55,6,"set"],[83,13,55,9],[83,14,55,10],[84,12,55,12,"user"],[84,16,55,16],[84,18,55,18],[85,10,55,23],[85,11,55,24],[85,12,55,25],[86,10,56,6],[87,10,57,6],[87,16,57,12,"AuthService"],[87,36,57,23],[87,37,57,23,"AuthService"],[87,48,57,23],[87,49,57,24,"logout"],[87,55,57,30],[87,56,57,31],[87,57,57,32],[88,10,58,6,"set"],[88,13,58,9],[88,14,58,10],[89,12,58,12,"isLoggingOut"],[89,24,58,24],[89,26,58,26],[90,10,58,32],[90,11,58,33],[90,12,58,34],[91,10,59,6],[91,17,59,13],[91,21,59,17],[92,8,60,4],[92,9,60,5],[92,10,60,6],[92,17,60,13,"error"],[92,22,60,18],[92,24,60,20],[93,10,61,6,"console"],[93,17,61,13],[93,18,61,14,"error"],[93,23,61,19],[93,24,61,20],[93,39,61,35],[93,41,61,37,"error"],[93,46,61,42],[93,47,61,43],[94,10,62,6,"set"],[94,13,62,9],[94,14,62,10],[95,12,62,12,"isLoggingOut"],[95,24,62,24],[95,26,62,26],[96,10,62,32],[96,11,62,33],[96,12,62,34],[97,10,63,6],[97,17,63,13],[97,22,63,18],[98,8,64,4],[99,6,65,2],[99,7,65,3],[100,6,65,3],[100,22,48,2,"logout"],[100,28,48,8,"logout"],[100,29,48,8],[101,8,48,8],[101,15,48,8,"_ref3"],[101,20,48,8],[101,21,48,8,"apply"],[101,26,48,8],[101,33,48,8,"arguments"],[101,42,48,8],[102,6,48,8],[103,4,48,8],[103,7,65,3],[104,4,67,2,"initialize"],[104,14,67,12],[105,6,67,12],[105,10,67,12,"_ref4"],[105,15,67,12],[105,22,67,12,"_asyncToGenerator"],[105,39,67,12],[105,40,67,12,"default"],[105,47,67,12],[105,49,67,14],[105,62,67,26],[106,8,68,4],[106,12,68,8],[107,10,69,6],[107,14,69,12,"user"],[107,18,69,16],[107,27,69,25,"AuthService"],[107,47,69,36],[107,48,69,36,"AuthService"],[107,59,69,36],[107,60,69,37,"getCurrentUser"],[107,74,69,51],[107,75,69,52],[107,76,69,53],[108,10,70,6,"set"],[108,13,70,9],[108,14,70,10],[109,12,70,12,"user"],[109,16,70,16],[110,12,70,18,"isInitialized"],[110,25,70,31],[110,27,70,33],[111,10,70,38],[111,11,70,39],[111,12,70,40],[112,8,71,4],[112,9,71,5],[112,10,71,6],[112,17,71,13,"error"],[112,22,71,18],[112,24,71,20],[113,10,72,6,"console"],[113,17,72,13],[113,18,72,14,"error"],[113,23,72,19],[113,24,72,20],[113,43,72,39],[113,45,72,41,"error"],[113,50,72,46],[113,51,72,47],[114,10,73,6,"set"],[114,13,73,9],[114,14,73,10],[115,12,73,12,"user"],[115,16,73,16],[115,18,73,18],[115,22,73,22],[116,12,73,24,"isInitialized"],[116,25,73,37],[116,27,73,39],[117,10,73,44],[117,11,73,45],[117,12,73,46],[118,8,74,4],[119,6,75,2],[119,7,75,3],[120,6,75,3],[120,22,67,2,"initialize"],[120,32,67,12,"initialize"],[120,33,67,12],[121,8,67,12],[121,15,67,12,"_ref4"],[121,20,67,12],[121,21,67,12,"apply"],[121,26,67,12],[121,33,67,12,"arguments"],[121,42,67,12],[122,6,67,12],[123,4,67,12],[123,7,75,3],[124,4,77,2,"updateProfile"],[124,17,77,15],[125,6,77,15],[125,10,77,15,"_ref5"],[125,15,77,15],[125,22,77,15,"_asyncToGenerator"],[125,39,77,15],[125,40,77,15,"default"],[125,47,77,15],[125,49,77,17],[125,60,77,24,"profileId"],[125,69,77,33],[125,71,77,38],[126,8,78,4],[126,14,78,10,"AuthService"],[126,34,78,21],[126,35,78,21,"AuthService"],[126,46,78,21],[126,47,78,22,"updateProfile"],[126,60,78,35],[126,61,78,36,"profileId"],[126,70,78,45],[126,71,78,46],[127,8,79,4],[127,12,79,10,"user"],[127,16,79,14],[127,25,79,23,"AuthService"],[127,45,79,34],[127,46,79,34,"AuthService"],[127,57,79,34],[127,58,79,35,"getCurrentUser"],[127,72,79,49],[127,73,79,50],[127,74,79,51],[128,8,80,4,"set"],[128,11,80,7],[128,12,80,8],[129,10,80,10,"user"],[130,8,80,15],[130,9,80,16],[130,10,80,17],[131,6,81,2],[131,7,81,3],[132,6,81,3],[132,22,77,2,"updateProfile"],[132,35,77,15,"updateProfile"],[132,36,77,15,"_x8"],[132,39,77,15],[133,8,77,15],[133,15,77,15,"_ref5"],[133,20,77,15],[133,21,77,15,"apply"],[133,26,77,15],[133,33,77,15,"arguments"],[133,42,77,15],[134,6,77,15],[135,4,77,15],[136,2,82,0],[136,3,82,1],[136,4,82,2],[136,5,82,3],[137,0,82,4],[137,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","login","signup","logout","initialize","updateProfile"],"mappings":"AAA;8CCiB;WCM,uBD;SEE;GFS;UGE;GHS;UIE;GJiB;cKE;GLQ;iBME;GNI;EDC"},"hasCjsExports":false},"type":"js/module"}]}