{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useDocumentStore\", {\n    enumerable: true,\n    get: function () {\n      return useDocumentStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // Document status types\n\n  const useDocumentStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    documentStates: {},\n    generatingDocs: [],\n    readyDocsCount: 8,\n    // Initial count from generated previews\n    viewedDocs: [],\n    // Start document generation\n    startGeneration: (docId, selectedSupports) => {\n      set(state => ({\n        documentStates: Object.assign({}, state.documentStates, {\n          [docId]: {\n            id: docId,\n            status: 'en_cours',\n            selectedSupports,\n            generationStartedAt: Date.now()\n          }\n        }),\n        generatingDocs: [...state.generatingDocs, docId]\n      }));\n\n      // Simulate generation completion after 5 seconds\n      setTimeout(() => {\n        get().completeGeneration(docId);\n      }, 5000);\n    },\n    // Complete generation\n    completeGeneration: docId => {\n      set(state => ({\n        documentStates: Object.assign({}, state.documentStates, {\n          [docId]: Object.assign({}, state.documentStates[docId], {\n            status: 'pret'\n          })\n        }),\n        generatingDocs: state.generatingDocs.filter(id => id !== docId),\n        readyDocsCount: state.readyDocsCount + 1\n      }));\n    },\n    // Publish document\n    publishDocument: docId => {\n      set(state => ({\n        documentStates: Object.assign({}, state.documentStates, {\n          [docId]: Object.assign({}, state.documentStates[docId], {\n            status: 'publie',\n            publishedAt: Date.now()\n          })\n        })\n      }));\n    },\n    // Get document status\n    getDocumentStatus: docId => {\n      const state = get().documentStates[docId];\n      return state?.status || 'brouillon';\n    },\n    // Get document state\n    getDocumentState: docId => {\n      return get().documentStates[docId];\n    },\n    // Check if generating\n    isDocumentGenerating: docId => {\n      return get().generatingDocs.includes(docId);\n    },\n    // Check if ready\n    isDocumentReady: docId => {\n      const state = get().documentStates[docId];\n      return state?.status === 'pret';\n    },\n    // Check if published\n    isDocumentPublished: docId => {\n      const state = get().documentStates[docId];\n      return state?.status === 'publie';\n    },\n    // Legacy: Add to generation\n    addToGeneration: docId => {\n      get().startGeneration(docId, ['post']); // Default to post\n    },\n    // Legacy: Remove from generation\n    removeFromGeneration: docId => {\n      set(state => ({\n        generatingDocs: state.generatingDocs.filter(id => id !== docId)\n      }));\n    },\n    markAsViewed: docId => {\n      set(state => ({\n        viewedDocs: [...state.viewedDocs, docId]\n      }));\n    },\n    setReadyDocsCount: count => {\n      set({\n        readyDocsCount: count\n      });\n    },\n    incrementReadyDocs: () => {\n      set(state => ({\n        readyDocsCount: state.readyDocsCount + 1\n      }));\n    }\n  }), {\n    name: 'document-store',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default)\n  }));\n});","lineCount":124,"map":[[12,2,47,0,"Object"],[12,8,47,0],[12,9,47,0,"defineProperty"],[12,23,47,0],[12,24,47,0,"exports"],[12,31,47,0],[13,4,47,0,"enumerable"],[13,14,47,0],[14,4,47,0,"get"],[14,7,47,0],[14,18,47,0,"get"],[14,19,47,0],[15,6,47,0],[15,13,47,0,"useDocumentStore"],[15,29,47,0],[16,4,47,0],[17,2,47,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_zustandMiddleware"],[19,24,2,0],[19,27,2,0,"require"],[19,34,2,0],[19,35,2,0,"_dependencyMap"],[19,49,2,0],[20,2,3,0],[20,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,3,0],[20,45,3,0,"require"],[20,52,3,0],[20,53,3,0,"_dependencyMap"],[20,67,3,0],[21,2,3,0],[21,6,3,0,"AsyncStorage"],[21,18,3,0],[21,21,3,0,"_interopDefault"],[21,36,3,0],[21,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,3,0],[22,2,5,0],[24,2,47,7],[24,8,47,13,"useDocumentStore"],[24,24,47,29],[24,27,47,32],[24,31,47,32,"create"],[24,39,47,38],[24,40,47,38,"create"],[24,46,47,38],[24,48,47,54],[24,49,47,55],[24,50,48,2],[24,54,48,2,"persist"],[24,72,48,9],[24,73,48,9,"persist"],[24,80,48,9],[24,82,49,4],[24,83,49,5,"set"],[24,86,49,8],[24,88,49,10,"get"],[24,91,49,13],[24,97,49,19],[25,4,50,6,"documentStates"],[25,18,50,20],[25,20,50,22],[25,21,50,23],[25,22,50,24],[26,4,51,6,"generatingDocs"],[26,18,51,20],[26,20,51,22],[26,22,51,24],[27,4,52,6,"readyDocsCount"],[27,18,52,20],[27,20,52,22],[27,21,52,23],[28,4,52,25],[29,4,53,6,"viewedDocs"],[29,14,53,16],[29,16,53,18],[29,18,53,20],[30,4,55,6],[31,4,56,6,"startGeneration"],[31,19,56,21],[31,21,56,23,"startGeneration"],[31,22,56,24,"docId"],[31,27,56,29],[31,29,56,31,"selectedSupports"],[31,45,56,47],[31,50,56,52],[32,6,57,8,"set"],[32,9,57,11],[32,10,57,13,"state"],[32,15,57,18],[32,20,57,24],[33,8,58,10,"documentStates"],[33,22,58,24],[33,24,58,24,"Object"],[33,30,58,24],[33,31,58,24,"assign"],[33,37,58,24],[33,42,59,15,"state"],[33,47,59,20],[33,48,59,21,"documentStates"],[33,62,59,35],[34,10,60,12],[34,11,60,13,"docId"],[34,16,60,18],[34,19,60,21],[35,12,61,14,"id"],[35,14,61,16],[35,16,61,18,"docId"],[35,21,61,23],[36,12,62,14,"status"],[36,18,62,20],[36,20,62,22],[36,30,62,32],[37,12,63,14,"selectedSupports"],[37,28,63,30],[38,12,64,14,"generationStartedAt"],[38,31,64,33],[38,33,64,35,"Date"],[38,37,64,39],[38,38,64,40,"now"],[38,41,64,43],[38,42,64,44],[39,10,65,12],[40,8,65,13],[40,10,66,11],[41,8,67,10,"generatingDocs"],[41,22,67,24],[41,24,67,26],[41,25,67,27],[41,28,67,30,"state"],[41,33,67,35],[41,34,67,36,"generatingDocs"],[41,48,67,50],[41,50,67,52,"docId"],[41,55,67,57],[42,6,68,8],[42,7,68,9],[42,8,68,10],[42,9,68,11],[44,6,70,8],[45,6,71,8,"setTimeout"],[45,16,71,18],[45,17,71,19],[45,23,71,25],[46,8,72,10,"get"],[46,11,72,13],[46,12,72,14],[46,13,72,15],[46,14,72,16,"completeGeneration"],[46,32,72,34],[46,33,72,35,"docId"],[46,38,72,40],[46,39,72,41],[47,6,73,8],[47,7,73,9],[47,9,73,11],[47,13,73,15],[47,14,73,16],[48,4,74,6],[48,5,74,7],[49,4,76,6],[50,4,77,6,"completeGeneration"],[50,22,77,24],[50,24,77,27,"docId"],[50,29,77,32],[50,33,77,37],[51,6,78,8,"set"],[51,9,78,11],[51,10,78,13,"state"],[51,15,78,18],[51,20,78,24],[52,8,79,10,"documentStates"],[52,22,79,24],[52,24,79,24,"Object"],[52,30,79,24],[52,31,79,24,"assign"],[52,37,79,24],[52,42,80,15,"state"],[52,47,80,20],[52,48,80,21,"documentStates"],[52,62,80,35],[53,10,81,12],[53,11,81,13,"docId"],[53,16,81,18],[53,19,81,18,"Object"],[53,25,81,18],[53,26,81,18,"assign"],[53,32,81,18],[53,37,82,17,"state"],[53,42,82,22],[53,43,82,23,"documentStates"],[53,57,82,37],[53,58,82,38,"docId"],[53,63,82,43],[53,64,82,44],[54,12,83,14,"status"],[54,18,83,20],[54,20,83,22],[55,10,83,28],[56,8,84,13],[56,10,85,11],[57,8,86,10,"generatingDocs"],[57,22,86,24],[57,24,86,26,"state"],[57,29,86,31],[57,30,86,32,"generatingDocs"],[57,44,86,46],[57,45,86,47,"filter"],[57,51,86,53],[57,52,86,54,"id"],[57,54,86,56],[57,58,86,60,"id"],[57,60,86,62],[57,65,86,67,"docId"],[57,70,86,72],[57,71,86,73],[58,8,87,10,"readyDocsCount"],[58,22,87,24],[58,24,87,26,"state"],[58,29,87,31],[58,30,87,32,"readyDocsCount"],[58,44,87,46],[58,47,87,49],[59,6,88,8],[59,7,88,9],[59,8,88,10],[59,9,88,11],[60,4,89,6],[60,5,89,7],[61,4,91,6],[62,4,92,6,"publishDocument"],[62,19,92,21],[62,21,92,24,"docId"],[62,26,92,29],[62,30,92,34],[63,6,93,8,"set"],[63,9,93,11],[63,10,93,13,"state"],[63,15,93,18],[63,20,93,24],[64,8,94,10,"documentStates"],[64,22,94,24],[64,24,94,24,"Object"],[64,30,94,24],[64,31,94,24,"assign"],[64,37,94,24],[64,42,95,15,"state"],[64,47,95,20],[64,48,95,21,"documentStates"],[64,62,95,35],[65,10,96,12],[65,11,96,13,"docId"],[65,16,96,18],[65,19,96,18,"Object"],[65,25,96,18],[65,26,96,18,"assign"],[65,32,96,18],[65,37,97,17,"state"],[65,42,97,22],[65,43,97,23,"documentStates"],[65,57,97,37],[65,58,97,38,"docId"],[65,63,97,43],[65,64,97,44],[66,12,98,14,"status"],[66,18,98,20],[66,20,98,22],[66,28,98,30],[67,12,99,14,"publishedAt"],[67,23,99,25],[67,25,99,27,"Date"],[67,29,99,31],[67,30,99,32,"now"],[67,33,99,35],[67,34,99,36],[68,10,99,37],[69,8,100,13],[70,6,102,8],[70,7,102,9],[70,8,102,10],[70,9,102,11],[71,4,103,6],[71,5,103,7],[72,4,105,6],[73,4,106,6,"getDocumentStatus"],[73,21,106,23],[73,23,106,26,"docId"],[73,28,106,31],[73,32,106,36],[74,6,107,8],[74,12,107,14,"state"],[74,17,107,19],[74,20,107,22,"get"],[74,23,107,25],[74,24,107,26],[74,25,107,27],[74,26,107,28,"documentStates"],[74,40,107,42],[74,41,107,43,"docId"],[74,46,107,48],[74,47,107,49],[75,6,108,8],[75,13,108,15,"state"],[75,18,108,20],[75,20,108,22,"status"],[75,26,108,28],[75,30,108,32],[75,41,108,43],[76,4,109,6],[76,5,109,7],[77,4,111,6],[78,4,112,6,"getDocumentState"],[78,20,112,22],[78,22,112,25,"docId"],[78,27,112,30],[78,31,112,35],[79,6,113,8],[79,13,113,15,"get"],[79,16,113,18],[79,17,113,19],[79,18,113,20],[79,19,113,21,"documentStates"],[79,33,113,35],[79,34,113,36,"docId"],[79,39,113,41],[79,40,113,42],[80,4,114,6],[80,5,114,7],[81,4,116,6],[82,4,117,6,"isDocumentGenerating"],[82,24,117,26],[82,26,117,29,"docId"],[82,31,117,34],[82,35,117,39],[83,6,118,8],[83,13,118,15,"get"],[83,16,118,18],[83,17,118,19],[83,18,118,20],[83,19,118,21,"generatingDocs"],[83,33,118,35],[83,34,118,36,"includes"],[83,42,118,44],[83,43,118,45,"docId"],[83,48,118,50],[83,49,118,51],[84,4,119,6],[84,5,119,7],[85,4,121,6],[86,4,122,6,"isDocumentReady"],[86,19,122,21],[86,21,122,24,"docId"],[86,26,122,29],[86,30,122,34],[87,6,123,8],[87,12,123,14,"state"],[87,17,123,19],[87,20,123,22,"get"],[87,23,123,25],[87,24,123,26],[87,25,123,27],[87,26,123,28,"documentStates"],[87,40,123,42],[87,41,123,43,"docId"],[87,46,123,48],[87,47,123,49],[88,6,124,8],[88,13,124,15,"state"],[88,18,124,20],[88,20,124,22,"status"],[88,26,124,28],[88,31,124,33],[88,37,124,39],[89,4,125,6],[89,5,125,7],[90,4,127,6],[91,4,128,6,"isDocumentPublished"],[91,23,128,25],[91,25,128,28,"docId"],[91,30,128,33],[91,34,128,38],[92,6,129,8],[92,12,129,14,"state"],[92,17,129,19],[92,20,129,22,"get"],[92,23,129,25],[92,24,129,26],[92,25,129,27],[92,26,129,28,"documentStates"],[92,40,129,42],[92,41,129,43,"docId"],[92,46,129,48],[92,47,129,49],[93,6,130,8],[93,13,130,15,"state"],[93,18,130,20],[93,20,130,22,"status"],[93,26,130,28],[93,31,130,33],[93,39,130,41],[94,4,131,6],[94,5,131,7],[95,4,133,6],[96,4,134,6,"addToGeneration"],[96,19,134,21],[96,21,134,24,"docId"],[96,26,134,29],[96,30,134,34],[97,6,135,8,"get"],[97,9,135,11],[97,10,135,12],[97,11,135,13],[97,12,135,14,"startGeneration"],[97,27,135,29],[97,28,135,30,"docId"],[97,33,135,35],[97,35,135,37],[97,36,135,38],[97,42,135,44],[97,43,135,45],[97,44,135,46],[97,45,135,47],[97,46,135,48],[98,4,136,6],[98,5,136,7],[99,4,138,6],[100,4,139,6,"removeFromGeneration"],[100,24,139,26],[100,26,139,29,"docId"],[100,31,139,34],[100,35,139,39],[101,6,140,8,"set"],[101,9,140,11],[101,10,140,13,"state"],[101,15,140,18],[101,20,140,24],[102,8,141,10,"generatingDocs"],[102,22,141,24],[102,24,141,26,"state"],[102,29,141,31],[102,30,141,32,"generatingDocs"],[102,44,141,46],[102,45,141,47,"filter"],[102,51,141,53],[102,52,141,54,"id"],[102,54,141,56],[102,58,141,60,"id"],[102,60,141,62],[102,65,141,67,"docId"],[102,70,141,72],[103,6,142,8],[103,7,142,9],[103,8,142,10],[103,9,142,11],[104,4,143,6],[104,5,143,7],[105,4,145,6,"markAsViewed"],[105,16,145,18],[105,18,145,21,"docId"],[105,23,145,26],[105,27,145,31],[106,6,146,8,"set"],[106,9,146,11],[106,10,146,13,"state"],[106,15,146,18],[106,20,146,24],[107,8,147,10,"viewedDocs"],[107,18,147,20],[107,20,147,22],[107,21,147,23],[107,24,147,26,"state"],[107,29,147,31],[107,30,147,32,"viewedDocs"],[107,40,147,42],[107,42,147,44,"docId"],[107,47,147,49],[108,6,148,8],[108,7,148,9],[108,8,148,10],[108,9,148,11],[109,4,149,6],[109,5,149,7],[110,4,151,6,"setReadyDocsCount"],[110,21,151,23],[110,23,151,26,"count"],[110,28,151,31],[110,32,151,36],[111,6,152,8,"set"],[111,9,152,11],[111,10,152,12],[112,8,152,14,"readyDocsCount"],[112,22,152,28],[112,24,152,30,"count"],[113,6,152,36],[113,7,152,37],[113,8,152,38],[114,4,153,6],[114,5,153,7],[115,4,155,6,"incrementReadyDocs"],[115,22,155,24],[115,24,155,26,"incrementReadyDocs"],[115,25,155,26],[115,30,155,32],[116,6,156,8,"set"],[116,9,156,11],[116,10,156,13,"state"],[116,15,156,18],[116,20,156,24],[117,8,157,10,"readyDocsCount"],[117,22,157,24],[117,24,157,26,"state"],[117,29,157,31],[117,30,157,32,"readyDocsCount"],[117,44,157,46],[117,47,157,49],[118,6,158,8],[118,7,158,9],[118,8,158,10],[118,9,158,11],[119,4,159,6],[120,2,160,4],[120,3,160,5],[120,4,160,6],[120,6,161,4],[121,4,162,6,"name"],[121,8,162,10],[121,10,162,12],[121,26,162,28],[122,4,163,6,"storage"],[122,11,163,13],[122,13,163,15],[122,17,163,15,"createJSONStorage"],[122,35,163,32],[122,36,163,32,"createJSONStorage"],[122,53,163,32],[122,55,163,33],[122,61,163,39,"AsyncStorage"],[122,73,163,51],[122,74,163,51,"default"],[122,81,163,51],[123,2,164,4],[123,3,165,2],[123,4,166,0],[123,5,166,1],[124,0,166,2],[124,3]],"functionMap":{"names":["<global>","persist$argument_0","startGeneration","set$argument_0","setTimeout$argument_0","completeGeneration","state.generatingDocs.filter$argument_0","publishDocument","getDocumentStatus","getDocumentState","isDocumentGenerating","isDocumentReady","isDocumentPublished","addToGeneration","removeFromGeneration","markAsViewed","setReadyDocsCount","incrementReadyDocs","createJSONStorage$argument_0"],"mappings":"AAA;ICgD;uBCO;YCC;UDW;mBEG;SFE;ODC;0BIG;YFC;sDGQ,kBH;UEE;OJC;uBMG;YJC;UIS;ONC;yBOG;OPG;wBQG;ORE;4BSG;OTE;uBUG;OVG;2BWG;OXG;uBYG;OZE;4BaG;YXC;sDGC,kBH;UWC;ObC;oBcE;YZC;UYE;OdC;yBeE;OfE;0BgBE;YdC;UcE;OhBC;MDC;iCkBG,kBlB"},"hasCjsExports":false},"type":"js/module"}]}