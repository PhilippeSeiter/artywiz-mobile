{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../errors/ErrorMessages","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"APtQ1ObkEMvvpKEHNjwmitGcEgw=","exportNames":["*"],"imports":1}},{"name":"./roundToDecimalPlaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":57},"end":{"line":2,"column":62,"index":119}}],"key":"9r1C8fjaPHF+hWAH+UtzKSV2H1Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"JSFPSMonitor\", {\n    enumerable: true,\n    get: function () {\n      return JSFPSMonitor;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _errorsErrorMessages = require(_dependencyMap[2], \"../errors/ErrorMessages\");\n  var _roundToDecimalPlaces = require(_dependencyMap[3], \"./roundToDecimalPlaces\");\n  /**\n   * Can be used to monitor JS thread performance\n   * Use startTracking() and stopAndGetData() to start and stop tracking\n   */\n  var JSFPSMonitor = /*#__PURE__*/function () {\n    function JSFPSMonitor() {\n      var _this = this;\n      (0, _classCallCheck.default)(this, JSFPSMonitor);\n      this.startTime = 0;\n      this.frameCount = 0;\n      this.timeWindow = {\n        frameCount: 0,\n        startTime: 0\n      };\n      this.minFPS = Number.MAX_SAFE_INTEGER;\n      this.maxFPS = 0;\n      this.averageFPS = 0;\n      this.clearAnimationNumber = 0;\n      this.updateLoopCompute = function () {\n        _this.frameCount++;\n        var elapsedTime = (Date.now() - _this.startTime) / 1000;\n        _this.averageFPS = elapsedTime > 0 ? _this.frameCount / elapsedTime : 0;\n        _this.timeWindow.frameCount++;\n        var timeWindowElapsedTime = (Date.now() - _this.timeWindow.startTime) / 1000;\n        if (timeWindowElapsedTime >= 1) {\n          var timeWindowAverageFPS = _this.timeWindow.frameCount / timeWindowElapsedTime;\n          _this.minFPS = Math.min(_this.minFPS, timeWindowAverageFPS);\n          _this.maxFPS = Math.max(_this.maxFPS, timeWindowAverageFPS);\n          _this.timeWindow.frameCount = 0;\n          _this.timeWindow.startTime = Date.now();\n        }\n        _this.measureLoop();\n      };\n    }\n    return (0, _createClass.default)(JSFPSMonitor, [{\n      key: \"measureLoop\",\n      value: function measureLoop() {\n        // This looks weird but I'm avoiding a new closure\n        this.clearAnimationNumber = requestAnimationFrame(this.updateLoopCompute);\n      }\n    }, {\n      key: \"startTracking\",\n      value: function startTracking() {\n        if (this.startTime !== 0) {\n          throw new Error(_errorsErrorMessages.ErrorMessages.fpsMonitorAlreadyRunning);\n        }\n        this.startTime = Date.now();\n        this.timeWindow.startTime = Date.now();\n        this.measureLoop();\n      }\n    }, {\n      key: \"stopAndGetData\",\n      value: function stopAndGetData() {\n        cancelAnimationFrame(this.clearAnimationNumber);\n        if (this.minFPS === Number.MAX_SAFE_INTEGER) {\n          this.minFPS = this.averageFPS;\n          this.maxFPS = this.averageFPS;\n        }\n        return {\n          minFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.minFPS, 1),\n          maxFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.maxFPS, 1),\n          averageFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.averageFPS, 1)\n        };\n      }\n    }]);\n  }();\n});","lineCount":90,"map":[[12,2,7,0,"Object"],[12,8,7,0],[12,9,7,0,"defineProperty"],[12,23,7,0],[12,24,7,0,"exports"],[12,31,7,0],[13,4,7,0,"enumerable"],[13,14,7,0],[14,4,7,0,"get"],[14,7,7,0],[14,18,7,0,"get"],[14,19,7,0],[15,6,7,0],[15,13,7,0,"JSFPSMonitor"],[15,25,7,0],[16,4,7,0],[17,2,7,0],[18,2,59,1],[18,6,59,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,59,1],[18,43,59,1,"require"],[18,50,59,1],[18,51,59,1,"_dependencyMap"],[18,65,59,1],[19,2,59,1],[19,6,59,1,"_classCallCheck"],[19,21,59,1],[19,24,59,1,"_interopDefault"],[19,39,59,1],[19,40,59,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,59,1],[20,2,59,1],[20,6,59,1,"_babelRuntimeHelpersCreateClass"],[20,37,59,1],[20,40,59,1,"require"],[20,47,59,1],[20,48,59,1,"_dependencyMap"],[20,62,59,1],[21,2,59,1],[21,6,59,1,"_createClass"],[21,18,59,1],[21,21,59,1,"_interopDefault"],[21,36,59,1],[21,37,59,1,"_babelRuntimeHelpersCreateClass"],[21,68,59,1],[22,2,1,0],[22,6,1,0,"_errorsErrorMessages"],[22,26,1,0],[22,29,1,0,"require"],[22,36,1,0],[22,37,1,0,"_dependencyMap"],[22,51,1,0],[23,2,2,0],[23,6,2,0,"_roundToDecimalPlaces"],[23,27,2,0],[23,30,2,0,"require"],[23,37,2,0],[23,38,2,0,"_dependencyMap"],[23,52,2,0],[24,2,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,2,3,0],[28,6,7,13,"JSFPSMonitor"],[28,18,7,25],[29,4,8,4],[29,13,8,4,"JSFPSMonitor"],[29,26,8,4],[29,28,8,18],[30,6,8,18],[30,10,8,18,"_this"],[30,15,8,18],[31,6,8,18],[31,10,8,18,"_classCallCheck"],[31,25,8,18],[31,26,8,18,"default"],[31,33,8,18],[31,41,8,18,"JSFPSMonitor"],[31,53,8,18],[32,6,9,8],[32,10,9,12],[32,11,9,13,"startTime"],[32,20,9,22],[32,23,9,25],[32,24,9,26],[33,6,10,8],[33,10,10,12],[33,11,10,13,"frameCount"],[33,21,10,23],[33,24,10,26],[33,25,10,27],[34,6,11,8],[34,10,11,12],[34,11,11,13,"timeWindow"],[34,21,11,23],[34,24,11,26],[35,8,12,12,"frameCount"],[35,18,12,22],[35,20,12,24],[35,21,12,25],[36,8,13,12,"startTime"],[36,17,13,21],[36,19,13,23],[37,6,14,8],[37,7,14,9],[38,6,15,8],[38,10,15,12],[38,11,15,13,"minFPS"],[38,17,15,19],[38,20,15,22,"Number"],[38,26,15,28],[38,27,15,29,"MAX_SAFE_INTEGER"],[38,43,15,45],[39,6,16,8],[39,10,16,12],[39,11,16,13,"maxFPS"],[39,17,16,19],[39,20,16,22],[39,21,16,23],[40,6,17,8],[40,10,17,12],[40,11,17,13,"averageFPS"],[40,21,17,23],[40,24,17,26],[40,25,17,27],[41,6,18,8],[41,10,18,12],[41,11,18,13,"clearAnimationNumber"],[41,31,18,33],[41,34,18,36],[41,35,18,37],[42,6,19,8],[42,10,19,12],[42,11,19,13,"updateLoopCompute"],[42,28,19,30],[42,31,19,33],[42,43,19,39],[43,8,20,12,"_this"],[43,13,20,16],[43,14,20,17,"frameCount"],[43,24,20,27],[43,26,20,29],[44,8,21,12],[44,12,21,18,"elapsedTime"],[44,23,21,29],[44,26,21,32],[44,27,21,33,"Date"],[44,31,21,37],[44,32,21,38,"now"],[44,35,21,41],[44,36,21,42],[44,37,21,43],[44,40,21,46,"_this"],[44,45,21,50],[44,46,21,51,"startTime"],[44,55,21,60],[44,59,21,64],[44,63,21,68],[45,8,22,12,"_this"],[45,13,22,16],[45,14,22,17,"averageFPS"],[45,24,22,27],[45,27,22,30,"elapsedTime"],[45,38,22,41],[45,41,22,44],[45,42,22,45],[45,45,22,48,"_this"],[45,50,22,52],[45,51,22,53,"frameCount"],[45,61,22,63],[45,64,22,66,"elapsedTime"],[45,75,22,77],[45,78,22,80],[45,79,22,81],[46,8,23,12,"_this"],[46,13,23,16],[46,14,23,17,"timeWindow"],[46,24,23,27],[46,25,23,28,"frameCount"],[46,35,23,38],[46,37,23,40],[47,8,24,12],[47,12,24,18,"timeWindowElapsedTime"],[47,33,24,39],[47,36,24,42],[47,37,24,43,"Date"],[47,41,24,47],[47,42,24,48,"now"],[47,45,24,51],[47,46,24,52],[47,47,24,53],[47,50,24,56,"_this"],[47,55,24,60],[47,56,24,61,"timeWindow"],[47,66,24,71],[47,67,24,72,"startTime"],[47,76,24,81],[47,80,24,85],[47,84,24,89],[48,8,25,12],[48,12,25,16,"timeWindowElapsedTime"],[48,33,25,37],[48,37,25,41],[48,38,25,42],[48,40,25,44],[49,10,26,16],[49,14,26,22,"timeWindowAverageFPS"],[49,34,26,42],[49,37,26,45,"_this"],[49,42,26,49],[49,43,26,50,"timeWindow"],[49,53,26,60],[49,54,26,61,"frameCount"],[49,64,26,71],[49,67,26,74,"timeWindowElapsedTime"],[49,88,26,95],[50,10,27,16,"_this"],[50,15,27,20],[50,16,27,21,"minFPS"],[50,22,27,27],[50,25,27,30,"Math"],[50,29,27,34],[50,30,27,35,"min"],[50,33,27,38],[50,34,27,39,"_this"],[50,39,27,43],[50,40,27,44,"minFPS"],[50,46,27,50],[50,48,27,52,"timeWindowAverageFPS"],[50,68,27,72],[50,69,27,73],[51,10,28,16,"_this"],[51,15,28,20],[51,16,28,21,"maxFPS"],[51,22,28,27],[51,25,28,30,"Math"],[51,29,28,34],[51,30,28,35,"max"],[51,33,28,38],[51,34,28,39,"_this"],[51,39,28,43],[51,40,28,44,"maxFPS"],[51,46,28,50],[51,48,28,52,"timeWindowAverageFPS"],[51,68,28,72],[51,69,28,73],[52,10,29,16,"_this"],[52,15,29,20],[52,16,29,21,"timeWindow"],[52,26,29,31],[52,27,29,32,"frameCount"],[52,37,29,42],[52,40,29,45],[52,41,29,46],[53,10,30,16,"_this"],[53,15,30,20],[53,16,30,21,"timeWindow"],[53,26,30,31],[53,27,30,32,"startTime"],[53,36,30,41],[53,39,30,44,"Date"],[53,43,30,48],[53,44,30,49,"now"],[53,47,30,52],[53,48,30,53],[53,49,30,54],[54,8,31,12],[55,8,32,12,"_this"],[55,13,32,16],[55,14,32,17,"measureLoop"],[55,25,32,28],[55,26,32,29],[55,27,32,30],[56,6,33,8],[56,7,33,9],[57,4,34,4],[58,4,34,5],[58,15,34,5,"_createClass"],[58,27,34,5],[58,28,34,5,"default"],[58,35,34,5],[58,37,34,5,"JSFPSMonitor"],[58,49,34,5],[59,6,34,5,"key"],[59,9,34,5],[60,6,34,5,"value"],[60,11,34,5],[60,13,35,4],[60,22,35,4,"measureLoop"],[60,33,35,15,"measureLoop"],[60,34,35,15],[60,36,35,18],[61,8,36,8],[62,8,37,8],[62,12,37,12],[62,13,37,13,"clearAnimationNumber"],[62,33,37,33],[62,36,37,36,"requestAnimationFrame"],[62,57,37,57],[62,58,37,58],[62,62,37,62],[62,63,37,63,"updateLoopCompute"],[62,80,37,80],[62,81,37,81],[63,6,38,4],[64,4,38,5],[65,6,38,5,"key"],[65,9,38,5],[66,6,38,5,"value"],[66,11,38,5],[66,13,39,4],[66,22,39,4,"startTracking"],[66,35,39,17,"startTracking"],[66,36,39,17],[66,38,39,20],[67,8,40,8],[67,12,40,12],[67,16,40,16],[67,17,40,17,"startTime"],[67,26,40,26],[67,31,40,31],[67,32,40,32],[67,34,40,34],[68,10,41,12],[68,16,41,18],[68,20,41,22,"Error"],[68,25,41,27],[68,26,41,28,"ErrorMessages"],[68,46,41,41],[68,47,41,41,"ErrorMessages"],[68,60,41,41],[68,61,41,42,"fpsMonitorAlreadyRunning"],[68,85,41,66],[68,86,41,67],[69,8,42,8],[70,8,43,8],[70,12,43,12],[70,13,43,13,"startTime"],[70,22,43,22],[70,25,43,25,"Date"],[70,29,43,29],[70,30,43,30,"now"],[70,33,43,33],[70,34,43,34],[70,35,43,35],[71,8,44,8],[71,12,44,12],[71,13,44,13,"timeWindow"],[71,23,44,23],[71,24,44,24,"startTime"],[71,33,44,33],[71,36,44,36,"Date"],[71,40,44,40],[71,41,44,41,"now"],[71,44,44,44],[71,45,44,45],[71,46,44,46],[72,8,45,8],[72,12,45,12],[72,13,45,13,"measureLoop"],[72,24,45,24],[72,25,45,25],[72,26,45,26],[73,6,46,4],[74,4,46,5],[75,6,46,5,"key"],[75,9,46,5],[76,6,46,5,"value"],[76,11,46,5],[76,13,47,4],[76,22,47,4,"stopAndGetData"],[76,36,47,18,"stopAndGetData"],[76,37,47,18],[76,39,47,21],[77,8,48,8,"cancelAnimationFrame"],[77,28,48,28],[77,29,48,29],[77,33,48,33],[77,34,48,34,"clearAnimationNumber"],[77,54,48,54],[77,55,48,55],[78,8,49,8],[78,12,49,12],[78,16,49,16],[78,17,49,17,"minFPS"],[78,23,49,23],[78,28,49,28,"Number"],[78,34,49,34],[78,35,49,35,"MAX_SAFE_INTEGER"],[78,51,49,51],[78,53,49,53],[79,10,50,12],[79,14,50,16],[79,15,50,17,"minFPS"],[79,21,50,23],[79,24,50,26],[79,28,50,30],[79,29,50,31,"averageFPS"],[79,39,50,41],[80,10,51,12],[80,14,51,16],[80,15,51,17,"maxFPS"],[80,21,51,23],[80,24,51,26],[80,28,51,30],[80,29,51,31,"averageFPS"],[80,39,51,41],[81,8,52,8],[82,8,53,8],[82,15,53,15],[83,10,54,12,"minFPS"],[83,16,54,18],[83,18,54,20],[83,22,54,20,"roundToDecimalPlaces"],[83,43,54,40],[83,44,54,40,"roundToDecimalPlaces"],[83,64,54,40],[83,66,54,41],[83,70,54,45],[83,71,54,46,"minFPS"],[83,77,54,52],[83,79,54,54],[83,80,54,55],[83,81,54,56],[84,10,55,12,"maxFPS"],[84,16,55,18],[84,18,55,20],[84,22,55,20,"roundToDecimalPlaces"],[84,43,55,40],[84,44,55,40,"roundToDecimalPlaces"],[84,64,55,40],[84,66,55,41],[84,70,55,45],[84,71,55,46,"maxFPS"],[84,77,55,52],[84,79,55,54],[84,80,55,55],[84,81,55,56],[85,10,56,12,"averageFPS"],[85,20,56,22],[85,22,56,24],[85,26,56,24,"roundToDecimalPlaces"],[85,47,56,44],[85,48,56,44,"roundToDecimalPlaces"],[85,68,56,44],[85,70,56,45],[85,74,56,49],[85,75,56,50,"averageFPS"],[85,85,56,60],[85,87,56,62],[85,88,56,63],[86,8,57,8],[86,9,57,9],[87,6,58,4],[88,4,58,5],[89,2,58,5],[90,0,58,5],[90,3]],"functionMap":{"names":["<global>","JSFPSMonitor","constructor","updateLoopCompute","measureLoop","startTracking","stopAndGetData"],"mappings":"AAA;OCM;ICC;iCCW;SDc;KDC;IGC;KHG;IIC;KJO;IKC;KLW;CDC"},"hasCjsExports":false},"type":"js/module"}]}