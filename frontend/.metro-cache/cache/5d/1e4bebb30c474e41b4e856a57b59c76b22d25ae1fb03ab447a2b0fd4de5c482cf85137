{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthService\", {\n    enumerable: true,\n    get: function () {\n      return AuthService;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const AUTH_KEY = '@artywiz_auth';\n\n  // Hybrid storage that works on both web and native\n  const hybridAuthStorage = {\n    getItem: async key => {\n      try {\n        if (Platform.default.OS === 'web') {\n          if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n            const value = window.localStorage.getItem(key);\n            console.log('[AuthService] Web getItem:', key, value ? 'found' : 'not found');\n            return value;\n          }\n          return null;\n        }\n        const value = await AsyncStorage.default.getItem(key);\n        console.log('[AuthService] Native getItem:', key, value ? 'found' : 'not found');\n        return value;\n      } catch (error) {\n        console.error('[AuthService] getItem error:', error);\n        return null;\n      }\n    },\n    setItem: async (key, value) => {\n      try {\n        if (Platform.default.OS === 'web') {\n          if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n            window.localStorage.setItem(key, value);\n            console.log('[AuthService] Web setItem:', key);\n            return;\n          }\n          return;\n        }\n        await AsyncStorage.default.setItem(key, value);\n        console.log('[AuthService] Native setItem:', key);\n      } catch (error) {\n        console.error('[AuthService] setItem error:', error);\n      }\n    },\n    removeItem: async key => {\n      try {\n        if (Platform.default.OS === 'web') {\n          if (typeof window !== 'undefined' && typeof window.localStorage !== 'undefined') {\n            window.localStorage.removeItem(key);\n            console.log('[AuthService] Web removeItem:', key);\n            return;\n          }\n          return;\n        }\n        await AsyncStorage.default.removeItem(key);\n        console.log('[AuthService] Native removeItem:', key);\n      } catch (error) {\n        console.error('[AuthService] removeItem error:', error);\n      }\n    }\n  };\n  class AuthService {\n    static async login(email, password, profileId) {\n      // Mock validation\n      if (!email || !password) {\n        throw new Error('Email et mot de passe requis');\n      }\n      if (!this.isValidEmail(email)) {\n        throw new Error('Format email invalide');\n      }\n\n      // Create mock user\n      const user = {\n        email,\n        name: email.split('@')[0],\n        profileId\n      };\n\n      // Save to storage\n      await hybridAuthStorage.setItem(AUTH_KEY, JSON.stringify(user));\n      return user;\n    }\n    static async signup(email, password, name, profileId) {\n      // Mock validation\n      if (!email || !password || !name) {\n        throw new Error('Tous les champs sont requis');\n      }\n      if (!this.isValidEmail(email)) {\n        throw new Error('Format email invalide');\n      }\n      if (password.length < 6) {\n        throw new Error('Le mot de passe doit contenir au moins 6 caractÃ¨res');\n      }\n\n      // Create mock user\n      const user = {\n        email,\n        name,\n        profileId\n      };\n\n      // Save to storage\n      await hybridAuthStorage.setItem(AUTH_KEY, JSON.stringify(user));\n      return user;\n    }\n    static async getCurrentUser() {\n      try {\n        const userJson = await hybridAuthStorage.getItem(AUTH_KEY);\n        if (userJson) {\n          console.log('[AuthService] Current user found');\n          return JSON.parse(userJson);\n        }\n        console.log('[AuthService] No current user');\n        return null;\n      } catch (error) {\n        console.error('[AuthService] Error getting current user:', error);\n        return null;\n      }\n    }\n    static async logout() {\n      await hybridAuthStorage.removeItem(AUTH_KEY);\n    }\n    static async updateProfile(profileId) {\n      const user = await this.getCurrentUser();\n      if (user) {\n        user.profileId = profileId;\n        await hybridAuthStorage.setItem(AUTH_KEY, JSON.stringify(user));\n      }\n    }\n    static isValidEmail(email) {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return emailRegex.test(email);\n    }\n  }\n});","lineCount":150,"map":[[12,2,61,0,"Object"],[12,8,61,0],[12,9,61,0,"defineProperty"],[12,23,61,0],[12,24,61,0,"exports"],[12,31,61,0],[13,4,61,0,"enumerable"],[13,14,61,0],[14,4,61,0,"get"],[14,7,61,0],[14,18,61,0,"get"],[14,19,61,0],[15,6,61,0],[15,13,61,0,"AuthService"],[15,24,61,0],[16,4,61,0],[17,2,61,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,1,69],[20,6,1,69,"_reactNativeWebDistExportsPlatform"],[20,40,1,69],[20,43,1,69,"require"],[20,50,1,69],[20,51,1,69,"_dependencyMap"],[20,65,1,69],[21,2,1,69],[21,6,1,69,"Platform"],[21,14,1,69],[21,17,1,69,"_interopDefault"],[21,32,1,69],[21,33,1,69,"_reactNativeWebDistExportsPlatform"],[21,67,1,69],[22,2,5,0],[22,8,5,6,"AUTH_KEY"],[22,16,5,14],[22,19,5,17],[22,34,5,32],[24,2,7,0],[25,2,8,0],[25,8,8,6,"hybridAuthStorage"],[25,25,8,23],[25,28,8,26],[26,4,9,2,"getItem"],[26,11,9,9],[26,13,9,11],[26,19,9,18,"key"],[26,22,9,29],[26,26,9,58],[27,6,10,4],[27,10,10,8],[28,8,11,6],[28,12,11,10,"Platform"],[28,20,11,18],[28,21,11,18,"default"],[28,28,11,18],[28,29,11,19,"OS"],[28,31,11,21],[28,36,11,26],[28,41,11,31],[28,43,11,33],[29,10,12,8],[29,14,12,12],[29,21,12,19,"window"],[29,27,12,25],[29,32,12,30],[29,43,12,41],[29,47,12,45],[29,54,12,52,"window"],[29,60,12,58],[29,61,12,59,"localStorage"],[29,73,12,71],[29,78,12,76],[29,89,12,87],[29,91,12,89],[30,12,13,10],[30,18,13,16,"value"],[30,23,13,21],[30,26,13,24,"window"],[30,32,13,30],[30,33,13,31,"localStorage"],[30,45,13,43],[30,46,13,44,"getItem"],[30,53,13,51],[30,54,13,52,"key"],[30,57,13,55],[30,58,13,56],[31,12,14,10,"console"],[31,19,14,17],[31,20,14,18,"log"],[31,23,14,21],[31,24,14,22],[31,52,14,50],[31,54,14,52,"key"],[31,57,14,55],[31,59,14,57,"value"],[31,64,14,62],[31,67,14,65],[31,74,14,72],[31,77,14,75],[31,88,14,86],[31,89,14,87],[32,12,15,10],[32,19,15,17,"value"],[32,24,15,22],[33,10,16,8],[34,10,17,8],[34,17,17,15],[34,21,17,19],[35,8,18,6],[36,8,19,6],[36,14,19,12,"value"],[36,19,19,17],[36,22,19,20],[36,28,19,26,"AsyncStorage"],[36,40,19,38],[36,41,19,38,"default"],[36,48,19,38],[36,49,19,39,"getItem"],[36,56,19,46],[36,57,19,47,"key"],[36,60,19,50],[36,61,19,51],[37,8,20,6,"console"],[37,15,20,13],[37,16,20,14,"log"],[37,19,20,17],[37,20,20,18],[37,51,20,49],[37,53,20,51,"key"],[37,56,20,54],[37,58,20,56,"value"],[37,63,20,61],[37,66,20,64],[37,73,20,71],[37,76,20,74],[37,87,20,85],[37,88,20,86],[38,8,21,6],[38,15,21,13,"value"],[38,20,21,18],[39,6,22,4],[39,7,22,5],[39,8,22,6],[39,15,22,13,"error"],[39,20,22,18],[39,22,22,20],[40,8,23,6,"console"],[40,15,23,13],[40,16,23,14,"error"],[40,21,23,19],[40,22,23,20],[40,52,23,50],[40,54,23,52,"error"],[40,59,23,57],[40,60,23,58],[41,8,24,6],[41,15,24,13],[41,19,24,17],[42,6,25,4],[43,4,26,2],[43,5,26,3],[44,4,27,2,"setItem"],[44,11,27,9],[44,13,27,11],[44,19,27,11,"setItem"],[44,20,27,18,"key"],[44,23,27,29],[44,25,27,31,"value"],[44,30,27,44],[44,35,27,64],[45,6,28,4],[45,10,28,8],[46,8,29,6],[46,12,29,10,"Platform"],[46,20,29,18],[46,21,29,18,"default"],[46,28,29,18],[46,29,29,19,"OS"],[46,31,29,21],[46,36,29,26],[46,41,29,31],[46,43,29,33],[47,10,30,8],[47,14,30,12],[47,21,30,19,"window"],[47,27,30,25],[47,32,30,30],[47,43,30,41],[47,47,30,45],[47,54,30,52,"window"],[47,60,30,58],[47,61,30,59,"localStorage"],[47,73,30,71],[47,78,30,76],[47,89,30,87],[47,91,30,89],[48,12,31,10,"window"],[48,18,31,16],[48,19,31,17,"localStorage"],[48,31,31,29],[48,32,31,30,"setItem"],[48,39,31,37],[48,40,31,38,"key"],[48,43,31,41],[48,45,31,43,"value"],[48,50,31,48],[48,51,31,49],[49,12,32,10,"console"],[49,19,32,17],[49,20,32,18,"log"],[49,23,32,21],[49,24,32,22],[49,52,32,50],[49,54,32,52,"key"],[49,57,32,55],[49,58,32,56],[50,12,33,10],[51,10,34,8],[52,10,35,8],[53,8,36,6],[54,8,37,6],[54,14,37,12,"AsyncStorage"],[54,26,37,24],[54,27,37,24,"default"],[54,34,37,24],[54,35,37,25,"setItem"],[54,42,37,32],[54,43,37,33,"key"],[54,46,37,36],[54,48,37,38,"value"],[54,53,37,43],[54,54,37,44],[55,8,38,6,"console"],[55,15,38,13],[55,16,38,14,"log"],[55,19,38,17],[55,20,38,18],[55,51,38,49],[55,53,38,51,"key"],[55,56,38,54],[55,57,38,55],[56,6,39,4],[56,7,39,5],[56,8,39,6],[56,15,39,13,"error"],[56,20,39,18],[56,22,39,20],[57,8,40,6,"console"],[57,15,40,13],[57,16,40,14,"error"],[57,21,40,19],[57,22,40,20],[57,52,40,50],[57,54,40,52,"error"],[57,59,40,57],[57,60,40,58],[58,6,41,4],[59,4,42,2],[59,5,42,3],[60,4,43,2,"removeItem"],[60,14,43,12],[60,16,43,14],[60,22,43,21,"key"],[60,25,43,32],[60,29,43,52],[61,6,44,4],[61,10,44,8],[62,8,45,6],[62,12,45,10,"Platform"],[62,20,45,18],[62,21,45,18,"default"],[62,28,45,18],[62,29,45,19,"OS"],[62,31,45,21],[62,36,45,26],[62,41,45,31],[62,43,45,33],[63,10,46,8],[63,14,46,12],[63,21,46,19,"window"],[63,27,46,25],[63,32,46,30],[63,43,46,41],[63,47,46,45],[63,54,46,52,"window"],[63,60,46,58],[63,61,46,59,"localStorage"],[63,73,46,71],[63,78,46,76],[63,89,46,87],[63,91,46,89],[64,12,47,10,"window"],[64,18,47,16],[64,19,47,17,"localStorage"],[64,31,47,29],[64,32,47,30,"removeItem"],[64,42,47,40],[64,43,47,41,"key"],[64,46,47,44],[64,47,47,45],[65,12,48,10,"console"],[65,19,48,17],[65,20,48,18,"log"],[65,23,48,21],[65,24,48,22],[65,55,48,53],[65,57,48,55,"key"],[65,60,48,58],[65,61,48,59],[66,12,49,10],[67,10,50,8],[68,10,51,8],[69,8,52,6],[70,8,53,6],[70,14,53,12,"AsyncStorage"],[70,26,53,24],[70,27,53,24,"default"],[70,34,53,24],[70,35,53,25,"removeItem"],[70,45,53,35],[70,46,53,36,"key"],[70,49,53,39],[70,50,53,40],[71,8,54,6,"console"],[71,15,54,13],[71,16,54,14,"log"],[71,19,54,17],[71,20,54,18],[71,54,54,52],[71,56,54,54,"key"],[71,59,54,57],[71,60,54,58],[72,6,55,4],[72,7,55,5],[72,8,55,6],[72,15,55,13,"error"],[72,20,55,18],[72,22,55,20],[73,8,56,6,"console"],[73,15,56,13],[73,16,56,14,"error"],[73,21,56,19],[73,22,56,20],[73,55,56,53],[73,57,56,55,"error"],[73,62,56,60],[73,63,56,61],[74,6,57,4],[75,4,58,2],[76,2,59,0],[76,3,59,1],[77,2,61,7],[77,8,61,13,"AuthService"],[77,19,61,24],[77,20,61,25],[78,4,62,2],[78,17,62,15,"login"],[78,22,62,20,"login"],[78,23,62,21,"email"],[78,28,62,34],[78,30,62,36,"password"],[78,38,62,52],[78,40,62,54,"profileId"],[78,49,62,71],[78,51,62,88],[79,6,63,4],[80,6,64,4],[80,10,64,8],[80,11,64,9,"email"],[80,16,64,14],[80,20,64,18],[80,21,64,19,"password"],[80,29,64,27],[80,31,64,29],[81,8,65,6],[81,14,65,12],[81,18,65,16,"Error"],[81,23,65,21],[81,24,65,22],[81,54,65,52],[81,55,65,53],[82,6,66,4],[83,6,68,4],[83,10,68,8],[83,11,68,9],[83,15,68,13],[83,16,68,14,"isValidEmail"],[83,28,68,26],[83,29,68,27,"email"],[83,34,68,32],[83,35,68,33],[83,37,68,35],[84,8,69,6],[84,14,69,12],[84,18,69,16,"Error"],[84,23,69,21],[84,24,69,22],[84,47,69,45],[84,48,69,46],[85,6,70,4],[87,6,72,4],[88,6,73,4],[88,12,73,10,"user"],[88,16,73,20],[88,19,73,23],[89,8,74,6,"email"],[89,13,74,11],[90,8,75,6,"name"],[90,12,75,10],[90,14,75,12,"email"],[90,19,75,17],[90,20,75,18,"split"],[90,25,75,23],[90,26,75,24],[90,29,75,27],[90,30,75,28],[90,31,75,29],[90,32,75,30],[90,33,75,31],[91,8,76,6,"profileId"],[92,6,77,4],[92,7,77,5],[94,6,79,4],[95,6,80,4],[95,12,80,10,"hybridAuthStorage"],[95,29,80,27],[95,30,80,28,"setItem"],[95,37,80,35],[95,38,80,36,"AUTH_KEY"],[95,46,80,44],[95,48,80,46,"JSON"],[95,52,80,50],[95,53,80,51,"stringify"],[95,62,80,60],[95,63,80,61,"user"],[95,67,80,65],[95,68,80,66],[95,69,80,67],[96,6,81,4],[96,13,81,11,"user"],[96,17,81,15],[97,4,82,2],[98,4,84,2],[98,17,84,15,"signup"],[98,23,84,21,"signup"],[98,24,84,22,"email"],[98,29,84,35],[98,31,84,37,"password"],[98,39,84,53],[98,41,84,55,"name"],[98,45,84,67],[98,47,84,69,"profileId"],[98,56,84,86],[98,58,84,103],[99,6,85,4],[100,6,86,4],[100,10,86,8],[100,11,86,9,"email"],[100,16,86,14],[100,20,86,18],[100,21,86,19,"password"],[100,29,86,27],[100,33,86,31],[100,34,86,32,"name"],[100,38,86,36],[100,40,86,38],[101,8,87,6],[101,14,87,12],[101,18,87,16,"Error"],[101,23,87,21],[101,24,87,22],[101,53,87,51],[101,54,87,52],[102,6,88,4],[103,6,90,4],[103,10,90,8],[103,11,90,9],[103,15,90,13],[103,16,90,14,"isValidEmail"],[103,28,90,26],[103,29,90,27,"email"],[103,34,90,32],[103,35,90,33],[103,37,90,35],[104,8,91,6],[104,14,91,12],[104,18,91,16,"Error"],[104,23,91,21],[104,24,91,22],[104,47,91,45],[104,48,91,46],[105,6,92,4],[106,6,94,4],[106,10,94,8,"password"],[106,18,94,16],[106,19,94,17,"length"],[106,25,94,23],[106,28,94,26],[106,29,94,27],[106,31,94,29],[107,8,95,6],[107,14,95,12],[107,18,95,16,"Error"],[107,23,95,21],[107,24,95,22],[107,77,95,75],[107,78,95,76],[108,6,96,4],[110,6,98,4],[111,6,99,4],[111,12,99,10,"user"],[111,16,99,20],[111,19,99,23],[112,8,100,6,"email"],[112,13,100,11],[113,8,101,6,"name"],[113,12,101,10],[114,8,102,6,"profileId"],[115,6,103,4],[115,7,103,5],[117,6,105,4],[118,6,106,4],[118,12,106,10,"hybridAuthStorage"],[118,29,106,27],[118,30,106,28,"setItem"],[118,37,106,35],[118,38,106,36,"AUTH_KEY"],[118,46,106,44],[118,48,106,46,"JSON"],[118,52,106,50],[118,53,106,51,"stringify"],[118,62,106,60],[118,63,106,61,"user"],[118,67,106,65],[118,68,106,66],[118,69,106,67],[119,6,107,4],[119,13,107,11,"user"],[119,17,107,15],[120,4,108,2],[121,4,110,2],[121,17,110,15,"getCurrentUser"],[121,31,110,29,"getCurrentUser"],[121,32,110,29],[121,34,110,54],[122,6,111,4],[122,10,111,8],[123,8,112,6],[123,14,112,12,"userJson"],[123,22,112,20],[123,25,112,23],[123,31,112,29,"hybridAuthStorage"],[123,48,112,46],[123,49,112,47,"getItem"],[123,56,112,54],[123,57,112,55,"AUTH_KEY"],[123,65,112,63],[123,66,112,64],[124,8,113,6],[124,12,113,10,"userJson"],[124,20,113,18],[124,22,113,20],[125,10,114,8,"console"],[125,17,114,15],[125,18,114,16,"log"],[125,21,114,19],[125,22,114,20],[125,56,114,54],[125,57,114,55],[126,10,115,8],[126,17,115,15,"JSON"],[126,21,115,19],[126,22,115,20,"parse"],[126,27,115,25],[126,28,115,26,"userJson"],[126,36,115,34],[126,37,115,35],[127,8,116,6],[128,8,117,6,"console"],[128,15,117,13],[128,16,117,14,"log"],[128,19,117,17],[128,20,117,18],[128,51,117,49],[128,52,117,50],[129,8,118,6],[129,15,118,13],[129,19,118,17],[130,6,119,4],[130,7,119,5],[130,8,119,6],[130,15,119,13,"error"],[130,20,119,18],[130,22,119,20],[131,8,120,6,"console"],[131,15,120,13],[131,16,120,14,"error"],[131,21,120,19],[131,22,120,20],[131,65,120,63],[131,67,120,65,"error"],[131,72,120,70],[131,73,120,71],[132,8,121,6],[132,15,121,13],[132,19,121,17],[133,6,122,4],[134,4,123,2],[135,4,125,2],[135,17,125,15,"logout"],[135,23,125,21,"logout"],[135,24,125,21],[135,26,125,39],[136,6,126,4],[136,12,126,10,"hybridAuthStorage"],[136,29,126,27],[136,30,126,28,"removeItem"],[136,40,126,38],[136,41,126,39,"AUTH_KEY"],[136,49,126,47],[136,50,126,48],[137,4,127,2],[138,4,129,2],[138,17,129,15,"updateProfile"],[138,30,129,28,"updateProfile"],[138,31,129,29,"profileId"],[138,40,129,46],[138,42,129,63],[139,6,130,4],[139,12,130,10,"user"],[139,16,130,14],[139,19,130,17],[139,25,130,23],[139,29,130,27],[139,30,130,28,"getCurrentUser"],[139,44,130,42],[139,45,130,43],[139,46,130,44],[140,6,131,4],[140,10,131,8,"user"],[140,14,131,12],[140,16,131,14],[141,8,132,6,"user"],[141,12,132,10],[141,13,132,11,"profileId"],[141,22,132,20],[141,25,132,23,"profileId"],[141,34,132,32],[142,8,133,6],[142,14,133,12,"hybridAuthStorage"],[142,31,133,29],[142,32,133,30,"setItem"],[142,39,133,37],[142,40,133,38,"AUTH_KEY"],[142,48,133,46],[142,50,133,48,"JSON"],[142,54,133,52],[142,55,133,53,"stringify"],[142,64,133,62],[142,65,133,63,"user"],[142,69,133,67],[142,70,133,68],[142,71,133,69],[143,6,134,4],[144,4,135,2],[145,4,137,2],[145,11,137,17,"isValidEmail"],[145,23,137,29,"isValidEmail"],[145,24,137,30,"email"],[145,29,137,43],[145,31,137,54],[146,6,138,4],[146,12,138,10,"emailRegex"],[146,22,138,20],[146,25,138,23],[146,53,138,51],[147,6,139,4],[147,13,139,11,"emailRegex"],[147,23,139,21],[147,24,139,22,"test"],[147,28,139,26],[147,29,139,27,"email"],[147,34,139,32],[147,35,139,33],[148,4,140,2],[149,2,141,0],[150,0,141,1],[150,3]],"functionMap":{"names":["<global>","hybridAuthStorage.getItem","hybridAuthStorage.setItem","hybridAuthStorage.removeItem","AuthService","AuthService.login","AuthService.signup","AuthService.getCurrentUser","AuthService.logout","AuthService.updateProfile","AuthService.isValidEmail"],"mappings":"AAA;WCQ;GDiB;WEC;GFe;cGC;GHe;OIG;ECC;GDoB;EEE;GFwB;EGE;GHa;EIE;GJE;EKE;GLM;EME;GNG;CJC"},"hasCjsExports":false},"type":"js/module"}]}