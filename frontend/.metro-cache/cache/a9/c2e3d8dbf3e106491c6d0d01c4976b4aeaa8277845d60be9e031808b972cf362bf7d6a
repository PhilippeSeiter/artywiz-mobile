{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":130},"end":{"line":5,"column":69,"index":199}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":241},"end":{"line":7,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"tokenStorage\", {\n    enumerable: true,\n    get: function () {\n      return tokenStorage;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Centralized API client for Artywiz\n   * Handles all HTTP requests with authentication, error handling, and token refresh\n   */\n\n  // Types\n\n  // Storage keys\n  const TOKEN_KEY = '@artywiz_tokens';\n\n  // Get base URL from environment\n  const getBaseUrl = () => {\n    // Use environment variable or fallback\n    const envUrl = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) return envUrl;\n\n    // Default for development\n    if (Platform.default.OS === 'web') {\n      return '/api';\n    }\n    return 'http://localhost:8001/api';\n  };\n  const BASE_URL = getBaseUrl();\n\n  // Token storage helpers\n  const storage = {\n    async getTokens() {\n      try {\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          const data = window.localStorage.getItem(TOKEN_KEY);\n          return data ? JSON.parse(data) : null;\n        }\n        const data = await AsyncStorage.default.getItem(TOKEN_KEY);\n        return data ? JSON.parse(data) : null;\n      } catch {\n        return null;\n      }\n    },\n    async setTokens(tokens) {\n      try {\n        const data = JSON.stringify(tokens);\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.setItem(TOKEN_KEY, data);\n          return;\n        }\n        await AsyncStorage.default.setItem(TOKEN_KEY, data);\n      } catch (error) {\n        console.error('Failed to save tokens:', error);\n      }\n    },\n    async clearTokens() {\n      try {\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.removeItem(TOKEN_KEY);\n          return;\n        }\n        await AsyncStorage.default.removeItem(TOKEN_KEY);\n      } catch (error) {\n        console.error('Failed to clear tokens:', error);\n      }\n    }\n  };\n\n  // API Client class\n  class ApiClient {\n    isRefreshing = false;\n    refreshPromise = null;\n\n    /**\n     * Make an authenticated request\n     */\n    async request(endpoint, options = {}) {\n      const tokens = await storage.getTokens();\n      const headers = Object.assign({\n        'Content-Type': 'application/json'\n      }, options.headers || {});\n      if (tokens?.access_token) {\n        headers['Authorization'] = `Bearer ${tokens.access_token}`;\n      }\n      const url = `${BASE_URL}${endpoint}`;\n      try {\n        const response = await fetch(url, Object.assign({}, options, {\n          headers\n        }));\n\n        // Handle 401 - try to refresh token\n        if (response.status === 401 && tokens?.refresh_token) {\n          const newTokens = await this.refreshTokens(tokens.refresh_token);\n          if (newTokens) {\n            // Retry request with new token\n            headers['Authorization'] = `Bearer ${newTokens.access_token}`;\n            const retryResponse = await fetch(url, Object.assign({}, options, {\n              headers\n            }));\n            return this.handleResponse(retryResponse);\n          }\n        }\n        return this.handleResponse(response);\n      } catch (error) {\n        console.error('API request error:', error);\n        throw {\n          message: 'Erreur de connexion au serveur',\n          status: 0\n        };\n      }\n    }\n\n    /**\n     * Handle response and errors\n     */\n    async handleResponse(response) {\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw {\n          message: errorData.detail || errorData.message || 'Une erreur est survenue',\n          status: response.status,\n          detail: errorData.detail\n        };\n      }\n\n      // Handle empty response\n      const text = await response.text();\n      if (!text) return {};\n      return JSON.parse(text);\n    }\n\n    /**\n     * Refresh access token\n     */\n    async refreshTokens(refreshToken) {\n      // Prevent multiple simultaneous refresh requests\n      if (this.isRefreshing) {\n        return this.refreshPromise;\n      }\n      this.isRefreshing = true;\n      this.refreshPromise = this.doRefresh(refreshToken);\n      try {\n        return await this.refreshPromise;\n      } finally {\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n      }\n    }\n    async doRefresh(refreshToken) {\n      try {\n        const response = await fetch(`${BASE_URL}/users/refresh`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            refresh_token: refreshToken\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          const tokens = {\n            access_token: data.access_token,\n            refresh_token: data.refresh_token,\n            expires_in: data.expires_in\n          };\n          await storage.setTokens(tokens);\n          return tokens;\n        }\n      } catch (error) {\n        console.error('Token refresh failed:', error);\n      }\n\n      // Clear tokens on refresh failure\n      await storage.clearTokens();\n      return null;\n    }\n\n    // Convenience methods\n    get(endpoint) {\n      return this.request(endpoint, {\n        method: 'GET'\n      });\n    }\n    post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n\n  // Export singleton instance\n  const api = new ApiClient();\n\n  // Export storage for auth store\n  const tokenStorage = storage;\n});","lineCount":234,"map":[[12,2,231,0,"Object"],[12,8,231,0],[12,9,231,0,"defineProperty"],[12,23,231,0],[12,24,231,0,"exports"],[12,31,231,0],[13,4,231,0,"enumerable"],[13,14,231,0],[14,4,231,0,"get"],[14,7,231,0],[14,18,231,0,"get"],[14,19,231,0],[15,6,231,0],[15,13,231,0,"api"],[15,16,231,0],[16,4,231,0],[17,2,231,0],[18,2,234,0,"Object"],[18,8,234,0],[18,9,234,0,"defineProperty"],[18,23,234,0],[18,24,234,0,"exports"],[18,31,234,0],[19,4,234,0,"enumerable"],[19,14,234,0],[20,4,234,0,"get"],[20,7,234,0],[20,18,234,0,"get"],[20,19,234,0],[21,6,234,0],[21,13,234,0,"tokenStorage"],[21,25,234,0],[22,4,234,0],[23,2,234,0],[24,2,234,36],[24,6,234,36,"_expoVirtualEnv"],[24,21,234,36],[24,24,234,36,"require"],[24,31,234,36],[24,32,234,36,"_dependencyMap"],[24,46,234,36],[25,2,5,0],[25,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,5,0],[25,45,5,0,"require"],[25,52,5,0],[25,53,5,0,"_dependencyMap"],[25,67,5,0],[26,2,5,0],[26,6,5,0,"AsyncStorage"],[26,18,5,0],[26,21,5,0,"_interopDefault"],[26,36,5,0],[26,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,5,0],[27,2,5,69],[27,6,5,69,"_reactNativeWebDistExportsPlatform"],[27,40,5,69],[27,43,5,69,"require"],[27,50,5,69],[27,51,5,69,"_dependencyMap"],[27,65,5,69],[28,2,5,69],[28,6,5,69,"Platform"],[28,14,5,69],[28,17,5,69,"_interopDefault"],[28,32,5,69],[28,33,5,69,"_reactNativeWebDistExportsPlatform"],[28,67,5,69],[29,2,7,0],[29,6,7,0,"_expoConstants"],[29,20,7,0],[29,23,7,0,"require"],[29,30,7,0],[29,31,7,0,"_dependencyMap"],[29,45,7,0],[30,2,7,0],[30,6,7,0,"Constants"],[30,15,7,0],[30,18,7,0,"_interopDefault"],[30,33,7,0],[30,34,7,0,"_expoConstants"],[30,48,7,0],[31,2,1,0],[32,0,2,0],[33,0,3,0],[34,0,4,0],[36,2,9,0],[38,2,22,0],[39,2,23,0],[39,8,23,6,"TOKEN_KEY"],[39,17,23,15],[39,20,23,18],[39,37,23,35],[41,2,25,0],[42,2,26,0],[42,8,26,6,"getBaseUrl"],[42,18,26,16],[42,21,26,19,"getBaseUrl"],[42,22,26,19],[42,27,26,33],[43,4,27,2],[44,4,28,2],[44,10,28,8,"envUrl"],[44,16,28,14],[44,19,28,17,"Constants"],[44,28,28,26],[44,29,28,26,"default"],[44,36,28,26],[44,37,28,27,"expoConfig"],[44,47,28,37],[44,49,28,39,"extra"],[44,54,28,44],[44,56,28,46,"backendUrl"],[44,66,28,56],[44,70,28,56,"_expoVirtualEnv"],[44,85,28,56],[44,86,28,56,"env"],[44,89,28,56],[44,90,28,56,"EXPO_PUBLIC_BACKEND_URL"],[44,113,29,42],[45,4,31,2],[45,8,31,6,"envUrl"],[45,14,31,12],[45,16,31,14],[45,23,31,21,"envUrl"],[45,29,31,27],[47,4,33,2],[48,4,34,2],[48,8,34,6,"Platform"],[48,16,34,14],[48,17,34,14,"default"],[48,24,34,14],[48,25,34,15,"OS"],[48,27,34,17],[48,32,34,22],[48,37,34,27],[48,39,34,29],[49,6,35,4],[49,13,35,11],[49,19,35,17],[50,4,36,2],[51,4,37,2],[51,11,37,9],[51,38,37,36],[52,2,38,0],[52,3,38,1],[53,2,40,0],[53,8,40,6,"BASE_URL"],[53,16,40,14],[53,19,40,17,"getBaseUrl"],[53,29,40,27],[53,30,40,28],[53,31,40,29],[55,2,42,0],[56,2,43,0],[56,8,43,6,"storage"],[56,15,43,13],[56,18,43,16],[57,4,44,2],[57,10,44,8,"getTokens"],[57,19,44,17,"getTokens"],[57,20,44,17],[57,22,44,47],[58,6,45,4],[58,10,45,8],[59,8,46,6],[59,12,46,10,"Platform"],[59,20,46,18],[59,21,46,18,"default"],[59,28,46,18],[59,29,46,19,"OS"],[59,31,46,21],[59,36,46,26],[59,41,46,31],[59,45,46,35],[59,52,46,42,"window"],[59,58,46,48],[59,63,46,53],[59,74,46,64],[59,78,46,68,"window"],[59,84,46,74],[59,85,46,75,"localStorage"],[59,97,46,87],[59,99,46,89],[60,10,47,8],[60,16,47,14,"data"],[60,20,47,18],[60,23,47,21,"window"],[60,29,47,27],[60,30,47,28,"localStorage"],[60,42,47,40],[60,43,47,41,"getItem"],[60,50,47,48],[60,51,47,49,"TOKEN_KEY"],[60,60,47,58],[60,61,47,59],[61,10,48,8],[61,17,48,15,"data"],[61,21,48,19],[61,24,48,22,"JSON"],[61,28,48,26],[61,29,48,27,"parse"],[61,34,48,32],[61,35,48,33,"data"],[61,39,48,37],[61,40,48,38],[61,43,48,41],[61,47,48,45],[62,8,49,6],[63,8,50,6],[63,14,50,12,"data"],[63,18,50,16],[63,21,50,19],[63,27,50,25,"AsyncStorage"],[63,39,50,37],[63,40,50,37,"default"],[63,47,50,37],[63,48,50,38,"getItem"],[63,55,50,45],[63,56,50,46,"TOKEN_KEY"],[63,65,50,55],[63,66,50,56],[64,8,51,6],[64,15,51,13,"data"],[64,19,51,17],[64,22,51,20,"JSON"],[64,26,51,24],[64,27,51,25,"parse"],[64,32,51,30],[64,33,51,31,"data"],[64,37,51,35],[64,38,51,36],[64,41,51,39],[64,45,51,43],[65,6,52,4],[65,7,52,5],[65,8,52,6],[65,14,52,12],[66,8,53,6],[66,15,53,13],[66,19,53,17],[67,6,54,4],[68,4,55,2],[68,5,55,3],[69,4,57,2],[69,10,57,8,"setTokens"],[69,19,57,17,"setTokens"],[69,20,57,18,"tokens"],[69,26,57,35],[69,28,57,52],[70,6,58,4],[70,10,58,8],[71,8,59,6],[71,14,59,12,"data"],[71,18,59,16],[71,21,59,19,"JSON"],[71,25,59,23],[71,26,59,24,"stringify"],[71,35,59,33],[71,36,59,34,"tokens"],[71,42,59,40],[71,43,59,41],[72,8,60,6],[72,12,60,10,"Platform"],[72,20,60,18],[72,21,60,18,"default"],[72,28,60,18],[72,29,60,19,"OS"],[72,31,60,21],[72,36,60,26],[72,41,60,31],[72,45,60,35],[72,52,60,42,"window"],[72,58,60,48],[72,63,60,53],[72,74,60,64],[72,78,60,68,"window"],[72,84,60,74],[72,85,60,75,"localStorage"],[72,97,60,87],[72,99,60,89],[73,10,61,8,"window"],[73,16,61,14],[73,17,61,15,"localStorage"],[73,29,61,27],[73,30,61,28,"setItem"],[73,37,61,35],[73,38,61,36,"TOKEN_KEY"],[73,47,61,45],[73,49,61,47,"data"],[73,53,61,51],[73,54,61,52],[74,10,62,8],[75,8,63,6],[76,8,64,6],[76,14,64,12,"AsyncStorage"],[76,26,64,24],[76,27,64,24,"default"],[76,34,64,24],[76,35,64,25,"setItem"],[76,42,64,32],[76,43,64,33,"TOKEN_KEY"],[76,52,64,42],[76,54,64,44,"data"],[76,58,64,48],[76,59,64,49],[77,6,65,4],[77,7,65,5],[77,8,65,6],[77,15,65,13,"error"],[77,20,65,18],[77,22,65,20],[78,8,66,6,"console"],[78,15,66,13],[78,16,66,14,"error"],[78,21,66,19],[78,22,66,20],[78,46,66,44],[78,48,66,46,"error"],[78,53,66,51],[78,54,66,52],[79,6,67,4],[80,4,68,2],[80,5,68,3],[81,4,70,2],[81,10,70,8,"clearTokens"],[81,21,70,19,"clearTokens"],[81,22,70,19],[81,24,70,37],[82,6,71,4],[82,10,71,8],[83,8,72,6],[83,12,72,10,"Platform"],[83,20,72,18],[83,21,72,18,"default"],[83,28,72,18],[83,29,72,19,"OS"],[83,31,72,21],[83,36,72,26],[83,41,72,31],[83,45,72,35],[83,52,72,42,"window"],[83,58,72,48],[83,63,72,53],[83,74,72,64],[83,78,72,68,"window"],[83,84,72,74],[83,85,72,75,"localStorage"],[83,97,72,87],[83,99,72,89],[84,10,73,8,"window"],[84,16,73,14],[84,17,73,15,"localStorage"],[84,29,73,27],[84,30,73,28,"removeItem"],[84,40,73,38],[84,41,73,39,"TOKEN_KEY"],[84,50,73,48],[84,51,73,49],[85,10,74,8],[86,8,75,6],[87,8,76,6],[87,14,76,12,"AsyncStorage"],[87,26,76,24],[87,27,76,24,"default"],[87,34,76,24],[87,35,76,25,"removeItem"],[87,45,76,35],[87,46,76,36,"TOKEN_KEY"],[87,55,76,45],[87,56,76,46],[88,6,77,4],[88,7,77,5],[88,8,77,6],[88,15,77,13,"error"],[88,20,77,18],[88,22,77,20],[89,8,78,6,"console"],[89,15,78,13],[89,16,78,14,"error"],[89,21,78,19],[89,22,78,20],[89,47,78,45],[89,49,78,47,"error"],[89,54,78,52],[89,55,78,53],[90,6,79,4],[91,4,80,2],[92,2,81,0],[92,3,81,1],[94,2,83,0],[95,2,84,0],[95,8,84,6,"ApiClient"],[95,17,84,15],[95,18,84,16],[96,4,85,10,"isRefreshing"],[96,16,85,22],[96,19,85,25],[96,24,85,30],[97,4,86,10,"refreshPromise"],[97,18,86,24],[97,21,86,61],[97,25,86,65],[99,4,88,2],[100,0,89,0],[101,0,90,0],[102,4,91,2],[102,10,91,8,"request"],[102,17,91,15,"request"],[102,18,92,4,"endpoint"],[102,26,92,20],[102,28,93,4,"options"],[102,35,93,24],[102,38,93,27],[102,39,93,28],[102,40,93,29],[102,42,94,16],[103,6,95,4],[103,12,95,10,"tokens"],[103,18,95,16],[103,21,95,19],[103,27,95,25,"storage"],[103,34,95,32],[103,35,95,33,"getTokens"],[103,44,95,42],[103,45,95,43],[103,46,95,44],[104,6,97,4],[104,12,97,10,"headers"],[104,19,97,41],[104,22,97,41,"Object"],[104,28,97,41],[104,29,97,41,"assign"],[104,35,97,41],[105,8,98,6],[105,22,98,20],[105,24,98,22],[106,6,98,40],[106,9,99,11,"options"],[106,16,99,18],[106,17,99,19,"headers"],[106,24,99,26],[106,28,99,57],[106,29,99,58],[106,30,99,59],[106,31,100,5],[107,6,102,4],[107,10,102,8,"tokens"],[107,16,102,14],[107,18,102,16,"access_token"],[107,30,102,28],[107,32,102,30],[108,8,103,6,"headers"],[108,15,103,13],[108,16,103,14],[108,31,103,29],[108,32,103,30],[108,35,103,33],[108,45,103,43,"tokens"],[108,51,103,49],[108,52,103,50,"access_token"],[108,64,103,62],[108,66,103,64],[109,6,104,4],[110,6,106,4],[110,12,106,10,"url"],[110,15,106,13],[110,18,106,16],[110,21,106,19,"BASE_URL"],[110,29,106,27],[110,32,106,30,"endpoint"],[110,40,106,38],[110,42,106,40],[111,6,108,4],[111,10,108,8],[112,8,109,6],[112,14,109,12,"response"],[112,22,109,20],[112,25,109,23],[112,31,109,29,"fetch"],[112,36,109,34],[112,37,109,35,"url"],[112,40,109,38],[112,42,109,38,"Object"],[112,48,109,38],[112,49,109,38,"assign"],[112,55,109,38],[112,60,110,11,"options"],[112,67,110,18],[113,10,111,8,"headers"],[114,8,111,15],[114,10,112,7],[114,11,112,8],[116,8,114,6],[117,8,115,6],[117,12,115,10,"response"],[117,20,115,18],[117,21,115,19,"status"],[117,27,115,25],[117,32,115,30],[117,35,115,33],[117,39,115,37,"tokens"],[117,45,115,43],[117,47,115,45,"refresh_token"],[117,60,115,58],[117,62,115,60],[118,10,116,8],[118,16,116,14,"newTokens"],[118,25,116,23],[118,28,116,26],[118,34,116,32],[118,38,116,36],[118,39,116,37,"refreshTokens"],[118,52,116,50],[118,53,116,51,"tokens"],[118,59,116,57],[118,60,116,58,"refresh_token"],[118,73,116,71],[118,74,116,72],[119,10,118,8],[119,14,118,12,"newTokens"],[119,23,118,21],[119,25,118,23],[120,12,119,10],[121,12,120,10,"headers"],[121,19,120,17],[121,20,120,18],[121,35,120,33],[121,36,120,34],[121,39,120,37],[121,49,120,47,"newTokens"],[121,58,120,56],[121,59,120,57,"access_token"],[121,71,120,69],[121,73,120,71],[122,12,121,10],[122,18,121,16,"retryResponse"],[122,31,121,29],[122,34,121,32],[122,40,121,38,"fetch"],[122,45,121,43],[122,46,121,44,"url"],[122,49,121,47],[122,51,121,47,"Object"],[122,57,121,47],[122,58,121,47,"assign"],[122,64,121,47],[122,69,122,15,"options"],[122,76,122,22],[123,14,123,12,"headers"],[124,12,123,19],[124,14,124,11],[124,15,124,12],[125,12,125,10],[125,19,125,17],[125,23,125,21],[125,24,125,22,"handleResponse"],[125,38,125,36],[125,39,125,40,"retryResponse"],[125,52,125,53],[125,53,125,54],[126,10,126,8],[127,8,127,6],[128,8,129,6],[128,15,129,13],[128,19,129,17],[128,20,129,18,"handleResponse"],[128,34,129,32],[128,35,129,36,"response"],[128,43,129,44],[128,44,129,45],[129,6,130,4],[129,7,130,5],[129,8,130,6],[129,15,130,13,"error"],[129,20,130,18],[129,22,130,20],[130,8,131,6,"console"],[130,15,131,13],[130,16,131,14,"error"],[130,21,131,19],[130,22,131,20],[130,42,131,40],[130,44,131,42,"error"],[130,49,131,47],[130,50,131,48],[131,8,132,6],[131,14,132,12],[132,10,133,8,"message"],[132,17,133,15],[132,19,133,17],[132,51,133,49],[133,10,134,8,"status"],[133,16,134,14],[133,18,134,16],[134,8,135,6],[134,9,135,7],[135,6,136,4],[136,4,137,2],[138,4,139,2],[139,0,140,0],[140,0,141,0],[141,4,142,2],[141,10,142,16,"handleResponse"],[141,24,142,30,"handleResponse"],[141,25,142,34,"response"],[141,33,142,52],[141,35,142,66],[142,6,143,4],[142,10,143,8],[142,11,143,9,"response"],[142,19,143,17],[142,20,143,18,"ok"],[142,22,143,20],[142,24,143,22],[143,8,144,6],[143,14,144,12,"errorData"],[143,23,144,21],[143,26,144,24],[143,32,144,30,"response"],[143,40,144,38],[143,41,144,39,"json"],[143,45,144,43],[143,46,144,44],[143,47,144,45],[143,48,144,46,"catch"],[143,53,144,51],[143,54,144,52],[143,61,144,59],[143,62,144,60],[143,63,144,61],[143,64,144,62],[143,65,144,63],[144,8,145,6],[144,14,145,12],[145,10,146,8,"message"],[145,17,146,15],[145,19,146,17,"errorData"],[145,28,146,26],[145,29,146,27,"detail"],[145,35,146,33],[145,39,146,37,"errorData"],[145,48,146,46],[145,49,146,47,"message"],[145,56,146,54],[145,60,146,58],[145,85,146,83],[146,10,147,8,"status"],[146,16,147,14],[146,18,147,16,"response"],[146,26,147,24],[146,27,147,25,"status"],[146,33,147,31],[147,10,148,8,"detail"],[147,16,148,14],[147,18,148,16,"errorData"],[147,27,148,25],[147,28,148,26,"detail"],[148,8,149,6],[148,9,149,7],[149,6,150,4],[151,6,152,4],[152,6,153,4],[152,12,153,10,"text"],[152,16,153,14],[152,19,153,17],[152,25,153,23,"response"],[152,33,153,31],[152,34,153,32,"text"],[152,38,153,36],[152,39,153,37],[152,40,153,38],[153,6,154,4],[153,10,154,8],[153,11,154,9,"text"],[153,15,154,13],[153,17,154,15],[153,24,154,22],[153,25,154,23],[153,26,154,24],[154,6,156,4],[154,13,156,11,"JSON"],[154,17,156,15],[154,18,156,16,"parse"],[154,23,156,21],[154,24,156,22,"text"],[154,28,156,26],[154,29,156,27],[155,4,157,2],[157,4,159,2],[158,0,160,0],[159,0,161,0],[160,4,162,2],[160,10,162,16,"refreshTokens"],[160,23,162,29,"refreshTokens"],[160,24,162,30,"refreshToken"],[160,36,162,50],[160,38,162,79],[161,6,163,4],[162,6,164,4],[162,10,164,8],[162,14,164,12],[162,15,164,13,"isRefreshing"],[162,27,164,25],[162,29,164,27],[163,8,165,6],[163,15,165,13],[163,19,165,17],[163,20,165,18,"refreshPromise"],[163,34,165,32],[164,6,166,4],[165,6,168,4],[165,10,168,8],[165,11,168,9,"isRefreshing"],[165,23,168,21],[165,26,168,24],[165,30,168,28],[166,6,169,4],[166,10,169,8],[166,11,169,9,"refreshPromise"],[166,25,169,23],[166,28,169,26],[166,32,169,30],[166,33,169,31,"doRefresh"],[166,42,169,40],[166,43,169,41,"refreshToken"],[166,55,169,53],[166,56,169,54],[167,6,171,4],[167,10,171,8],[168,8,172,6],[168,15,172,13],[168,21,172,19],[168,25,172,23],[168,26,172,24,"refreshPromise"],[168,40,172,38],[169,6,173,4],[169,7,173,5],[169,16,173,14],[170,8,174,6],[170,12,174,10],[170,13,174,11,"isRefreshing"],[170,25,174,23],[170,28,174,26],[170,33,174,31],[171,8,175,6],[171,12,175,10],[171,13,175,11,"refreshPromise"],[171,27,175,25],[171,30,175,28],[171,34,175,32],[172,6,176,4],[173,4,177,2],[174,4,179,2],[174,10,179,16,"doRefresh"],[174,19,179,25,"doRefresh"],[174,20,179,26,"refreshToken"],[174,32,179,46],[174,34,179,75],[175,6,180,4],[175,10,180,8],[176,8,181,6],[176,14,181,12,"response"],[176,22,181,20],[176,25,181,23],[176,31,181,29,"fetch"],[176,36,181,34],[176,37,181,35],[176,40,181,38,"BASE_URL"],[176,48,181,46],[176,64,181,62],[176,66,181,64],[177,10,182,8,"method"],[177,16,182,14],[177,18,182,16],[177,24,182,22],[178,10,183,8,"headers"],[178,17,183,15],[178,19,183,17],[179,12,183,19],[179,26,183,33],[179,28,183,35],[180,10,183,54],[180,11,183,55],[181,10,184,8,"body"],[181,14,184,12],[181,16,184,14,"JSON"],[181,20,184,18],[181,21,184,19,"stringify"],[181,30,184,28],[181,31,184,29],[182,12,184,31,"refresh_token"],[182,25,184,44],[182,27,184,46,"refreshToken"],[183,10,184,59],[183,11,184,60],[184,8,185,6],[184,9,185,7],[184,10,185,8],[185,8,187,6],[185,12,187,10,"response"],[185,20,187,18],[185,21,187,19,"ok"],[185,23,187,21],[185,25,187,23],[186,10,188,8],[186,16,188,14,"data"],[186,20,188,18],[186,23,188,21],[186,29,188,27,"response"],[186,37,188,35],[186,38,188,36,"json"],[186,42,188,40],[186,43,188,41],[186,44,188,42],[187,10,189,8],[187,16,189,14,"tokens"],[187,22,189,31],[187,25,189,34],[188,12,190,10,"access_token"],[188,24,190,22],[188,26,190,24,"data"],[188,30,190,28],[188,31,190,29,"access_token"],[188,43,190,41],[189,12,191,10,"refresh_token"],[189,25,191,23],[189,27,191,25,"data"],[189,31,191,29],[189,32,191,30,"refresh_token"],[189,45,191,43],[190,12,192,10,"expires_in"],[190,22,192,20],[190,24,192,22,"data"],[190,28,192,26],[190,29,192,27,"expires_in"],[191,10,193,8],[191,11,193,9],[192,10,194,8],[192,16,194,14,"storage"],[192,23,194,21],[192,24,194,22,"setTokens"],[192,33,194,31],[192,34,194,32,"tokens"],[192,40,194,38],[192,41,194,39],[193,10,195,8],[193,17,195,15,"tokens"],[193,23,195,21],[194,8,196,6],[195,6,197,4],[195,7,197,5],[195,8,197,6],[195,15,197,13,"error"],[195,20,197,18],[195,22,197,20],[196,8,198,6,"console"],[196,15,198,13],[196,16,198,14,"error"],[196,21,198,19],[196,22,198,20],[196,45,198,43],[196,47,198,45,"error"],[196,52,198,50],[196,53,198,51],[197,6,199,4],[199,6,201,4],[200,6,202,4],[200,12,202,10,"storage"],[200,19,202,17],[200,20,202,18,"clearTokens"],[200,31,202,29],[200,32,202,30],[200,33,202,31],[201,6,203,4],[201,13,203,11],[201,17,203,15],[202,4,204,2],[204,4,206,2],[205,4,207,2,"get"],[205,7,207,5,"get"],[205,8,207,9,"endpoint"],[205,16,207,25],[205,18,207,39],[206,6,208,4],[206,13,208,11],[206,17,208,15],[206,18,208,16,"request"],[206,25,208,23],[206,26,208,27,"endpoint"],[206,34,208,35],[206,36,208,37],[207,8,208,39,"method"],[207,14,208,45],[207,16,208,47],[208,6,208,53],[208,7,208,54],[208,8,208,55],[209,4,209,2],[210,4,211,2,"post"],[210,8,211,6,"post"],[210,9,211,10,"endpoint"],[210,17,211,26],[210,19,211,28,"data"],[210,23,211,42],[210,25,211,56],[211,6,212,4],[211,13,212,11],[211,17,212,15],[211,18,212,16,"request"],[211,25,212,23],[211,26,212,27,"endpoint"],[211,34,212,35],[211,36,212,37],[212,8,213,6,"method"],[212,14,213,12],[212,16,213,14],[212,22,213,20],[213,8,214,6,"body"],[213,12,214,10],[213,14,214,12,"data"],[213,18,214,16],[213,21,214,19,"JSON"],[213,25,214,23],[213,26,214,24,"stringify"],[213,35,214,33],[213,36,214,34,"data"],[213,40,214,38],[213,41,214,39],[213,44,214,42,"undefined"],[214,6,215,4],[214,7,215,5],[214,8,215,6],[215,4,216,2],[216,4,218,2,"put"],[216,7,218,5,"put"],[216,8,218,9,"endpoint"],[216,16,218,25],[216,18,218,27,"data"],[216,22,218,41],[216,24,218,55],[217,6,219,4],[217,13,219,11],[217,17,219,15],[217,18,219,16,"request"],[217,25,219,23],[217,26,219,27,"endpoint"],[217,34,219,35],[217,36,219,37],[218,8,220,6,"method"],[218,14,220,12],[218,16,220,14],[218,21,220,19],[219,8,221,6,"body"],[219,12,221,10],[219,14,221,12,"data"],[219,18,221,16],[219,21,221,19,"JSON"],[219,25,221,23],[219,26,221,24,"stringify"],[219,35,221,33],[219,36,221,34,"data"],[219,40,221,38],[219,41,221,39],[219,44,221,42,"undefined"],[220,6,222,4],[220,7,222,5],[220,8,222,6],[221,4,223,2],[222,4,225,2,"delete"],[222,10,225,8,"delete"],[222,11,225,12,"endpoint"],[222,19,225,28],[222,21,225,42],[223,6,226,4],[223,13,226,11],[223,17,226,15],[223,18,226,16,"request"],[223,25,226,23],[223,26,226,27,"endpoint"],[223,34,226,35],[223,36,226,37],[224,8,226,39,"method"],[224,14,226,45],[224,16,226,47],[225,6,226,56],[225,7,226,57],[225,8,226,58],[226,4,227,2],[227,2,228,0],[229,2,230,0],[230,2,231,7],[230,8,231,13,"api"],[230,11,231,16],[230,14,231,19],[230,18,231,23,"ApiClient"],[230,27,231,32],[230,28,231,33],[230,29,231,34],[232,2,233,0],[233,2,234,7],[233,8,234,13,"tokenStorage"],[233,20,234,25],[233,23,234,28,"storage"],[233,30,234,35],[234,0,234,36],[234,3]],"functionMap":{"names":["<global>","getBaseUrl","storage.getTokens","storage.setTokens","storage.clearTokens","ApiClient","ApiClient#request","ApiClient#handleResponse","response.json._catch$argument_0","ApiClient#refreshTokens","ApiClient#doRefresh","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;mBCyB;CDY;EEM;GFW;EGE;GHW;EIE;GJU;AKI;ECO;GD8C;EEK;oDCE,UD;GFa;EIK;GJe;EKE;GLyB;EMG;GNE;EOE;GPK;EQE;GRK;ESE;GTE;CLC"},"hasCjsExports":false},"type":"js/module"}]}