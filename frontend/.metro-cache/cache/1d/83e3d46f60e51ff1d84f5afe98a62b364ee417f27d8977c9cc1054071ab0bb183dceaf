{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":130},"end":{"line":5,"column":69,"index":199}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":241},"end":{"line":7,"column":39,"index":280}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  Object.defineProperty(exports, \"tokenStorage\", {\n    enumerable: true,\n    get: function () {\n      return tokenStorage;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Centralized API client for Artywiz\n   * Handles all HTTP requests with authentication, error handling, and token refresh\n   */\n\n  // Types\n\n  // Storage keys\n  const TOKEN_KEY = '@artywiz_tokens';\n\n  // Get base URL from environment\n  const getBaseUrl = () => {\n    // For web, always use relative /api path (handled by nginx proxy)\n    if (Platform.default.OS === 'web') {\n      return '/api';\n    }\n\n    // For native (Expo Go), use environment variable\n    const envUrl = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      // Add /api if not already present\n      return envUrl.endsWith('/api') ? envUrl : `${envUrl}/api`;\n    }\n\n    // Default fallback for local development\n    return 'http://localhost:8001/api';\n  };\n  const BASE_URL = getBaseUrl();\n\n  // Token storage helpers\n  const storage = {\n    async getTokens() {\n      try {\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          const data = window.localStorage.getItem(TOKEN_KEY);\n          return data ? JSON.parse(data) : null;\n        }\n        const data = await AsyncStorage.default.getItem(TOKEN_KEY);\n        return data ? JSON.parse(data) : null;\n      } catch {\n        return null;\n      }\n    },\n    async setTokens(tokens) {\n      try {\n        const data = JSON.stringify(tokens);\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.setItem(TOKEN_KEY, data);\n          return;\n        }\n        await AsyncStorage.default.setItem(TOKEN_KEY, data);\n      } catch (error) {\n        console.error('Failed to save tokens:', error);\n      }\n    },\n    async clearTokens() {\n      try {\n        if (Platform.default.OS === 'web' && typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.removeItem(TOKEN_KEY);\n          return;\n        }\n        await AsyncStorage.default.removeItem(TOKEN_KEY);\n      } catch (error) {\n        console.error('Failed to clear tokens:', error);\n      }\n    }\n  };\n\n  // API Client class\n  class ApiClient {\n    isRefreshing = false;\n    refreshPromise = null;\n\n    /**\n     * Make an authenticated request\n     */\n    async request(endpoint, options = {}) {\n      const tokens = await storage.getTokens();\n      const headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (tokens?.access_token) {\n        headers['Authorization'] = `Bearer ${tokens.access_token}`;\n      }\n      const url = `${BASE_URL}${endpoint}`;\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers\n        });\n\n        // Handle 401 - try to refresh token\n        if (response.status === 401 && tokens?.refresh_token) {\n          const newTokens = await this.refreshTokens(tokens.refresh_token);\n          if (newTokens) {\n            // Retry request with new token\n            headers['Authorization'] = `Bearer ${newTokens.access_token}`;\n            const retryResponse = await fetch(url, {\n              ...options,\n              headers\n            });\n            return this.handleResponse(retryResponse);\n          }\n        }\n        return this.handleResponse(response);\n      } catch (error) {\n        console.error('API request error:', error);\n        throw {\n          message: 'Erreur de connexion au serveur',\n          status: 0\n        };\n      }\n    }\n\n    /**\n     * Handle response and errors\n     */\n    async handleResponse(response) {\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw {\n          message: errorData.detail || errorData.message || 'Une erreur est survenue',\n          status: response.status,\n          detail: errorData.detail\n        };\n      }\n\n      // Handle empty response\n      const text = await response.text();\n      if (!text) return {};\n      return JSON.parse(text);\n    }\n\n    /**\n     * Refresh access token\n     */\n    async refreshTokens(refreshToken) {\n      // Prevent multiple simultaneous refresh requests\n      if (this.isRefreshing) {\n        return this.refreshPromise;\n      }\n      this.isRefreshing = true;\n      this.refreshPromise = this.doRefresh(refreshToken);\n      try {\n        return await this.refreshPromise;\n      } finally {\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n      }\n    }\n    async doRefresh(refreshToken) {\n      try {\n        const response = await fetch(`${BASE_URL}/users/refresh`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            refresh_token: refreshToken\n          })\n        });\n        if (response.ok) {\n          const data = await response.json();\n          const tokens = {\n            access_token: data.access_token,\n            refresh_token: data.refresh_token,\n            expires_in: data.expires_in\n          };\n          await storage.setTokens(tokens);\n          return tokens;\n        }\n      } catch (error) {\n        console.error('Token refresh failed:', error);\n      }\n\n      // Clear tokens on refresh failure\n      await storage.clearTokens();\n      return null;\n    }\n\n    // Convenience methods\n    get(endpoint) {\n      return this.request(endpoint, {\n        method: 'GET'\n      });\n    }\n    post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n\n  // Export singleton instance\n  const api = new ApiClient();\n\n  // Export storage for auth store\n  const tokenStorage = storage;\n});","lineCount":242,"map":[[12,2,236,0,"Object"],[12,8,236,0],[12,9,236,0,"defineProperty"],[12,23,236,0],[12,24,236,0,"exports"],[12,31,236,0],[13,4,236,0,"enumerable"],[13,14,236,0],[14,4,236,0,"get"],[14,7,236,0],[14,18,236,0,"get"],[14,19,236,0],[15,6,236,0],[15,13,236,0,"api"],[15,16,236,0],[16,4,236,0],[17,2,236,0],[18,2,239,0,"Object"],[18,8,239,0],[18,9,239,0,"defineProperty"],[18,23,239,0],[18,24,239,0,"exports"],[18,31,239,0],[19,4,239,0,"enumerable"],[19,14,239,0],[20,4,239,0,"get"],[20,7,239,0],[20,18,239,0,"get"],[20,19,239,0],[21,6,239,0],[21,13,239,0,"tokenStorage"],[21,25,239,0],[22,4,239,0],[23,2,239,0],[24,2,239,36],[24,6,239,36,"_expoVirtualEnv"],[24,21,239,36],[24,24,239,36,"require"],[24,31,239,36],[24,32,239,36,"_dependencyMap"],[24,46,239,36],[25,2,5,0],[25,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,5,0],[25,45,5,0,"require"],[25,52,5,0],[25,53,5,0,"_dependencyMap"],[25,67,5,0],[26,2,5,0],[26,6,5,0,"AsyncStorage"],[26,18,5,0],[26,21,5,0,"_interopDefault"],[26,36,5,0],[26,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,5,0],[27,2,5,69],[27,6,5,69,"_reactNativeWebDistExportsPlatform"],[27,40,5,69],[27,43,5,69,"require"],[27,50,5,69],[27,51,5,69,"_dependencyMap"],[27,65,5,69],[28,2,5,69],[28,6,5,69,"Platform"],[28,14,5,69],[28,17,5,69,"_interopDefault"],[28,32,5,69],[28,33,5,69,"_reactNativeWebDistExportsPlatform"],[28,67,5,69],[29,2,7,0],[29,6,7,0,"_expoConstants"],[29,20,7,0],[29,23,7,0,"require"],[29,30,7,0],[29,31,7,0,"_dependencyMap"],[29,45,7,0],[30,2,7,0],[30,6,7,0,"Constants"],[30,15,7,0],[30,18,7,0,"_interopDefault"],[30,33,7,0],[30,34,7,0,"_expoConstants"],[30,48,7,0],[31,2,1,0],[32,0,2,0],[33,0,3,0],[34,0,4,0],[36,2,9,0],[38,2,22,0],[39,2,23,0],[39,8,23,6,"TOKEN_KEY"],[39,17,23,15],[39,20,23,18],[39,37,23,35],[41,2,25,0],[42,2,26,0],[42,8,26,6,"getBaseUrl"],[42,18,26,16],[42,21,26,19,"getBaseUrl"],[42,22,26,19],[42,27,26,33],[43,4,27,2],[44,4,28,2],[44,8,28,6,"Platform"],[44,16,28,14],[44,17,28,14,"default"],[44,24,28,14],[44,25,28,15,"OS"],[44,27,28,17],[44,32,28,22],[44,37,28,27],[44,39,28,29],[45,6,29,4],[45,13,29,11],[45,19,29,17],[46,4,30,2],[48,4,32,2],[49,4,33,2],[49,10,33,8,"envUrl"],[49,16,33,14],[49,19,33,17,"Constants"],[49,28,33,26],[49,29,33,26,"default"],[49,36,33,26],[49,37,33,27,"expoConfig"],[49,47,33,37],[49,49,33,39,"extra"],[49,54,33,44],[49,56,33,46,"backendUrl"],[49,66,33,56],[49,70,33,56,"_expoVirtualEnv"],[49,85,33,56],[49,86,33,56,"env"],[49,89,33,56],[49,90,33,56,"EXPO_PUBLIC_BACKEND_URL"],[49,113,34,42],[50,4,36,2],[50,8,36,6,"envUrl"],[50,14,36,12],[50,16,36,14],[51,6,37,4],[52,6,38,4],[52,13,38,11,"envUrl"],[52,19,38,17],[52,20,38,18,"endsWith"],[52,28,38,26],[52,29,38,27],[52,35,38,33],[52,36,38,34],[52,39,38,37,"envUrl"],[52,45,38,43],[52,48,38,46],[52,51,38,49,"envUrl"],[52,57,38,55],[52,63,38,61],[53,4,39,2],[55,4,41,2],[56,4,42,2],[56,11,42,9],[56,38,42,36],[57,2,43,0],[57,3,43,1],[58,2,45,0],[58,8,45,6,"BASE_URL"],[58,16,45,14],[58,19,45,17,"getBaseUrl"],[58,29,45,27],[58,30,45,28],[58,31,45,29],[60,2,47,0],[61,2,48,0],[61,8,48,6,"storage"],[61,15,48,13],[61,18,48,16],[62,4,49,2],[62,10,49,8,"getTokens"],[62,19,49,17,"getTokens"],[62,20,49,17],[62,22,49,47],[63,6,50,4],[63,10,50,8],[64,8,51,6],[64,12,51,10,"Platform"],[64,20,51,18],[64,21,51,18,"default"],[64,28,51,18],[64,29,51,19,"OS"],[64,31,51,21],[64,36,51,26],[64,41,51,31],[64,45,51,35],[64,52,51,42,"window"],[64,58,51,48],[64,63,51,53],[64,74,51,64],[64,78,51,68,"window"],[64,84,51,74],[64,85,51,75,"localStorage"],[64,97,51,87],[64,99,51,89],[65,10,52,8],[65,16,52,14,"data"],[65,20,52,18],[65,23,52,21,"window"],[65,29,52,27],[65,30,52,28,"localStorage"],[65,42,52,40],[65,43,52,41,"getItem"],[65,50,52,48],[65,51,52,49,"TOKEN_KEY"],[65,60,52,58],[65,61,52,59],[66,10,53,8],[66,17,53,15,"data"],[66,21,53,19],[66,24,53,22,"JSON"],[66,28,53,26],[66,29,53,27,"parse"],[66,34,53,32],[66,35,53,33,"data"],[66,39,53,37],[66,40,53,38],[66,43,53,41],[66,47,53,45],[67,8,54,6],[68,8,55,6],[68,14,55,12,"data"],[68,18,55,16],[68,21,55,19],[68,27,55,25,"AsyncStorage"],[68,39,55,37],[68,40,55,37,"default"],[68,47,55,37],[68,48,55,38,"getItem"],[68,55,55,45],[68,56,55,46,"TOKEN_KEY"],[68,65,55,55],[68,66,55,56],[69,8,56,6],[69,15,56,13,"data"],[69,19,56,17],[69,22,56,20,"JSON"],[69,26,56,24],[69,27,56,25,"parse"],[69,32,56,30],[69,33,56,31,"data"],[69,37,56,35],[69,38,56,36],[69,41,56,39],[69,45,56,43],[70,6,57,4],[70,7,57,5],[70,8,57,6],[70,14,57,12],[71,8,58,6],[71,15,58,13],[71,19,58,17],[72,6,59,4],[73,4,60,2],[73,5,60,3],[74,4,62,2],[74,10,62,8,"setTokens"],[74,19,62,17,"setTokens"],[74,20,62,18,"tokens"],[74,26,62,35],[74,28,62,52],[75,6,63,4],[75,10,63,8],[76,8,64,6],[76,14,64,12,"data"],[76,18,64,16],[76,21,64,19,"JSON"],[76,25,64,23],[76,26,64,24,"stringify"],[76,35,64,33],[76,36,64,34,"tokens"],[76,42,64,40],[76,43,64,41],[77,8,65,6],[77,12,65,10,"Platform"],[77,20,65,18],[77,21,65,18,"default"],[77,28,65,18],[77,29,65,19,"OS"],[77,31,65,21],[77,36,65,26],[77,41,65,31],[77,45,65,35],[77,52,65,42,"window"],[77,58,65,48],[77,63,65,53],[77,74,65,64],[77,78,65,68,"window"],[77,84,65,74],[77,85,65,75,"localStorage"],[77,97,65,87],[77,99,65,89],[78,10,66,8,"window"],[78,16,66,14],[78,17,66,15,"localStorage"],[78,29,66,27],[78,30,66,28,"setItem"],[78,37,66,35],[78,38,66,36,"TOKEN_KEY"],[78,47,66,45],[78,49,66,47,"data"],[78,53,66,51],[78,54,66,52],[79,10,67,8],[80,8,68,6],[81,8,69,6],[81,14,69,12,"AsyncStorage"],[81,26,69,24],[81,27,69,24,"default"],[81,34,69,24],[81,35,69,25,"setItem"],[81,42,69,32],[81,43,69,33,"TOKEN_KEY"],[81,52,69,42],[81,54,69,44,"data"],[81,58,69,48],[81,59,69,49],[82,6,70,4],[82,7,70,5],[82,8,70,6],[82,15,70,13,"error"],[82,20,70,18],[82,22,70,20],[83,8,71,6,"console"],[83,15,71,13],[83,16,71,14,"error"],[83,21,71,19],[83,22,71,20],[83,46,71,44],[83,48,71,46,"error"],[83,53,71,51],[83,54,71,52],[84,6,72,4],[85,4,73,2],[85,5,73,3],[86,4,75,2],[86,10,75,8,"clearTokens"],[86,21,75,19,"clearTokens"],[86,22,75,19],[86,24,75,37],[87,6,76,4],[87,10,76,8],[88,8,77,6],[88,12,77,10,"Platform"],[88,20,77,18],[88,21,77,18,"default"],[88,28,77,18],[88,29,77,19,"OS"],[88,31,77,21],[88,36,77,26],[88,41,77,31],[88,45,77,35],[88,52,77,42,"window"],[88,58,77,48],[88,63,77,53],[88,74,77,64],[88,78,77,68,"window"],[88,84,77,74],[88,85,77,75,"localStorage"],[88,97,77,87],[88,99,77,89],[89,10,78,8,"window"],[89,16,78,14],[89,17,78,15,"localStorage"],[89,29,78,27],[89,30,78,28,"removeItem"],[89,40,78,38],[89,41,78,39,"TOKEN_KEY"],[89,50,78,48],[89,51,78,49],[90,10,79,8],[91,8,80,6],[92,8,81,6],[92,14,81,12,"AsyncStorage"],[92,26,81,24],[92,27,81,24,"default"],[92,34,81,24],[92,35,81,25,"removeItem"],[92,45,81,35],[92,46,81,36,"TOKEN_KEY"],[92,55,81,45],[92,56,81,46],[93,6,82,4],[93,7,82,5],[93,8,82,6],[93,15,82,13,"error"],[93,20,82,18],[93,22,82,20],[94,8,83,6,"console"],[94,15,83,13],[94,16,83,14,"error"],[94,21,83,19],[94,22,83,20],[94,47,83,45],[94,49,83,47,"error"],[94,54,83,52],[94,55,83,53],[95,6,84,4],[96,4,85,2],[97,2,86,0],[97,3,86,1],[99,2,88,0],[100,2,89,0],[100,8,89,6,"ApiClient"],[100,17,89,15],[100,18,89,16],[101,4,90,10,"isRefreshing"],[101,16,90,22],[101,19,90,25],[101,24,90,30],[102,4,91,10,"refreshPromise"],[102,18,91,24],[102,21,91,61],[102,25,91,65],[104,4,93,2],[105,0,94,0],[106,0,95,0],[107,4,96,2],[107,10,96,8,"request"],[107,17,96,15,"request"],[107,18,97,4,"endpoint"],[107,26,97,20],[107,28,98,4,"options"],[107,35,98,24],[107,38,98,27],[107,39,98,28],[107,40,98,29],[107,42,99,16],[108,6,100,4],[108,12,100,10,"tokens"],[108,18,100,16],[108,21,100,19],[108,27,100,25,"storage"],[108,34,100,32],[108,35,100,33,"getTokens"],[108,44,100,42],[108,45,100,43],[108,46,100,44],[109,6,102,4],[109,12,102,10,"headers"],[109,19,102,41],[109,22,102,44],[110,8,103,6],[110,22,103,20],[110,24,103,22],[110,42,103,40],[111,8,104,6],[111,12,104,11,"options"],[111,19,104,18],[111,20,104,19,"headers"],[111,27,104,26],[111,31,104,57],[111,32,104,58],[111,33,104,59],[112,6,105,4],[112,7,105,5],[113,6,107,4],[113,10,107,8,"tokens"],[113,16,107,14],[113,18,107,16,"access_token"],[113,30,107,28],[113,32,107,30],[114,8,108,6,"headers"],[114,15,108,13],[114,16,108,14],[114,31,108,29],[114,32,108,30],[114,35,108,33],[114,45,108,43,"tokens"],[114,51,108,49],[114,52,108,50,"access_token"],[114,64,108,62],[114,66,108,64],[115,6,109,4],[116,6,111,4],[116,12,111,10,"url"],[116,15,111,13],[116,18,111,16],[116,21,111,19,"BASE_URL"],[116,29,111,27],[116,32,111,30,"endpoint"],[116,40,111,38],[116,42,111,40],[117,6,113,4],[117,10,113,8],[118,8,114,6],[118,14,114,12,"response"],[118,22,114,20],[118,25,114,23],[118,31,114,29,"fetch"],[118,36,114,34],[118,37,114,35,"url"],[118,40,114,38],[118,42,114,40],[119,10,115,8],[119,13,115,11,"options"],[119,20,115,18],[120,10,116,8,"headers"],[121,8,117,6],[121,9,117,7],[121,10,117,8],[123,8,119,6],[124,8,120,6],[124,12,120,10,"response"],[124,20,120,18],[124,21,120,19,"status"],[124,27,120,25],[124,32,120,30],[124,35,120,33],[124,39,120,37,"tokens"],[124,45,120,43],[124,47,120,45,"refresh_token"],[124,60,120,58],[124,62,120,60],[125,10,121,8],[125,16,121,14,"newTokens"],[125,25,121,23],[125,28,121,26],[125,34,121,32],[125,38,121,36],[125,39,121,37,"refreshTokens"],[125,52,121,50],[125,53,121,51,"tokens"],[125,59,121,57],[125,60,121,58,"refresh_token"],[125,73,121,71],[125,74,121,72],[126,10,123,8],[126,14,123,12,"newTokens"],[126,23,123,21],[126,25,123,23],[127,12,124,10],[128,12,125,10,"headers"],[128,19,125,17],[128,20,125,18],[128,35,125,33],[128,36,125,34],[128,39,125,37],[128,49,125,47,"newTokens"],[128,58,125,56],[128,59,125,57,"access_token"],[128,71,125,69],[128,73,125,71],[129,12,126,10],[129,18,126,16,"retryResponse"],[129,31,126,29],[129,34,126,32],[129,40,126,38,"fetch"],[129,45,126,43],[129,46,126,44,"url"],[129,49,126,47],[129,51,126,49],[130,14,127,12],[130,17,127,15,"options"],[130,24,127,22],[131,14,128,12,"headers"],[132,12,129,10],[132,13,129,11],[132,14,129,12],[133,12,130,10],[133,19,130,17],[133,23,130,21],[133,24,130,22,"handleResponse"],[133,38,130,36],[133,39,130,40,"retryResponse"],[133,52,130,53],[133,53,130,54],[134,10,131,8],[135,8,132,6],[136,8,134,6],[136,15,134,13],[136,19,134,17],[136,20,134,18,"handleResponse"],[136,34,134,32],[136,35,134,36,"response"],[136,43,134,44],[136,44,134,45],[137,6,135,4],[137,7,135,5],[137,8,135,6],[137,15,135,13,"error"],[137,20,135,18],[137,22,135,20],[138,8,136,6,"console"],[138,15,136,13],[138,16,136,14,"error"],[138,21,136,19],[138,22,136,20],[138,42,136,40],[138,44,136,42,"error"],[138,49,136,47],[138,50,136,48],[139,8,137,6],[139,14,137,12],[140,10,138,8,"message"],[140,17,138,15],[140,19,138,17],[140,51,138,49],[141,10,139,8,"status"],[141,16,139,14],[141,18,139,16],[142,8,140,6],[142,9,140,7],[143,6,141,4],[144,4,142,2],[146,4,144,2],[147,0,145,0],[148,0,146,0],[149,4,147,2],[149,10,147,16,"handleResponse"],[149,24,147,30,"handleResponse"],[149,25,147,34,"response"],[149,33,147,52],[149,35,147,66],[150,6,148,4],[150,10,148,8],[150,11,148,9,"response"],[150,19,148,17],[150,20,148,18,"ok"],[150,22,148,20],[150,24,148,22],[151,8,149,6],[151,14,149,12,"errorData"],[151,23,149,21],[151,26,149,24],[151,32,149,30,"response"],[151,40,149,38],[151,41,149,39,"json"],[151,45,149,43],[151,46,149,44],[151,47,149,45],[151,48,149,46,"catch"],[151,53,149,51],[151,54,149,52],[151,61,149,59],[151,62,149,60],[151,63,149,61],[151,64,149,62],[151,65,149,63],[152,8,150,6],[152,14,150,12],[153,10,151,8,"message"],[153,17,151,15],[153,19,151,17,"errorData"],[153,28,151,26],[153,29,151,27,"detail"],[153,35,151,33],[153,39,151,37,"errorData"],[153,48,151,46],[153,49,151,47,"message"],[153,56,151,54],[153,60,151,58],[153,85,151,83],[154,10,152,8,"status"],[154,16,152,14],[154,18,152,16,"response"],[154,26,152,24],[154,27,152,25,"status"],[154,33,152,31],[155,10,153,8,"detail"],[155,16,153,14],[155,18,153,16,"errorData"],[155,27,153,25],[155,28,153,26,"detail"],[156,8,154,6],[156,9,154,7],[157,6,155,4],[159,6,157,4],[160,6,158,4],[160,12,158,10,"text"],[160,16,158,14],[160,19,158,17],[160,25,158,23,"response"],[160,33,158,31],[160,34,158,32,"text"],[160,38,158,36],[160,39,158,37],[160,40,158,38],[161,6,159,4],[161,10,159,8],[161,11,159,9,"text"],[161,15,159,13],[161,17,159,15],[161,24,159,22],[161,25,159,23],[161,26,159,24],[162,6,161,4],[162,13,161,11,"JSON"],[162,17,161,15],[162,18,161,16,"parse"],[162,23,161,21],[162,24,161,22,"text"],[162,28,161,26],[162,29,161,27],[163,4,162,2],[165,4,164,2],[166,0,165,0],[167,0,166,0],[168,4,167,2],[168,10,167,16,"refreshTokens"],[168,23,167,29,"refreshTokens"],[168,24,167,30,"refreshToken"],[168,36,167,50],[168,38,167,79],[169,6,168,4],[170,6,169,4],[170,10,169,8],[170,14,169,12],[170,15,169,13,"isRefreshing"],[170,27,169,25],[170,29,169,27],[171,8,170,6],[171,15,170,13],[171,19,170,17],[171,20,170,18,"refreshPromise"],[171,34,170,32],[172,6,171,4],[173,6,173,4],[173,10,173,8],[173,11,173,9,"isRefreshing"],[173,23,173,21],[173,26,173,24],[173,30,173,28],[174,6,174,4],[174,10,174,8],[174,11,174,9,"refreshPromise"],[174,25,174,23],[174,28,174,26],[174,32,174,30],[174,33,174,31,"doRefresh"],[174,42,174,40],[174,43,174,41,"refreshToken"],[174,55,174,53],[174,56,174,54],[175,6,176,4],[175,10,176,8],[176,8,177,6],[176,15,177,13],[176,21,177,19],[176,25,177,23],[176,26,177,24,"refreshPromise"],[176,40,177,38],[177,6,178,4],[177,7,178,5],[177,16,178,14],[178,8,179,6],[178,12,179,10],[178,13,179,11,"isRefreshing"],[178,25,179,23],[178,28,179,26],[178,33,179,31],[179,8,180,6],[179,12,180,10],[179,13,180,11,"refreshPromise"],[179,27,180,25],[179,30,180,28],[179,34,180,32],[180,6,181,4],[181,4,182,2],[182,4,184,2],[182,10,184,16,"doRefresh"],[182,19,184,25,"doRefresh"],[182,20,184,26,"refreshToken"],[182,32,184,46],[182,34,184,75],[183,6,185,4],[183,10,185,8],[184,8,186,6],[184,14,186,12,"response"],[184,22,186,20],[184,25,186,23],[184,31,186,29,"fetch"],[184,36,186,34],[184,37,186,35],[184,40,186,38,"BASE_URL"],[184,48,186,46],[184,64,186,62],[184,66,186,64],[185,10,187,8,"method"],[185,16,187,14],[185,18,187,16],[185,24,187,22],[186,10,188,8,"headers"],[186,17,188,15],[186,19,188,17],[187,12,188,19],[187,26,188,33],[187,28,188,35],[188,10,188,54],[188,11,188,55],[189,10,189,8,"body"],[189,14,189,12],[189,16,189,14,"JSON"],[189,20,189,18],[189,21,189,19,"stringify"],[189,30,189,28],[189,31,189,29],[190,12,189,31,"refresh_token"],[190,25,189,44],[190,27,189,46,"refreshToken"],[191,10,189,59],[191,11,189,60],[192,8,190,6],[192,9,190,7],[192,10,190,8],[193,8,192,6],[193,12,192,10,"response"],[193,20,192,18],[193,21,192,19,"ok"],[193,23,192,21],[193,25,192,23],[194,10,193,8],[194,16,193,14,"data"],[194,20,193,18],[194,23,193,21],[194,29,193,27,"response"],[194,37,193,35],[194,38,193,36,"json"],[194,42,193,40],[194,43,193,41],[194,44,193,42],[195,10,194,8],[195,16,194,14,"tokens"],[195,22,194,31],[195,25,194,34],[196,12,195,10,"access_token"],[196,24,195,22],[196,26,195,24,"data"],[196,30,195,28],[196,31,195,29,"access_token"],[196,43,195,41],[197,12,196,10,"refresh_token"],[197,25,196,23],[197,27,196,25,"data"],[197,31,196,29],[197,32,196,30,"refresh_token"],[197,45,196,43],[198,12,197,10,"expires_in"],[198,22,197,20],[198,24,197,22,"data"],[198,28,197,26],[198,29,197,27,"expires_in"],[199,10,198,8],[199,11,198,9],[200,10,199,8],[200,16,199,14,"storage"],[200,23,199,21],[200,24,199,22,"setTokens"],[200,33,199,31],[200,34,199,32,"tokens"],[200,40,199,38],[200,41,199,39],[201,10,200,8],[201,17,200,15,"tokens"],[201,23,200,21],[202,8,201,6],[203,6,202,4],[203,7,202,5],[203,8,202,6],[203,15,202,13,"error"],[203,20,202,18],[203,22,202,20],[204,8,203,6,"console"],[204,15,203,13],[204,16,203,14,"error"],[204,21,203,19],[204,22,203,20],[204,45,203,43],[204,47,203,45,"error"],[204,52,203,50],[204,53,203,51],[205,6,204,4],[207,6,206,4],[208,6,207,4],[208,12,207,10,"storage"],[208,19,207,17],[208,20,207,18,"clearTokens"],[208,31,207,29],[208,32,207,30],[208,33,207,31],[209,6,208,4],[209,13,208,11],[209,17,208,15],[210,4,209,2],[212,4,211,2],[213,4,212,2,"get"],[213,7,212,5,"get"],[213,8,212,9,"endpoint"],[213,16,212,25],[213,18,212,39],[214,6,213,4],[214,13,213,11],[214,17,213,15],[214,18,213,16,"request"],[214,25,213,23],[214,26,213,27,"endpoint"],[214,34,213,35],[214,36,213,37],[215,8,213,39,"method"],[215,14,213,45],[215,16,213,47],[216,6,213,53],[216,7,213,54],[216,8,213,55],[217,4,214,2],[218,4,216,2,"post"],[218,8,216,6,"post"],[218,9,216,10,"endpoint"],[218,17,216,26],[218,19,216,28,"data"],[218,23,216,42],[218,25,216,56],[219,6,217,4],[219,13,217,11],[219,17,217,15],[219,18,217,16,"request"],[219,25,217,23],[219,26,217,27,"endpoint"],[219,34,217,35],[219,36,217,37],[220,8,218,6,"method"],[220,14,218,12],[220,16,218,14],[220,22,218,20],[221,8,219,6,"body"],[221,12,219,10],[221,14,219,12,"data"],[221,18,219,16],[221,21,219,19,"JSON"],[221,25,219,23],[221,26,219,24,"stringify"],[221,35,219,33],[221,36,219,34,"data"],[221,40,219,38],[221,41,219,39],[221,44,219,42,"undefined"],[222,6,220,4],[222,7,220,5],[222,8,220,6],[223,4,221,2],[224,4,223,2,"put"],[224,7,223,5,"put"],[224,8,223,9,"endpoint"],[224,16,223,25],[224,18,223,27,"data"],[224,22,223,41],[224,24,223,55],[225,6,224,4],[225,13,224,11],[225,17,224,15],[225,18,224,16,"request"],[225,25,224,23],[225,26,224,27,"endpoint"],[225,34,224,35],[225,36,224,37],[226,8,225,6,"method"],[226,14,225,12],[226,16,225,14],[226,21,225,19],[227,8,226,6,"body"],[227,12,226,10],[227,14,226,12,"data"],[227,18,226,16],[227,21,226,19,"JSON"],[227,25,226,23],[227,26,226,24,"stringify"],[227,35,226,33],[227,36,226,34,"data"],[227,40,226,38],[227,41,226,39],[227,44,226,42,"undefined"],[228,6,227,4],[228,7,227,5],[228,8,227,6],[229,4,228,2],[230,4,230,2,"delete"],[230,10,230,8,"delete"],[230,11,230,12,"endpoint"],[230,19,230,28],[230,21,230,42],[231,6,231,4],[231,13,231,11],[231,17,231,15],[231,18,231,16,"request"],[231,25,231,23],[231,26,231,27,"endpoint"],[231,34,231,35],[231,36,231,37],[232,8,231,39,"method"],[232,14,231,45],[232,16,231,47],[233,6,231,56],[233,7,231,57],[233,8,231,58],[234,4,232,2],[235,2,233,0],[237,2,235,0],[238,2,236,7],[238,8,236,13,"api"],[238,11,236,16],[238,14,236,19],[238,18,236,23,"ApiClient"],[238,27,236,32],[238,28,236,33],[238,29,236,34],[240,2,238,0],[241,2,239,7],[241,8,239,13,"tokenStorage"],[241,20,239,25],[241,23,239,28,"storage"],[241,30,239,35],[242,0,239,36],[242,3]],"functionMap":{"names":["<global>","getBaseUrl","storage.getTokens","storage.setTokens","storage.clearTokens","ApiClient","ApiClient#request","ApiClient#handleResponse","response.json._catch$argument_0","ApiClient#refreshTokens","ApiClient#doRefresh","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;mBCyB;CDiB;EEM;GFW;EGE;GHW;EIE;GJU;AKI;ECO;GD8C;EEK;oDCE,UD;GFa;EIK;GJe;EKE;GLyB;EMG;GNE;EOE;GPK;EQE;GRK;ESE;GTE;CLC"},"hasCjsExports":false},"type":"js/module"}]}