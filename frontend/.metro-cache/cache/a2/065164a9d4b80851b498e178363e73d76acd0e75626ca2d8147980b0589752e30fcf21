{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":54,"index":121}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}},{"name":"./userPreferencesStore","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":59,"column":35,"index":1700},"end":{"line":59,"column":68,"index":1733}}],"key":"X0UGHyf1ZPLmLazWhaU+urtdjLU=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesAuthService = require(_dependencyMap[1], \"../services/authService\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    isLoading: false,\n    isInitialized: false,\n    isLoggingOut: false,\n    setUser: user => set({\n      user\n    }),\n    login: async (email, password, profileId) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesAuthService.AuthService.login(email, password, profileId);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    signup: async (email, password, name, profileId) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesAuthService.AuthService.signup(email, password, name, profileId);\n        set({\n          user,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    logout: async () => {\n      // Prevent double logout\n      if (get().isLoggingOut) return false;\n      set({\n        isLoggingOut: true\n      });\n      try {\n        // Clear user state FIRST\n        set({\n          user: null\n        });\n        // Clear storage\n        await _servicesAuthService.AuthService.logout();\n        // Reset user preferences (profiles, themes, etc.)\n        const {\n          resetPreferences\n        } = require(_dependencyMap[2], \"./userPreferencesStore\").useUserPreferencesStore.getState();\n        resetPreferences();\n        set({\n          isLoggingOut: false\n        });\n        return true;\n      } catch (error) {\n        console.error('Logout error:', error);\n        set({\n          isLoggingOut: false\n        });\n        return false;\n      }\n    },\n    initialize: async () => {\n      try {\n        const user = await _servicesAuthService.AuthService.getCurrentUser();\n        set({\n          user,\n          isInitialized: true\n        });\n      } catch (error) {\n        console.error('Initialize error:', error);\n        set({\n          user: null,\n          isInitialized: true\n        });\n      }\n    },\n    updateProfile: async profileId => {\n      await _servicesAuthService.AuthService.updateProfile(profileId);\n      const user = await _servicesAuthService.AuthService.getCurrentUser();\n      set({\n        user\n      });\n    }\n  }));\n});","lineCount":110,"map":[[7,2,18,0,"Object"],[7,8,18,0],[7,9,18,0,"defineProperty"],[7,23,18,0],[7,24,18,0,"exports"],[7,31,18,0],[8,4,18,0,"enumerable"],[8,14,18,0],[9,4,18,0,"get"],[9,7,18,0],[9,18,18,0,"get"],[9,19,18,0],[10,6,18,0],[10,13,18,0,"useAuthStore"],[10,25,18,0],[11,4,18,0],[12,2,18,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[14,6,3,0,"_servicesAuthService"],[14,26,3,0],[14,29,3,0,"require"],[14,36,3,0],[14,37,3,0,"_dependencyMap"],[14,51,3,0],[15,2,18,7],[15,8,18,13,"useAuthStore"],[15,20,18,25],[15,23,18,28],[15,27,18,28,"create"],[15,35,18,34],[15,36,18,34,"create"],[15,42,18,34],[15,44,18,46],[15,45,18,47,"set"],[15,48,18,50],[15,50,18,52,"get"],[15,53,18,55],[15,59,18,61],[16,4,19,2,"user"],[16,8,19,6],[16,10,19,8],[16,14,19,12],[17,4,20,2,"isLoading"],[17,13,20,11],[17,15,20,13],[17,20,20,18],[18,4,21,2,"isInitialized"],[18,17,21,15],[18,19,21,17],[18,24,21,22],[19,4,22,2,"isLoggingOut"],[19,16,22,14],[19,18,22,16],[19,23,22,21],[20,4,24,2,"setUser"],[20,11,24,9],[20,13,24,12,"user"],[20,17,24,16],[20,21,24,21,"set"],[20,24,24,24],[20,25,24,25],[21,6,24,27,"user"],[22,4,24,32],[22,5,24,33],[22,6,24,34],[23,4,26,2,"login"],[23,9,26,7],[23,11,26,9],[23,17,26,9,"login"],[23,18,26,16,"email"],[23,23,26,21],[23,25,26,23,"password"],[23,33,26,31],[23,35,26,33,"profileId"],[23,44,26,42],[23,49,26,47],[24,6,27,4,"set"],[24,9,27,7],[24,10,27,8],[25,8,27,10,"isLoading"],[25,17,27,19],[25,19,27,21],[26,6,27,26],[26,7,27,27],[26,8,27,28],[27,6,28,4],[27,10,28,8],[28,8,29,6],[28,14,29,12,"user"],[28,18,29,16],[28,21,29,19],[28,27,29,25,"AuthService"],[28,47,29,36],[28,48,29,36,"AuthService"],[28,59,29,36],[28,60,29,37,"login"],[28,65,29,42],[28,66,29,43,"email"],[28,71,29,48],[28,73,29,50,"password"],[28,81,29,58],[28,83,29,60,"profileId"],[28,92,29,69],[28,93,29,70],[29,8,30,6,"set"],[29,11,30,9],[29,12,30,10],[30,10,30,12,"user"],[30,14,30,16],[31,10,30,18,"isLoading"],[31,19,30,27],[31,21,30,29],[32,8,30,35],[32,9,30,36],[32,10,30,37],[33,6,31,4],[33,7,31,5],[33,8,31,6],[33,15,31,13,"error"],[33,20,31,18],[33,22,31,20],[34,8,32,6,"set"],[34,11,32,9],[34,12,32,10],[35,10,32,12,"isLoading"],[35,19,32,21],[35,21,32,23],[36,8,32,29],[36,9,32,30],[36,10,32,31],[37,8,33,6],[37,14,33,12,"error"],[37,19,33,17],[38,6,34,4],[39,4,35,2],[39,5,35,3],[40,4,37,2,"signup"],[40,10,37,8],[40,12,37,10],[40,18,37,10,"signup"],[40,19,37,17,"email"],[40,24,37,22],[40,26,37,24,"password"],[40,34,37,32],[40,36,37,34,"name"],[40,40,37,38],[40,42,37,40,"profileId"],[40,51,37,49],[40,56,37,54],[41,6,38,4,"set"],[41,9,38,7],[41,10,38,8],[42,8,38,10,"isLoading"],[42,17,38,19],[42,19,38,21],[43,6,38,26],[43,7,38,27],[43,8,38,28],[44,6,39,4],[44,10,39,8],[45,8,40,6],[45,14,40,12,"user"],[45,18,40,16],[45,21,40,19],[45,27,40,25,"AuthService"],[45,47,40,36],[45,48,40,36,"AuthService"],[45,59,40,36],[45,60,40,37,"signup"],[45,66,40,43],[45,67,40,44,"email"],[45,72,40,49],[45,74,40,51,"password"],[45,82,40,59],[45,84,40,61,"name"],[45,88,40,65],[45,90,40,67,"profileId"],[45,99,40,76],[45,100,40,77],[46,8,41,6,"set"],[46,11,41,9],[46,12,41,10],[47,10,41,12,"user"],[47,14,41,16],[48,10,41,18,"isLoading"],[48,19,41,27],[48,21,41,29],[49,8,41,35],[49,9,41,36],[49,10,41,37],[50,6,42,4],[50,7,42,5],[50,8,42,6],[50,15,42,13,"error"],[50,20,42,18],[50,22,42,20],[51,8,43,6,"set"],[51,11,43,9],[51,12,43,10],[52,10,43,12,"isLoading"],[52,19,43,21],[52,21,43,23],[53,8,43,29],[53,9,43,30],[53,10,43,31],[54,8,44,6],[54,14,44,12,"error"],[54,19,44,17],[55,6,45,4],[56,4,46,2],[56,5,46,3],[57,4,48,2,"logout"],[57,10,48,8],[57,12,48,10],[57,18,48,10,"logout"],[57,19,48,10],[57,24,48,22],[58,6,49,4],[59,6,50,4],[59,10,50,8,"get"],[59,13,50,11],[59,14,50,12],[59,15,50,13],[59,16,50,14,"isLoggingOut"],[59,28,50,26],[59,30,50,28],[59,37,50,35],[59,42,50,40],[60,6,52,4,"set"],[60,9,52,7],[60,10,52,8],[61,8,52,10,"isLoggingOut"],[61,20,52,22],[61,22,52,24],[62,6,52,29],[62,7,52,30],[62,8,52,31],[63,6,53,4],[63,10,53,8],[64,8,54,6],[65,8,55,6,"set"],[65,11,55,9],[65,12,55,10],[66,10,55,12,"user"],[66,14,55,16],[66,16,55,18],[67,8,55,23],[67,9,55,24],[67,10,55,25],[68,8,56,6],[69,8,57,6],[69,14,57,12,"AuthService"],[69,34,57,23],[69,35,57,23,"AuthService"],[69,46,57,23],[69,47,57,24,"logout"],[69,53,57,30],[69,54,57,31],[69,55,57,32],[70,8,58,6],[71,8,59,6],[71,14,59,12],[72,10,59,14,"resetPreferences"],[73,8,59,31],[73,9,59,32],[73,12,59,35,"require"],[73,19,59,42],[73,20,59,42,"_dependencyMap"],[73,34,59,42],[73,63,59,67],[73,64,59,68],[73,65,59,69,"useUserPreferencesStore"],[73,88,59,92],[73,89,59,93,"getState"],[73,97,59,101],[73,98,59,102],[73,99,59,103],[74,8,60,6,"resetPreferences"],[74,24,60,22],[74,25,60,23],[74,26,60,24],[75,8,61,6,"set"],[75,11,61,9],[75,12,61,10],[76,10,61,12,"isLoggingOut"],[76,22,61,24],[76,24,61,26],[77,8,61,32],[77,9,61,33],[77,10,61,34],[78,8,62,6],[78,15,62,13],[78,19,62,17],[79,6,63,4],[79,7,63,5],[79,8,63,6],[79,15,63,13,"error"],[79,20,63,18],[79,22,63,20],[80,8,64,6,"console"],[80,15,64,13],[80,16,64,14,"error"],[80,21,64,19],[80,22,64,20],[80,37,64,35],[80,39,64,37,"error"],[80,44,64,42],[80,45,64,43],[81,8,65,6,"set"],[81,11,65,9],[81,12,65,10],[82,10,65,12,"isLoggingOut"],[82,22,65,24],[82,24,65,26],[83,8,65,32],[83,9,65,33],[83,10,65,34],[84,8,66,6],[84,15,66,13],[84,20,66,18],[85,6,67,4],[86,4,68,2],[86,5,68,3],[87,4,70,2,"initialize"],[87,14,70,12],[87,16,70,14],[87,22,70,14,"initialize"],[87,23,70,14],[87,28,70,26],[88,6,71,4],[88,10,71,8],[89,8,72,6],[89,14,72,12,"user"],[89,18,72,16],[89,21,72,19],[89,27,72,25,"AuthService"],[89,47,72,36],[89,48,72,36,"AuthService"],[89,59,72,36],[89,60,72,37,"getCurrentUser"],[89,74,72,51],[89,75,72,52],[89,76,72,53],[90,8,73,6,"set"],[90,11,73,9],[90,12,73,10],[91,10,73,12,"user"],[91,14,73,16],[92,10,73,18,"isInitialized"],[92,23,73,31],[92,25,73,33],[93,8,73,38],[93,9,73,39],[93,10,73,40],[94,6,74,4],[94,7,74,5],[94,8,74,6],[94,15,74,13,"error"],[94,20,74,18],[94,22,74,20],[95,8,75,6,"console"],[95,15,75,13],[95,16,75,14,"error"],[95,21,75,19],[95,22,75,20],[95,41,75,39],[95,43,75,41,"error"],[95,48,75,46],[95,49,75,47],[96,8,76,6,"set"],[96,11,76,9],[96,12,76,10],[97,10,76,12,"user"],[97,14,76,16],[97,16,76,18],[97,20,76,22],[98,10,76,24,"isInitialized"],[98,23,76,37],[98,25,76,39],[99,8,76,44],[99,9,76,45],[99,10,76,46],[100,6,77,4],[101,4,78,2],[101,5,78,3],[102,4,80,2,"updateProfile"],[102,17,80,15],[102,19,80,17],[102,25,80,24,"profileId"],[102,34,80,33],[102,38,80,38],[103,6,81,4],[103,12,81,10,"AuthService"],[103,32,81,21],[103,33,81,21,"AuthService"],[103,44,81,21],[103,45,81,22,"updateProfile"],[103,58,81,35],[103,59,81,36,"profileId"],[103,68,81,45],[103,69,81,46],[104,6,82,4],[104,12,82,10,"user"],[104,16,82,14],[104,19,82,17],[104,25,82,23,"AuthService"],[104,45,82,34],[104,46,82,34,"AuthService"],[104,57,82,34],[104,58,82,35,"getCurrentUser"],[104,72,82,49],[104,73,82,50],[104,74,82,51],[105,6,83,4,"set"],[105,9,83,7],[105,10,83,8],[106,8,83,10,"user"],[107,6,83,15],[107,7,83,16],[107,8,83,17],[108,4,84,2],[109,2,85,0],[109,3,85,1],[109,4,85,2],[109,5,85,3],[110,0,85,4],[110,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","login","signup","logout","initialize","updateProfile"],"mappings":"AAA;8CCiB;WCM,uBD;SEE;GFS;UGE;GHS;UIE;GJoB;cKE;GLQ;iBME;GNI;EDC"},"hasCjsExports":false},"type":"js/module"}]}