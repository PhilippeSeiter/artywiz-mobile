{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./RecyclerViewContextProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":101,"index":166}}],"key":"xkzKodpiEh9PM1d4t93OubNRFfg=","exportNames":["*"],"imports":1}},{"name":"./hooks/useLayoutState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":167},"end":{"line":3,"column":56,"index":223}}],"key":"Vcep8FqPfs/hXqg5S+FWbcib3GA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"LayoutCommitObserver\", {\n    enumerable: true,\n    get: function () {\n      return LayoutCommitObserver;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopDefault(_react);\n  var _RecyclerViewContextProvider = require(_dependencyMap[2], \"./RecyclerViewContextProvider\");\n  var _hooksUseLayoutState = require(_dependencyMap[3], \"./hooks/useLayoutState\");\n  /**\n   * LayoutCommitObserver can be used to observe when FlashList commits a layout.\n   * It is useful when your component has one or more FlashLists somewhere down the tree.\n   * LayoutCommitObserver will trigger `onCommitLayoutEffect` when all of the FlashLists in the tree have finished their first commit.\n   */\n  var LayoutCommitObserver = /*#__PURE__*/React.default.memo(function (props) {\n    var children = props.children,\n      onCommitLayoutEffect = props.onCommitLayoutEffect;\n    var parentRecyclerViewContext = (0, _RecyclerViewContextProvider.useRecyclerViewContext)();\n    var _useLayoutState = (0, _hooksUseLayoutState.useLayoutState)(0),\n      _useLayoutState2 = (0, _slicedToArray.default)(_useLayoutState, 2),\n      _ = _useLayoutState2[0],\n      setRenderId = _useLayoutState2[1];\n    var pendingChildIds = (0, _react.useRef)(new Set()).current;\n    (0, _react.useLayoutEffect)(function () {\n      if (pendingChildIds.size > 0) {\n        return;\n      }\n      onCommitLayoutEffect === null || onCommitLayoutEffect === void 0 ? void 0 : onCommitLayoutEffect();\n    });\n    // Create context for child components\n    var recyclerViewContext = (0, _react.useMemo)(function () {\n      return {\n        layout: function layout() {\n          setRenderId(function (prev) {\n            return prev + 1;\n          });\n        },\n        getRef: function getRef() {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentRef: function getParentRef() {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentScrollViewRef: function getParentScrollViewRef() {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getScrollViewRef: function getScrollViewRef() {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        markChildLayoutAsPending: function markChildLayoutAsPending(id) {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.markChildLayoutAsPending(id);\n          pendingChildIds.add(id);\n        },\n        unmarkChildLayoutAsPending: function unmarkChildLayoutAsPending(id) {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.unmarkChildLayoutAsPending(id);\n          if (pendingChildIds.has(id)) {\n            pendingChildIds.delete(id);\n            recyclerViewContext.layout();\n          }\n        }\n      };\n    }, [parentRecyclerViewContext, pendingChildIds, setRenderId]);\n    return /*#__PURE__*/React.default.createElement(_RecyclerViewContextProvider.RecyclerViewContextProvider, {\n      value: recyclerViewContext\n    }, children);\n  });\n  LayoutCommitObserver.displayName = \"LayoutCommitObserver\";\n});","lineCount":86,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"LayoutCommitObserver"],[15,33,9,0],[16,4,9,0],[17,2,9,0],[18,2,56,3],[18,6,56,3,"_babelRuntimeHelpersSlicedToArray"],[18,39,56,3],[18,42,56,3,"require"],[18,49,56,3],[18,50,56,3,"_dependencyMap"],[18,64,56,3],[19,2,56,3],[19,6,56,3,"_slicedToArray"],[19,20,56,3],[19,23,56,3,"_interopDefault"],[19,38,56,3],[19,39,56,3,"_babelRuntimeHelpersSlicedToArray"],[19,72,56,3],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,0],[21,6,1,0,"React"],[21,11,1,0],[21,14,1,0,"_interopDefault"],[21,29,1,0],[21,30,1,0,"_react"],[21,36,1,0],[22,2,2,0],[22,6,2,0,"_RecyclerViewContextProvider"],[22,34,2,0],[22,37,2,0,"require"],[22,44,2,0],[22,45,2,0,"_dependencyMap"],[22,59,2,0],[23,2,3,0],[23,6,3,0,"_hooksUseLayoutState"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,2,9,7],[29,6,9,13,"LayoutCommitObserver"],[29,26,9,33],[29,42,9,36,"React"],[29,47,9,41],[29,48,9,41,"default"],[29,55,9,41],[29,56,9,42,"memo"],[29,60,9,46],[29,61,9,47],[29,71,9,48,"props"],[29,76,9,53],[29,78,9,58],[30,4,10,4],[30,8,10,12,"children"],[30,16,10,20],[30,19,10,47,"props"],[30,24,10,52],[30,25,10,12,"children"],[30,33,10,20],[31,6,10,22,"onCommitLayoutEffect"],[31,26,10,42],[31,29,10,47,"props"],[31,34,10,52],[31,35,10,22,"onCommitLayoutEffect"],[31,55,10,42],[32,4,11,4],[32,8,11,10,"parentRecyclerViewContext"],[32,33,11,35],[32,36,11,38],[32,40,11,38,"useRecyclerViewContext"],[32,68,11,60],[32,69,11,60,"useRecyclerViewContext"],[32,91,11,60],[32,93,11,61],[32,94,11,62],[33,4,12,4],[33,8,12,4,"_useLayoutState"],[33,23,12,4],[33,26,12,29],[33,30,12,29,"useLayoutState"],[33,50,12,43],[33,51,12,43,"useLayoutState"],[33,65,12,43],[33,67,12,44],[33,68,12,45],[33,69,12,46],[34,6,12,46,"_useLayoutState2"],[34,22,12,46],[34,29,12,46,"_slicedToArray"],[34,43,12,46],[34,44,12,46,"default"],[34,51,12,46],[34,53,12,46,"_useLayoutState"],[34,68,12,46],[35,6,12,11,"_"],[35,7,12,12],[35,10,12,12,"_useLayoutState2"],[35,26,12,12],[36,6,12,14,"setRenderId"],[36,17,12,25],[36,20,12,25,"_useLayoutState2"],[36,36,12,25],[37,4,13,4],[37,8,13,10,"pendingChildIds"],[37,23,13,25],[37,26,13,28],[37,30,13,28,"useRef"],[37,36,13,34],[37,37,13,34,"useRef"],[37,43,13,34],[37,45,13,35],[37,49,13,39,"Set"],[37,52,13,42],[37,53,13,43],[37,54,13,44],[37,55,13,45],[37,56,13,46,"current"],[37,63,13,53],[38,4,14,4],[38,8,14,4,"useLayoutEffect"],[38,14,14,19],[38,15,14,19,"useLayoutEffect"],[38,30,14,19],[38,32,14,20],[38,44,14,26],[39,6,15,8],[39,10,15,12,"pendingChildIds"],[39,25,15,27],[39,26,15,28,"size"],[39,30,15,32],[39,33,15,35],[39,34,15,36],[39,36,15,38],[40,8,16,12],[41,6,17,8],[42,6,18,8,"onCommitLayoutEffect"],[42,26,18,28],[42,31,18,33],[42,35,18,37],[42,39,18,41,"onCommitLayoutEffect"],[42,59,18,61],[42,64,18,66],[42,69,18,71],[42,70,18,72],[42,73,18,75],[42,78,18,80],[42,79,18,81],[42,82,18,84,"onCommitLayoutEffect"],[42,102,18,104],[42,103,18,105],[42,104,18,106],[43,4,19,4],[43,5,19,5],[43,6,19,6],[44,4,20,4],[45,4,21,4],[45,8,21,10,"recyclerViewContext"],[45,27,21,29],[45,30,21,32],[45,34,21,32,"useMemo"],[45,40,21,39],[45,41,21,39,"useMemo"],[45,48,21,39],[45,50,21,40],[45,62,21,46],[46,6,22,8],[46,13,22,15],[47,8,23,12,"layout"],[47,14,23,18],[47,16,23,20],[47,25,23,12,"layout"],[47,31,23,18,"layout"],[47,32,23,18],[47,34,23,26],[48,10,24,16,"setRenderId"],[48,21,24,27],[48,22,24,28],[48,32,24,29,"prev"],[48,36,24,33],[49,12,24,33],[49,19,24,38,"prev"],[49,23,24,42],[49,26,24,45],[49,27,24,46],[50,10,24,46],[50,12,24,47],[51,8,25,12],[51,9,25,13],[52,8,26,12,"getRef"],[52,14,26,18],[52,16,26,20],[52,25,26,12,"getRef"],[52,31,26,18,"getRef"],[52,32,26,18],[52,34,26,26],[53,10,27,16],[53,14,27,20,"_a"],[53,16,27,22],[54,10,28,16],[54,17,28,23],[54,18,28,24,"_a"],[54,20,28,26],[54,23,28,29,"parentRecyclerViewContext"],[54,48,28,54],[54,53,28,59],[54,57,28,63],[54,61,28,67,"parentRecyclerViewContext"],[54,86,28,92],[54,91,28,97],[54,96,28,102],[54,97,28,103],[54,100,28,106],[54,105,28,111],[54,106,28,112],[54,109,28,115,"parentRecyclerViewContext"],[54,134,28,140],[54,135,28,141,"getRef"],[54,141,28,147],[54,142,28,148],[54,143,28,149],[54,149,28,155],[54,153,28,159],[54,157,28,163,"_a"],[54,159,28,165],[54,164,28,170],[54,169,28,175],[54,170,28,176],[54,173,28,179,"_a"],[54,175,28,181],[54,178,28,184],[54,182,28,188],[55,8,29,12],[55,9,29,13],[56,8,30,12,"getParentRef"],[56,20,30,24],[56,22,30,26],[56,31,30,12,"getParentRef"],[56,43,30,24,"getParentRef"],[56,44,30,24],[56,46,30,32],[57,10,31,16],[57,14,31,20,"_a"],[57,16,31,22],[58,10,32,16],[58,17,32,23],[58,18,32,24,"_a"],[58,20,32,26],[58,23,32,29,"parentRecyclerViewContext"],[58,48,32,54],[58,53,32,59],[58,57,32,63],[58,61,32,67,"parentRecyclerViewContext"],[58,86,32,92],[58,91,32,97],[58,96,32,102],[58,97,32,103],[58,100,32,106],[58,105,32,111],[58,106,32,112],[58,109,32,115,"parentRecyclerViewContext"],[58,134,32,140],[58,135,32,141,"getParentRef"],[58,147,32,153],[58,148,32,154],[58,149,32,155],[58,155,32,161],[58,159,32,165],[58,163,32,169,"_a"],[58,165,32,171],[58,170,32,176],[58,175,32,181],[58,176,32,182],[58,179,32,185,"_a"],[58,181,32,187],[58,184,32,190],[58,188,32,194],[59,8,33,12],[59,9,33,13],[60,8,34,12,"getParentScrollViewRef"],[60,30,34,34],[60,32,34,36],[60,41,34,12,"getParentScrollViewRef"],[60,63,34,34,"getParentScrollViewRef"],[60,64,34,34],[60,66,34,42],[61,10,35,16],[61,14,35,20,"_a"],[61,16,35,22],[62,10,36,16],[62,17,36,23],[62,18,36,24,"_a"],[62,20,36,26],[62,23,36,29,"parentRecyclerViewContext"],[62,48,36,54],[62,53,36,59],[62,57,36,63],[62,61,36,67,"parentRecyclerViewContext"],[62,86,36,92],[62,91,36,97],[62,96,36,102],[62,97,36,103],[62,100,36,106],[62,105,36,111],[62,106,36,112],[62,109,36,115,"parentRecyclerViewContext"],[62,134,36,140],[62,135,36,141,"getParentScrollViewRef"],[62,157,36,163],[62,158,36,164],[62,159,36,165],[62,165,36,171],[62,169,36,175],[62,173,36,179,"_a"],[62,175,36,181],[62,180,36,186],[62,185,36,191],[62,186,36,192],[62,189,36,195,"_a"],[62,191,36,197],[62,194,36,200],[62,198,36,204],[63,8,37,12],[63,9,37,13],[64,8,38,12,"getScrollViewRef"],[64,24,38,28],[64,26,38,30],[64,35,38,12,"getScrollViewRef"],[64,51,38,28,"getScrollViewRef"],[64,52,38,28],[64,54,38,36],[65,10,39,16],[65,14,39,20,"_a"],[65,16,39,22],[66,10,40,16],[66,17,40,23],[66,18,40,24,"_a"],[66,20,40,26],[66,23,40,29,"parentRecyclerViewContext"],[66,48,40,54],[66,53,40,59],[66,57,40,63],[66,61,40,67,"parentRecyclerViewContext"],[66,86,40,92],[66,91,40,97],[66,96,40,102],[66,97,40,103],[66,100,40,106],[66,105,40,111],[66,106,40,112],[66,109,40,115,"parentRecyclerViewContext"],[66,134,40,140],[66,135,40,141,"getScrollViewRef"],[66,151,40,157],[66,152,40,158],[66,153,40,159],[66,159,40,165],[66,163,40,169],[66,167,40,173,"_a"],[66,169,40,175],[66,174,40,180],[66,179,40,185],[66,180,40,186],[66,183,40,189,"_a"],[66,185,40,191],[66,188,40,194],[66,192,40,198],[67,8,41,12],[67,9,41,13],[68,8,42,12,"markChildLayoutAsPending"],[68,32,42,36],[68,34,42,38],[68,43,42,12,"markChildLayoutAsPending"],[68,67,42,36,"markChildLayoutAsPending"],[68,68,42,39,"id"],[68,70,42,41],[68,72,42,46],[69,10,43,16,"parentRecyclerViewContext"],[69,35,43,41],[69,40,43,46],[69,44,43,50],[69,48,43,54,"parentRecyclerViewContext"],[69,73,43,79],[69,78,43,84],[69,83,43,89],[69,84,43,90],[69,87,43,93],[69,92,43,98],[69,93,43,99],[69,96,43,102,"parentRecyclerViewContext"],[69,121,43,127],[69,122,43,128,"markChildLayoutAsPending"],[69,146,43,152],[69,147,43,153,"id"],[69,149,43,155],[69,150,43,156],[70,10,44,16,"pendingChildIds"],[70,25,44,31],[70,26,44,32,"add"],[70,29,44,35],[70,30,44,36,"id"],[70,32,44,38],[70,33,44,39],[71,8,45,12],[71,9,45,13],[72,8,46,12,"unmarkChildLayoutAsPending"],[72,34,46,38],[72,36,46,40],[72,45,46,12,"unmarkChildLayoutAsPending"],[72,71,46,38,"unmarkChildLayoutAsPending"],[72,72,46,41,"id"],[72,74,46,43],[72,76,46,48],[73,10,47,16,"parentRecyclerViewContext"],[73,35,47,41],[73,40,47,46],[73,44,47,50],[73,48,47,54,"parentRecyclerViewContext"],[73,73,47,79],[73,78,47,84],[73,83,47,89],[73,84,47,90],[73,87,47,93],[73,92,47,98],[73,93,47,99],[73,96,47,102,"parentRecyclerViewContext"],[73,121,47,127],[73,122,47,128,"unmarkChildLayoutAsPending"],[73,148,47,154],[73,149,47,155,"id"],[73,151,47,157],[73,152,47,158],[74,10,48,16],[74,14,48,20,"pendingChildIds"],[74,29,48,35],[74,30,48,36,"has"],[74,33,48,39],[74,34,48,40,"id"],[74,36,48,42],[74,37,48,43],[74,39,48,45],[75,12,49,20,"pendingChildIds"],[75,27,49,35],[75,28,49,36,"delete"],[75,34,49,42],[75,35,49,43,"id"],[75,37,49,45],[75,38,49,46],[76,12,50,20,"recyclerViewContext"],[76,31,50,39],[76,32,50,40,"layout"],[76,38,50,46],[76,39,50,47],[76,40,50,48],[77,10,51,16],[78,8,52,12],[79,6,53,8],[79,7,53,9],[80,4,54,4],[80,5,54,5],[80,7,54,7],[80,8,54,8,"parentRecyclerViewContext"],[80,33,54,33],[80,35,54,35,"pendingChildIds"],[80,50,54,50],[80,52,54,52,"setRenderId"],[80,63,54,63],[80,64,54,64],[80,65,54,65],[81,4,55,4],[81,24,55,12,"React"],[81,29,55,17],[81,30,55,17,"default"],[81,37,55,17],[81,38,55,18,"createElement"],[81,51,55,31],[81,52,55,32,"RecyclerViewContextProvider"],[81,80,55,59],[81,81,55,59,"RecyclerViewContextProvider"],[81,108,55,59],[81,110,55,61],[82,6,55,63,"value"],[82,11,55,68],[82,13,55,70,"recyclerViewContext"],[83,4,55,90],[83,5,55,91],[83,7,55,93,"children"],[83,15,55,101],[83,16,55,102],[84,2,56,0],[84,3,56,1],[84,4,56,2],[85,2,57,0,"LayoutCommitObserver"],[85,22,57,20],[85,23,57,21,"displayName"],[85,34,57,32],[85,37,57,35],[85,59,57,57],[86,0,57,58],[86,3]],"functionMap":{"names":["<global>","React.memo$argument_0","useLayoutEffect$argument_0","useMemo$argument_0","layout","setRenderId$argument_0","getRef","getParentRef","getParentScrollViewRef","getScrollViewRef","markChildLayoutAsPending","unmarkChildLayoutAsPending"],"mappings":"AAA;+CCQ;oBCK;KDK;wCEE;oBCE;4BCC,kBD;aDC;oBGC;aHG;0BIC;aJG;oCKC;aLG;8BMC;aNG;sCOC;aPG;wCQC;aRM;KFE;CDE"},"hasCjsExports":false},"type":"js/module"}]}